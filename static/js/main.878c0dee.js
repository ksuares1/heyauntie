/*! For license information please see main.878c0dee.js.LICENSE.txt */
!function(){var e={295:function(){},647:function(e,t,n){var r;e.exports=(r=n(791),function(){var e={378:function(e){"use strict";e.exports=function e(t,n){if(t===n)return!0;if(t&&n&&"object"==typeof t&&"object"==typeof n){if(t.constructor!==n.constructor)return!1;var r,o,i;if(Array.isArray(t)){if((r=t.length)!=n.length)return!1;for(o=r;0!=o--;)if(!e(t[o],n[o]))return!1;return!0}if(t.constructor===RegExp)return t.source===n.source&&t.flags===n.flags;if(t.valueOf!==Object.prototype.valueOf)return t.valueOf()===n.valueOf();if(t.toString!==Object.prototype.toString)return t.toString()===n.toString();if((r=(i=Object.keys(t)).length)!==Object.keys(n).length)return!1;for(o=r;0!=o--;)if(!Object.prototype.hasOwnProperty.call(n,i[o]))return!1;for(o=r;0!=o--;){var a=i[o];if(!e(t[a],n[a]))return!1}return!0}return t!=t&&n!=n}},145:function(e,t,n){"use strict";n.r(t),t.default="@keyframes spin{to{transform:rotate(360deg)}}.tf-v1-popover{bottom:96px;position:fixed;right:16px;z-index:10001}.tf-v1-popover.open{max-width:100%;min-height:360px;min-width:360px}.tf-v1-popover-wrapper{position:absolute;top:50%;left:50%;transform:translate(-50%, -50%);height:100%;width:100%;opacity:0;transition:opacity 0.25s ease-in-out;border-radius:4px;box-shadow:rgba(0,0,0,0.08) 0 2px 4px,rgba(0,0,0,0.06) 0 2px 12px}.tf-v1-popover-wrapper iframe{width:100%;height:100%;border:none;overflow:hidden;border-radius:8px}.tf-v1-popover-close{display:none}.tf-v1-popover-button{width:54px;height:54px;position:fixed;box-shadow:0 2px 12px rgba(0,0,0,0.06),0 2px 4px rgba(0,0,0,0.08);color:white;right:26px;bottom:26px;border-radius:50%;display:flex;align-items:center;justify-content:center;cursor:pointer;background:#3a7685;line-height:0;border:none;padding:0}.tf-v1-popover-button-icon{width:54px;height:54px;font-size:24px;border-radius:50%;overflow:hidden;display:flex;justify-content:center;align-items:center}.tf-v1-popover-button-icon svg.default{margin-top:6px}.tf-v1-popover-button-icon svg,.tf-v1-popover-button-icon img{max-width:54px;max-height:54px}.tf-v1-popover-button-icon img{width:100%;height:100%;object-fit:cover;border-radius:50%}.tf-v1-popover-tooltip{position:fixed;right:94px;bottom:33px;max-width:240px;padding:10px 25px 10px 10px;border-radius:8px;background:#ffffff;box-shadow:0 2px 4px rgba(0,0,0,0.08),0 2px 12px rgba(0,0,0,0.06);font-size:14px;font-family:Helvetica, Arial, sans-serif;line-height:22px}.tf-v1-popover-tooltip::before{background-color:#ffffff;content:'';display:block;width:12px;height:12px;position:absolute;right:-4px;bottom:15px;transform:rotate(45deg);box-shadow:2px -2px 2px 0 rgba(0,0,0,0.06)}.tf-v1-popover-tooltip-text{overflow:hidden}.tf-v1-popover-tooltip-close{color:rgba(0,0,0,0.2);cursor:pointer;margin-left:4px;display:inline-block;width:20px;height:20px;font-size:18px;text-align:center;position:absolute;top:8px;right:6px}.tf-v1-popover-tooltip-close:hover{color:rgba(0,0,0,0.3)}.tf-v1-popover-tooltip.closing{transition:opacity 0.25s ease-in-out;opacity:0}.tf-v1-popover-unread-dot{width:8px;height:8px;border-radius:50%;background-color:#fa6b05;border:2px solid #fff;position:absolute;top:2px;right:2px}.tf-v1-popover-unread-dot.closing{transition:opacity 0.25s ease-in-out;opacity:0}.tf-v1-spinner{border:3px solid #aaa;font-size:40px;width:1em;height:1em;border-radius:0.5em;box-sizing:border-box;animation:spin 1s linear infinite;border-top-color:#fff;position:absolute;top:50%;left:50%;margin:-20px 0 0 -20px}@media (max-width: 480px){.tf-v1-popover.open{top:0;left:0;bottom:0;right:0;width:100% !important;height:100% !important;width:100vw !important;height:100vh !important;max-height:stretch}.tf-v1-popover.open .tf-v1-popover-close{display:block}.tf-v1-popover-wrapper{border-radius:0;box-shadow:none}.tf-v1-popover-wrapper iframe{border-radius:0}.tf-v1-popover-close{position:absolute;font-size:32px;line-height:24px;width:24px;height:24px;text-align:center;cursor:pointer;opacity:0.75;transition:opacity 0.25s ease-in-out;text-decoration:none;color:#000;top:0.5rem;right:0.5rem;z-index:1;opacity:0}.tf-v1-popover-close:hover{opacity:1}}@media (max-width: 480px) and (min-width: 481px){.tf-v1-popover-close{color:#fff !important}}@media (max-width: 480px){.tf-v1-popover-button{width:44px;height:44px;right:8px;bottom:8px}.tf-v1-popover-button-icon{font-size:20px}.tf-v1-popover-button-icon svg{margin-top:4px;max-height:24px;max-width:24px}.tf-v1-popover-button-icon img{max-width:44px;max-height:44px}.tf-v1-popover-tooltip{position:fixed;right:66px;bottom:8px;left:auto;font-size:12px}.tf-v1-popover-tooltip::before{bottom:14px}.tf-v1-popover-unread-dot{top:0;right:0}.tf-v1-spinner{border:3px solid #aaa;font-size:32px;width:1em;height:1em;border-radius:0.5em;box-sizing:border-box;animation:spin 1s linear infinite;border-top-color:#fff;position:absolute;top:50%;left:50%;margin:-16px 0 0 -16px}}\n"},792:function(e,t,n){"use strict";n.r(t),t.default="@keyframes spin{to{transform:rotate(360deg)}}.tf-v1-popup{position:fixed;top:0;left:0;width:100%;height:100%;background:rgba(0,0,0,0.75);transition:opacity 0.25s ease-in-out;z-index:10001;display:flex;align-items:center;justify-content:center}.tf-v1-popup .tf-v1-iframe-wrapper{position:relative;transition:opacity 0.25s ease-in-out;min-width:360px;min-height:360px}.tf-v1-popup .tf-v1-iframe-wrapper iframe{width:100%;height:100%;border:none;overflow:hidden;border-radius:8px}.tf-v1-popup .tf-v1-close{position:absolute;font-size:32px;line-height:24px;width:24px;height:24px;text-align:center;cursor:pointer;opacity:0.75;transition:opacity 0.25s ease-in-out;text-decoration:none;color:#000;top:-34px;right:0}.tf-v1-popup .tf-v1-close:hover{opacity:1}@media (min-width: 481px){.tf-v1-popup .tf-v1-close{color:#fff !important}}.tf-v1-popup .tf-v1-spinner{border:3px solid #aaa;font-size:40px;width:1em;height:1em;border-radius:0.5em;box-sizing:border-box;animation:spin 1s linear infinite;border-top-color:#fff;position:absolute;top:50%;left:50%;margin:-20px 0 0 -20px}@media (max-width: 480px){.tf-v1-popup{width:100% !important;height:100% !important;width:100vw !important;height:100vh !important;max-height:stretch}.tf-v1-popup .tf-v1-iframe-wrapper{position:relative;transition:opacity 0.25s ease-in-out;min-width:100%;min-height:100%}.tf-v1-popup .tf-v1-iframe-wrapper iframe{border-radius:0}.tf-v1-popup .tf-v1-close{position:absolute;font-size:32px;line-height:24px;width:24px;height:24px;text-align:center;cursor:pointer;opacity:0.75;transition:opacity 0.25s ease-in-out;text-decoration:none;color:#000;top:6px;right:8px}.tf-v1-popup .tf-v1-close:hover{opacity:1}}@media (max-width: 480px) and (min-width: 481px){.tf-v1-popup .tf-v1-close{color:#fff !important}}\n"},838:function(e,t,n){"use strict";n.r(t),t.default="@keyframes spin{to{transform:rotate(360deg)}}.tf-v1-sidetab{position:fixed;top:50%;right:0;width:400px;height:580px;transform:translate(100%, -50%);box-shadow:0 2px 4px rgba(0,0,0,0.08),0 2px 12px rgba(0,0,0,0.06);z-index:10001;will-change:transform}.tf-v1-sidetab.ready{transition:transform 250ms ease-in-out}.tf-v1-sidetab iframe{width:100%;height:100%;border:none;overflow:hidden;border-radius:8px 0 0 8px}.tf-v1-sidetab.open{transform:translate(0, -50%)}.tf-v1-sidetab-wrapper{position:relative;height:100%}.tf-v1-sidetab-button{position:absolute;top:50%;left:-48px;transform:rotate(-90deg) translateX(-50%);transform-origin:left top;min-width:100px;max-width:540px;height:48px;display:flex;align-items:center;padding:12px 16px;border-radius:8px 8px 0 0;color:white;box-shadow:0 2px 4px rgba(0,0,0,0.08),0 2px 12px rgba(0,0,0,0.06);background-color:#3a7685;cursor:pointer;border:0;text-decoration:none;outline:none}.tf-v1-sidetab-button-text{flex:1;font-size:18px;font-family:Helvetica, Arial, sans-serif;white-space:nowrap;overflow:hidden;text-overflow:ellipsis}.tf-v1-sidetab-button-icon{width:24px;height:24px;font-size:24px;transform:rotate(90deg);margin-right:12px;position:relative;order:-1}.tf-v1-sidetab-button-icon>img{width:100%;height:100%;object-fit:contain}.tf-v1-sidetab-close{display:none}.tf-v1-sidetab .tf-v1-spinner{border:3px solid #aaa;font-size:24px;width:1em;height:1em;border-radius:0.5em;box-sizing:border-box;animation:spin 1s linear infinite;border-top-color:#fff;position:absolute;top:50%;left:50%;margin:-12px 0 0 -12px;top:0;left:0;margin:0}@media (max-width: 480px){.tf-v1-sidetab{transition:unset}.tf-v1-sidetab.ready{transition:unset}.tf-v1-sidetab.open{top:0;left:0;right:0;bottom:0;transform:translate(0, 0);width:100% !important;height:100% !important;width:100vw !important;height:100vh !important;max-height:stretch}.tf-v1-sidetab-close{position:absolute;font-size:32px;line-height:24px;width:24px;height:24px;text-align:center;cursor:pointer;opacity:0.75;transition:opacity 0.25s ease-in-out;text-decoration:none;color:#000;display:block;top:6px;right:8px;z-index:1}.tf-v1-sidetab-close:hover{opacity:1}}@media (max-width: 480px) and (min-width: 481px){.tf-v1-sidetab-close{color:#fff !important}}\n"},630:function(e,t,n){"use strict";n.r(t),t.default="@keyframes spin{to{transform:rotate(360deg)}}.tf-v1-slider{position:fixed;top:0;left:0;width:100%;height:100%;background:rgba(0,0,0,0.75);transition:opacity 0.25s ease-in-out;z-index:10001}.tf-v1-slider .tf-v1-iframe-wrapper{height:100%;position:absolute;top:0;transition:right 0.5s ease-in-out, left 0.5s ease-in-out}.tf-v1-slider .tf-v1-iframe-wrapper iframe{width:100%;height:100%;border:none;overflow:hidden}@media (min-width: 481px){.tf-v1-slider .tf-v1-iframe-wrapper iframe{border-radius:8px 0 0 8px}}.tf-v1-slider .tf-v1-close{position:absolute;font-size:32px;line-height:24px;width:24px;height:24px;text-align:center;cursor:pointer;opacity:0.75;transition:opacity 0.25s ease-in-out;text-decoration:none;color:#000}.tf-v1-slider .tf-v1-close:hover{opacity:1}@media (min-width: 481px){.tf-v1-slider .tf-v1-close{color:#fff !important}}@media (min-width: 481px){.tf-v1-slider .tf-v1-close{top:4px;left:-24px}}.tf-v1-slider .tf-v1-close:hover{opacity:1}.tf-v1-slider .tf-v1-spinner{border:3px solid #aaa;font-size:40px;width:1em;height:1em;border-radius:0.5em;box-sizing:border-box;animation:spin 1s linear infinite;border-top-color:#fff;position:absolute;top:50%;left:50%;margin:-20px 0 0 -20px}@media (min-width: 481px){.tf-v1-slider.left .tf-v1-iframe-wrapper iframe{border-radius:0 8px 8px 0}.tf-v1-slider.left .tf-v1-close{left:auto;right:-24px}}@media (max-width: 480px){.tf-v1-slider{width:100% !important;height:100% !important;width:100vw !important;height:100vh !important;max-height:stretch}.tf-v1-slider .tf-v1-iframe-wrapper{width:100% !important;height:100%;transition:unset}.tf-v1-slider .tf-v1-iframe-wrapper iframe{border-radius:none}.tf-v1-slider .tf-v1-close{position:absolute;font-size:32px;line-height:24px;width:24px;height:24px;text-align:center;cursor:pointer;opacity:0.75;transition:opacity 0.25s ease-in-out;text-decoration:none;color:#000;top:6px;right:8px;left:auto}.tf-v1-slider .tf-v1-close:hover{opacity:1}}@media (max-width: 480px) and (min-width: 481px){.tf-v1-slider .tf-v1-close{color:#fff !important}}\n"},684:function(e,t,n){"use strict";n.r(t),t.default=".tf-v1-widget{width:100%;height:100%;position:relative}.tf-v1-widget iframe{width:100%;height:100%;border:none;overflow:hidden;border-radius:8px}.tf-v1-widget-close{display:none}.tf-v1-widget-iframe-overlay{width:100%;height:100%;border:none;overflow:hidden;border-radius:8px;position:absolute;top:0;left:0}.tf-v1-widget-fullscreen{position:fixed;top:0;left:0;right:0;bottom:0;z-index:10001;width:100% !important;height:100% !important;width:100vw !important;height:100vh !important;max-height:stretch}.tf-v1-widget-fullscreen .tf-v1-widget-close{display:block;position:absolute;font-size:32px;line-height:24px;width:24px;height:24px;text-align:center;cursor:pointer;opacity:0.75;transition:opacity 0.25s ease-in-out;text-decoration:none;color:#000;top:4px;right:6px;z-index:1}.tf-v1-widget-fullscreen .tf-v1-widget-close:hover{opacity:1}@media (min-width: 481px){.tf-v1-widget-fullscreen .tf-v1-widget-close{color:#fff !important}}.tf-v1-widget-fullscreen iframe{border-radius:0}\n"},281:function(e,t,n){"use strict";var r=this&&this.__createBinding||(Object.create?function(e,t,n,r){void 0===r&&(r=n),Object.defineProperty(e,r,{enumerable:!0,get:function(){return t[n]}})}:function(e,t,n,r){void 0===r&&(r=n),e[r]=t[n]}),o=this&&this.__exportStar||function(e,t){for(var n in e)"default"===n||Object.prototype.hasOwnProperty.call(t,n)||r(t,e,n)};Object.defineProperty(t,"__esModule",{value:!0}),o(n(11),t),o(n(739),t),o(n(860),t)},794:function(e,t,n){"use strict";var r=this&&this.__assign||function(){return(r=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var o in t=arguments[n])Object.prototype.hasOwnProperty.call(t,o)&&(e[o]=t[o]);return e}).apply(this,arguments)},o=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0}),t.InlineStyle=void 0;var i=o(n(297)),a=o(n(52));t.InlineStyle=function(e){var t=e.filename,o=n(367)("./"+t+".css"),s=a.default();return i.default.createElement("style",r({},s?{nonce:s}:{}),o.default)}},11:function(e,t,n){"use strict";var r=this&&this.__assign||function(){return(r=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var o in t=arguments[n])Object.prototype.hasOwnProperty.call(t,o)&&(e[o]=t[o]);return e}).apply(this,arguments)},o=this&&this.__createBinding||(Object.create?function(e,t,n,r){void 0===r&&(r=n),Object.defineProperty(e,r,{enumerable:!0,get:function(){return t[n]}})}:function(e,t,n,r){void 0===r&&(r=n),e[r]=t[n]}),i=this&&this.__setModuleDefault||(Object.create?function(e,t){Object.defineProperty(e,"default",{enumerable:!0,value:t})}:function(e,t){e.default=t}),a=this&&this.__importStar||function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)"default"!==n&&Object.prototype.hasOwnProperty.call(e,n)&&o(t,e,n);return i(t,e),t},s=this&&this.__rest||function(e,t){var n={};for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(null!=e&&"function"==typeof Object.getOwnPropertySymbols){var o=0;for(r=Object.getOwnPropertySymbols(e);o<r.length;o++)t.indexOf(r[o])<0&&Object.prototype.propertyIsEnumerable.call(e,r[o])&&(n[r[o]]=e[r[o]])}return n};Object.defineProperty(t,"__esModule",{value:!0}),t.makeButtonComponent=void 0;var u=a(n(297)),c=n(794),l={unmount:function(){},open:function(){}};t.makeButtonComponent=function(e,t){return function(n){var o=n.id,i=n.children,a=n.as,d=void 0===a?"button":a,f=n.style,p=void 0===f?{}:f,h=n.className,E=void 0===h?"":h,g=n.buttonProps,v=s(n,["id","children","as","style","className","buttonProps"]),m=u.useRef(l);u.useEffect((function(){return m.current=e(o,v),function(){return m.current.unmount()}}),[o,v]);var _=u.useMemo((function(){return function(){return m.current.open()}}),[]),S=u.default.createElement(d,r({style:p,className:E,onClick:_,"data-testid":"tf-v1-"+t,children:i},g));return u.default.createElement(u.default.Fragment,null,u.default.createElement(c.InlineStyle,{filename:t}),S)}}},739:function(e,t,n){"use strict";var r=this&&this.__createBinding||(Object.create?function(e,t,n,r){void 0===r&&(r=n),Object.defineProperty(e,r,{enumerable:!0,get:function(){return t[n]}})}:function(e,t,n,r){void 0===r&&(r=n),e[r]=t[n]}),o=this&&this.__setModuleDefault||(Object.create?function(e,t){Object.defineProperty(e,"default",{enumerable:!0,value:t})}:function(e,t){e.default=t}),i=this&&this.__importStar||function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)"default"!==n&&Object.prototype.hasOwnProperty.call(e,n)&&r(t,e,n);return o(t,e),t},a=this&&this.__rest||function(e,t){var n={};for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(null!=e&&"function"==typeof Object.getOwnPropertySymbols){var o=0;for(r=Object.getOwnPropertySymbols(e);o<r.length;o++)t.indexOf(r[o])<0&&Object.prototype.propertyIsEnumerable.call(e,r[o])&&(n[r[o]]=e[r[o]])}return n};Object.defineProperty(t,"__esModule",{value:!0}),t.makeInitializerComponent=void 0;var s=i(n(297)),u=n(794);t.makeInitializerComponent=function(e,t){return function(n){var r=n.id,o=a(n,["id"]);return s.useEffect((function(){var t=e(r,o);return function(){t.unmount()}}),[r,o]),s.default.createElement(u.InlineStyle,{filename:t})}}},860:function(e,t,n){"use strict";var r=this&&this.__assign||function(){return(r=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var o in t=arguments[n])Object.prototype.hasOwnProperty.call(t,o)&&(e[o]=t[o]);return e}).apply(this,arguments)},o=this&&this.__createBinding||(Object.create?function(e,t,n,r){void 0===r&&(r=n),Object.defineProperty(e,r,{enumerable:!0,get:function(){return t[n]}})}:function(e,t,n,r){void 0===r&&(r=n),e[r]=t[n]}),i=this&&this.__setModuleDefault||(Object.create?function(e,t){Object.defineProperty(e,"default",{enumerable:!0,value:t})}:function(e,t){e.default=t}),a=this&&this.__importStar||function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)"default"!==n&&Object.prototype.hasOwnProperty.call(e,n)&&o(t,e,n);return i(t,e),t},s=this&&this.__rest||function(e,t){var n={};for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(null!=e&&"function"==typeof Object.getOwnPropertySymbols){var o=0;for(r=Object.getOwnPropertySymbols(e);o<r.length;o++)t.indexOf(r[o])<0&&Object.prototype.propertyIsEnumerable.call(e,r[o])&&(n[r[o]]=e[r[o]])}return n};Object.defineProperty(t,"__esModule",{value:!0}),t.Widget=void 0;var u=a(n(297)),c=n(611),l=n(794);t.Widget=function(e){var t=e.id,n=e.style,o=void 0===n?{}:n,i=e.className,a=void 0===i?"":i,d=s(e,["id","style","className"]),f=u.useRef(null);return u.useEffect((function(){if(f.current){var e=c.createWidget(t,r(r({},d),{container:f.current}));return function(){e.unmount()}}}),[t,d]),u.default.createElement(u.default.Fragment,null,u.default.createElement(l.InlineStyle,{filename:"widget"}),u.default.createElement("div",{style:o,className:a,ref:f}))}},582:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.Sidetab=t.Popover=t.SliderButton=t.PopupButton=t.Widget=void 0;var r=n(611),o=n(281),i=n(797),a=i.memoComponent(o.Widget);t.Widget=a;var s=i.memoComponent(o.makeButtonComponent(r.createPopup,"popup"));t.PopupButton=s;var u=i.memoComponent(o.makeButtonComponent(r.createSlider,"slider"));t.SliderButton=u;var c=i.memoComponent(o.makeInitializerComponent(r.createPopover,"popover"));t.Popover=c;var l=i.memoComponent(o.makeInitializerComponent(r.createSidetab,"sidetab"));t.Sidetab=l},797:function(e,t,n){"use strict";var r=this&&this.__createBinding||(Object.create?function(e,t,n,r){void 0===r&&(r=n),Object.defineProperty(e,r,{enumerable:!0,get:function(){return t[n]}})}:function(e,t,n,r){void 0===r&&(r=n),e[r]=t[n]}),o=this&&this.__exportStar||function(e,t){for(var n in e)"default"===n||Object.prototype.hasOwnProperty.call(t,n)||r(t,e,n)};Object.defineProperty(t,"__esModule",{value:!0}),o(n(553),t)},553:function(e,t,n){"use strict";var r=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0}),t.memoComponent=t.propsAreEqual=void 0;var o=n(297),i=r(n(378));t.propsAreEqual=function(e,t){return i.default(e,t)},t.memoComponent=function(e){return o.memo(e,t.propsAreEqual)}},52:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(){return void 0!==n.g.__webpack_nonce__?n.g.__webpack_nonce__:null}},367:function(e,t,n){var r={"./popover.css":145,"./popup.css":792,"./sidetab.css":838,"./slider.css":630,"./widget.css":684};function o(e){var t=i(e);return n(t)}function i(e){if(!n.o(r,e)){var t=new Error("Cannot find module '"+e+"'");throw t.code="MODULE_NOT_FOUND",t}return r[e]}o.keys=function(){return Object.keys(r)},o.resolve=i,e.exports=o,o.id=367},611:function(e){e.exports=function(){"use strict";var e={27:function(e,t){Object.defineProperty(t,"__esModule",{value:!0}),t.FORM_BASE_URL=t.POPUP_SIZE=t.SLIDER_WIDTH=t.SLIDER_POSITION=t.SIDETAB_ATTRIBUTE=t.WIDGET_ATTRIBUTE=t.SLIDER_ATTRIBUTE=t.POPUP_ATTRIBUTE=t.POPOVER_ATTRIBUTE=void 0,t.POPOVER_ATTRIBUTE="data-tf-popover",t.POPUP_ATTRIBUTE="data-tf-popup",t.SLIDER_ATTRIBUTE="data-tf-slider",t.WIDGET_ATTRIBUTE="data-tf-widget",t.SIDETAB_ATTRIBUTE="data-tf-sidetab",t.SLIDER_POSITION="right",t.SLIDER_WIDTH=800,t.POPUP_SIZE=100,t.FORM_BASE_URL="https://form.typeform.com"},528:function(e,t,n){var r=this&&this.__assign||function(){return(r=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var o in t=arguments[n])Object.prototype.hasOwnProperty.call(t,o)&&(e[o]=t[o]);return e}).apply(this,arguments)};Object.defineProperty(t,"__esModule",{value:!0}),t.createPopover=void 0;var o=n(747),i=n(320),a=function(e,t){var n=e.parentNode;n&&(n.removeChild(e),n.appendChild(t))},s=function(e,t){void 0===e&&(e="div"),void 0===t&&(t="tf-v1-popover-button-icon");var n=document.createElement(e);return n.className=t+" tf-v1-close-icon",n.innerHTML="&times;",n.dataset.testid=t,n},u={buttonColor:"#3a7685"};t.createPopover=function(e,t){void 0===t&&(t={});var n,c,l,d=r(r({},u),t),f=o.createIframe(e,"popover",d),p=f.iframe,h=f.embedId,E=f.refresh,g=function(e,t){var n=document.createElement("div");return n.className="tf-v1-popover",n.dataset.testid="tf-v1-popover",o.setElementSize(n,{width:e,height:t})}(d.width,d.height),v=function(){var e=document.createElement("div");return e.className="tf-v1-popover-wrapper",e.dataset.testid="tf-v1-popover-wrapper",e}(),m=function(e,t){var n=o.getTextColor(t),r=document.createElement("div");r.className="tf-v1-popover-button-icon";var i='<svg class="default" width="24" height="24" viewBox="0 0 24 24" fill="none" xmlns="http://www.w3.org/2000/svg">\n    <path d="M21 0H0V9L10.5743 24V16.5H21C22.6567 16.5 24 15.1567 24 13.5V3C24 1.34325 22.6567 0 21 0ZM7.5\n    9.75C6.672 9.75 6 9.07875 6 8.25C6 7.42125 6.672 6.75 7.5 6.75C8.328 6.75 9 7.42125 9 8.25C9 9.07875 8.328 9.75\n    7.5 9.75ZM12.75 9.75C11.922 9.75 11.25 9.07875 11.25 8.25C11.25 7.42125 11.922 6.75 12.75 6.75C13.578 6.75 14.25\n    7.42125 14.25 8.25C14.25 9.07875 13.578 9.75 12.75 9.75ZM18 9.75C17.172 9.75 16.5 9.07875 16.5 8.25C16.5 7.42125\n    17.172 6.75 18 6.75C18.828 6.75 19.5 7.42125 19.5 8.25C19.5 9.07875 18.828 9.75 18 9.75Z" fill="'+n+'"></path>\n  </svg>',a=null==e?void 0:e.startsWith("http");return r.innerHTML=a?"<img alt='popover trigger icon button' src='"+e+"'/>":null!=e?e:i,r.dataset.testid="default-icon",r}(d.customIcon,d.buttonColor||u.buttonColor),_=function(){var e=document.createElement("div");e.className="tf-v1-spinner";var t=document.createElement("div");return t.className="tf-v1-popover-button-icon",t.dataset.testid="spinner-icon",t.append(e),t}(),S=s(),y=s("a","tf-v1-popover-close"),C=function(e){var t=o.getTextColor(e),n=document.createElement("button");return n.className="tf-v1-popover-button",n.dataset.testid="tf-v1-popover-button",n.style.backgroundColor=e,n.style.color=t,n}(d.buttonColor||u.buttonColor);(d.container||document.body).append(g),v.append(p),g.append(C),g.append(y),C.append(m);var T=function(){c&&c.parentNode&&(c.classList.add("closing"),setTimeout((function(){o.unmountElement(c)}),250))};d.tooltip&&d.tooltip.length>0&&(c=function(e,t){var n=document.createElement("span");n.className="tf-v1-popover-tooltip-close",n.dataset.testid="tf-v1-popover-tooltip-close",n.innerHTML="&times;",n.onclick=t;var r=document.createElement("div");r.className="tf-v1-popover-tooltip-text",r.innerHTML=e;var o=document.createElement("div");return o.className="tf-v1-popover-tooltip",o.dataset.testid="tf-v1-popover-tooltip",o.appendChild(r),o.appendChild(n),o}(d.tooltip,T),g.append(c)),d.notificationDays&&(d.enableSandbox||i.canBuildNotificationDot(e))&&(l=i.buildNotificationDot(),C.append(l)),p.onload=function(){g.classList.add("open"),v.style.opacity="1",y.style.opacity="1",a(_,S),o.addCustomKeyboardListener(R)};var I=o.makeAutoResize(g),A=function(){o.isOpen(v)||(T(),l&&(l.classList.add("closing"),d.notificationDays&&!d.enableSandbox&&i.saveNotificationDotHideUntilTime(e,d.notificationDays),setTimeout((function(){o.unmountElement(l)}),250)),I(),window.addEventListener("resize",I),setTimeout((function(){o.isInPage(v)?(v.style.opacity="0",y.style.opacity="0",v.style.display="flex",setTimeout((function(){g.classList.add("open"),v.style.opacity="1",y.style.opacity="1"})),a(m,S)):(g.append(v),a(m,_),v.style.opacity="0",y.style.opacity="0")})))},R=function(){var e;o.isOpen(g)&&(null===(e=t.onClose)||void 0===e||e.call(t),setTimeout((function(){d.keepSession?v.style.display="none":o.unmountElement(v),g.classList.remove("open"),a(S,m)}),250))};o.setAutoClose(h,d.autoClose,R);var O=function(){o.isOpen(v)?R():A()};return C.onclick=O,y.onclick=R,d.open&&!o.isOpen(v)&&(n=o.handleCustomOpen(A,d.open,d.openValue)),{open:A,close:R,toggle:O,refresh:E,unmount:function(){o.unmountElement(g),window.removeEventListener("resize",I),d.open&&(null==n?void 0:n.remove)&&n.remove()}}}},797:function(e,t,n){var r=this&&this.__createBinding||(Object.create?function(e,t,n,r){void 0===r&&(r=n),Object.defineProperty(e,r,{enumerable:!0,get:function(){return t[n]}})}:function(e,t,n,r){void 0===r&&(r=n),e[r]=t[n]}),o=this&&this.__exportStar||function(e,t){for(var n in e)"default"===n||Object.prototype.hasOwnProperty.call(t,n)||r(t,e,n)};Object.defineProperty(t,"__esModule",{value:!0}),o(n(528),t),o(n(100),t)},320:function(e,t){var n=this&&this.__assign||function(){return(n=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var o in t=arguments[n])Object.prototype.hasOwnProperty.call(t,o)&&(e[o]=t[o]);return e}).apply(this,arguments)};Object.defineProperty(t,"__esModule",{value:!0}),t.buildNotificationDot=t.canBuildNotificationDot=t.saveNotificationDotHideUntilTime=void 0;var r="tfNotificationData",o=function(){var e=localStorage.getItem(r);return e?JSON.parse(e):{}},i=function(e){e&&localStorage.setItem(r,JSON.stringify(e))};t.saveNotificationDotHideUntilTime=function(e,t){var r,a=new Date;a.setDate(a.getDate()+t),i(n(n({},o()),((r={})[e]={hideUntilTime:a.getTime()},r)))},t.canBuildNotificationDot=function(e){var t=function(e){var t;return(null===(t=o()[e])||void 0===t?void 0:t.hideUntilTime)||0}(e);return(new Date).getTime()>t&&(t&&function(e){var t=o();delete t[e],i(t)}(e),!0)},t.buildNotificationDot=function(){var e=document.createElement("span");return e.className="tf-v1-popover-unread-dot",e.dataset.testid="tf-v1-popover-unread-dot",e}},100:function(e,t){Object.defineProperty(t,"__esModule",{value:!0})},630:function(e,t,n){var r=this&&this.__rest||function(e,t){var n={};for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(null!=e&&"function"==typeof Object.getOwnPropertySymbols){var o=0;for(r=Object.getOwnPropertySymbols(e);o<r.length;o++)t.indexOf(r[o])<0&&Object.prototype.propertyIsEnumerable.call(e,r[o])&&(n[r[o]]=e[r[o]])}return n};Object.defineProperty(t,"__esModule",{value:!0}),t.createPopup=void 0;var o=n(747),i=n(27),a=n(747);t.createPopup=function(e,t){if(void 0===t&&(t={}),!o.hasDom())return{open:function(){},close:function(){},toggle:function(){},refresh:function(){},unmount:function(){}};var n,s=t.width,u=t.height,c=t.size,l=void 0===c?i.POPUP_SIZE:c,d=t.onClose,f=r(t,["width","height","size","onClose"]),p=o.createIframe(e,"popup",f),h=p.iframe,E=p.embedId,g=p.refresh,v=document.body.style.overflow,m=function(){var e=document.createElement("div");return e.className="tf-v1-popup",e.dataset.testid="tf-v1-popup",e.style.opacity="0",e}(),_=function(){var e=document.createElement("div");return e.className="tf-v1-spinner",e}(),S=function(e,t,n){var r=document.createElement("div");return r.className="tf-v1-iframe-wrapper",r.style.opacity="0",o.isDefined(e)&&o.isDefined(t)?o.setElementSize(r,{width:e,height:t}):(r.style.width="calc("+n+"% - 80px)",r.style.height="calc("+n+"% - 80px)",r)}(s,u,l);S.append(h),m.append(_),m.append(S);var y=f.container||document.body;h.onload=function(){S.style.opacity="1",setTimeout((function(){_.style.display="none"}),250),o.addCustomKeyboardListener(I)};var C=a.makeAutoResize(m),T=function(){a.isOpen(m)||(a.isInPage(m)?m.style.display="flex":(_.style.display="block",y.append(m)),document.body.style.overflow="hidden",C(),window.addEventListener("resize",C),setTimeout((function(){m.style.opacity="1"})))},I=function(){a.isOpen(m)&&(null==d||d(),m.style.opacity="0",document.body.style.overflow=v,setTimeout((function(){f.keepSession?m.style.display="none":A()}),250))};S.append(function(e){var t=document.createElement("a");return t.className="tf-v1-close tf-v1-close-icon",t.innerHTML="&times;",t.onclick=e,t}(I)),o.setAutoClose(E,f.autoClose,I),f.open&&!a.isOpen(m)&&(n=o.handleCustomOpen(T,f.open,f.openValue));var A=function(){o.unmountElement(m),window.removeEventListener("resize",C),f.open&&(null==n?void 0:n.remove)&&n.remove()};return{open:T,close:I,toggle:function(){a.isOpen(m)?I():T()},refresh:g,unmount:A}}},970:function(e,t,n){var r=this&&this.__createBinding||(Object.create?function(e,t,n,r){void 0===r&&(r=n),Object.defineProperty(e,r,{enumerable:!0,get:function(){return t[n]}})}:function(e,t,n,r){void 0===r&&(r=n),e[r]=t[n]}),o=this&&this.__exportStar||function(e,t){for(var n in e)"default"===n||Object.prototype.hasOwnProperty.call(t,n)||r(t,e,n)};Object.defineProperty(t,"__esModule",{value:!0}),o(n(630),t),o(n(394),t)},394:function(e,t){Object.defineProperty(t,"__esModule",{value:!0})},382:function(e,t,n){var r=this&&this.__assign||function(){return(r=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var o in t=arguments[n])Object.prototype.hasOwnProperty.call(t,o)&&(e[o]=t[o]);return e}).apply(this,arguments)};Object.defineProperty(t,"__esModule",{value:!0}),t.createSidetab=void 0;var o=n(747),i={buttonColor:"#3a7685",buttonText:"Launch me"},a=function(e,t){void 0===e&&(e="div"),void 0===t&&(t="tf-v1-sidetab-button-icon");var n=document.createElement(e);return n.className=t+" tf-v1-close-icon",n.innerHTML="&times;",n.dataset.testid=t,n},s=function(e,t){var n=e.parentNode;n&&(n.removeChild(e),n.appendChild(t))};t.createSidetab=function(e,t){void 0===t&&(t={});var n,u=r(r({},i),t),c=o.createIframe(e,"side-tab",u),l=c.iframe,d=c.embedId,f=c.refresh,p=function(e,t){var n=document.createElement("div");return n.className="tf-v1-sidetab",n.dataset.testid="tf-v1-sidetab",o.setElementSize(n,{width:e,height:t})}(u.width,u.height),h=function(){var e=document.createElement("div");return e.className="tf-v1-sidetab-wrapper",e.dataset.testid="tf-v1-sidetab-wrapper",e}(),E=function(){var e=document.createElement("div");e.className="tf-v1-spinner";var t=document.createElement("div");return t.className="tf-v1-sidetab-button-icon",t.dataset.testid="spinner-icon",t.append(e),t}(),g=function(e){var t=o.getTextColor(e),n=document.createElement("button");return n.className="tf-v1-sidetab-button",n.style.backgroundColor=e,n.style.color=t,n}(u.buttonColor||i.buttonColor),v=function(e){var t=document.createElement("span");return t.className="tf-v1-sidetab-button-text",t.innerHTML=e,t}(u.buttonText||i.buttonText),m=function(e,t){var n=o.getTextColor(t),r=document.createElement("div");r.className="tf-v1-sidetab-button-icon";var i='<svg width="24" height="24" viewBox="0 0 24 24" fill="none" xmlns="http://www.w3.org/2000/svg">\n    <path d="M21 0H0V9L10.5743 24V16.5H21C22.6567 16.5 24 15.1567 24 13.5V3C24 1.34325 22.6567 0 21 0ZM7.5 9.75C6.672 9.75 6 9.07875 6 8.25C6 7.42125 6.672 6.75 7.5 6.75C8.328 6.75 9 7.42125 9 8.25C9 9.07875 8.328 9.75 7.5 9.75ZM12.75 9.75C11.922 9.75 11.25 9.07875 11.25 8.25C11.25 7.42125 11.922 6.75 12.75 6.75C13.578 6.75 14.25 7.42125 14.25 8.25C14.25 9.07875 13.578 9.75 12.75 9.75ZM18 9.75C17.172 9.75 16.5 9.07875 16.5 8.25C16.5 7.42125 17.172 6.75 18 6.75C18.828 6.75 19.5 7.42125 19.5 8.25C19.5 9.07875 18.828 9.75 18 9.75Z" fill="'+n+'"></path>\n  </svg>',a=null==e?void 0:e.startsWith("http");return r.innerHTML=a?"<img alt='popover trigger icon button' src='"+e+"'/>":null!=e?e:i,r.dataset.testid="default-icon",r}(u.customIcon,u.buttonColor||i.buttonColor),_=a(),S=a("a","tf-v1-sidetab-close");(u.container||document.body).append(p),h.append(l),p.append(g),p.append(S),g.append(m),g.append(v),setTimeout((function(){p.classList.add("ready")}),250),l.onload=function(){p.classList.add("open"),s(E,_),o.addCustomKeyboardListener(T)};var y=o.makeAutoResize(p),C=function(){o.isOpen(h)||(y(),window.addEventListener("resize",y),o.isInPage(h)?(h.style.display="flex",p.classList.add("open"),s(m,_)):(p.append(h),s(m,E)))},T=function(){var e;o.isOpen(h)&&(null===(e=u.onClose)||void 0===e||e.call(u),p.classList.remove("open"),setTimeout((function(){u.keepSession?h.style.display="none":o.unmountElement(h),s(_,m)}),250))};o.setAutoClose(d,u.autoClose,T);var I=function(){o.isOpen(h)?T():C()};return g.onclick=I,S.onclick=T,u.open&&!o.isOpen(h)&&(n=o.handleCustomOpen(C,u.open,u.openValue)),{open:C,close:T,toggle:I,refresh:f,unmount:function(){o.unmountElement(p),window.removeEventListener("resize",y),u.open&&(null==n?void 0:n.remove)&&n.remove()}}}},434:function(e,t,n){var r=this&&this.__createBinding||(Object.create?function(e,t,n,r){void 0===r&&(r=n),Object.defineProperty(e,r,{enumerable:!0,get:function(){return t[n]}})}:function(e,t,n,r){void 0===r&&(r=n),e[r]=t[n]}),o=this&&this.__exportStar||function(e,t){for(var n in e)"default"===n||Object.prototype.hasOwnProperty.call(t,n)||r(t,e,n)};Object.defineProperty(t,"__esModule",{value:!0}),o(n(382),t),o(n(668),t)},668:function(e,t){Object.defineProperty(t,"__esModule",{value:!0})},603:function(e,t,n){var r=this&&this.__rest||function(e,t){var n={};for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(null!=e&&"function"==typeof Object.getOwnPropertySymbols){var o=0;for(r=Object.getOwnPropertySymbols(e);o<r.length;o++)t.indexOf(r[o])<0&&Object.prototype.propertyIsEnumerable.call(e,r[o])&&(n[r[o]]=e[r[o]])}return n};Object.defineProperty(t,"__esModule",{value:!0}),t.createSlider=void 0;var o=n(747),i=n(27);t.createSlider=function(e,t){if(void 0===t&&(t={}),!o.hasDom())return{open:function(){},close:function(){},toggle:function(){},refresh:function(){},unmount:function(){}};var n,a=t.position,s=void 0===a?i.SLIDER_POSITION:a,u=t.width,c=void 0===u?i.SLIDER_WIDTH:u,l=t.onClose,d=r(t,["position","width","onClose"]),f=o.createIframe(e,"slider",d),p=f.iframe,h=f.embedId,E=f.refresh,g=document.body.style.overflow,v=function(e){var t=document.createElement("div");return t.className="tf-v1-slider "+e,t.dataset.testid="tf-v1-slider",t.style.opacity="0",t}(s),m=function(){var e=document.createElement("div");return e.className="tf-v1-spinner",e}(),_=function(e,t){var n=document.createElement("div");return n.className="tf-v1-iframe-wrapper",n.style[e]="-100%",o.setElementSize(n,{width:t})}(s,c);_.append(p),v.append(m),v.append(_);var S=d.container||document.body;p.onload=function(){_.style[s]="0",setTimeout((function(){m.style.display="none"}),500),o.addCustomKeyboardListener(T)};var y=o.makeAutoResize(v),C=function(){o.isOpen(v)||(y(),window.addEventListener("resize",y),o.isInPage(v)?(v.style.display="flex",setTimeout((function(){_.style[s]="0"}))):(S.append(v),m.style.display="block"),document.body.style.overflow="hidden",setTimeout((function(){v.style.opacity="1"})))},T=function(){o.isOpen(v)&&(null==l||l(),v.style.opacity="0",_.style[s]="-100%",document.body.style.overflow=g,setTimeout((function(){d.keepSession?v.style.display="none":I()}),500))};o.setAutoClose(h,d.autoClose,T),_.append(function(e){var t=document.createElement("a");return t.className="tf-v1-close tf-v1-close-icon",t.innerHTML="&times;",t.onclick=e,t}(T)),d.open&&!o.isOpen(v)&&(n=o.handleCustomOpen(C,d.open,d.openValue));var I=function(){o.unmountElement(v),window.removeEventListener("resize",y),d.open&&(null==n?void 0:n.remove)&&n.remove()};return{open:C,close:T,toggle:function(){o.isOpen(v)?T():C()},refresh:E,unmount:I}}},331:function(e,t,n){var r=this&&this.__createBinding||(Object.create?function(e,t,n,r){void 0===r&&(r=n),Object.defineProperty(e,r,{enumerable:!0,get:function(){return t[n]}})}:function(e,t,n,r){void 0===r&&(r=n),e[r]=t[n]}),o=this&&this.__exportStar||function(e,t){for(var n in e)"default"===n||Object.prototype.hasOwnProperty.call(t,n)||r(t,e,n)};Object.defineProperty(t,"__esModule",{value:!0}),o(n(603),t),o(n(162),t)},162:function(e,t){Object.defineProperty(t,"__esModule",{value:!0})},718:function(e,t,n){Object.defineProperty(t,"__esModule",{value:!0}),t.createWidget=void 0;var r=n(747),o=n(554),i=n(313);t.createWidget=function(e,t){if(!r.hasDom())return{refresh:function(){},unmount:function(){}};var n=t;t.inlineOnMobile||!t.forceTouch&&!r.isFullscreen()||(n.enableFullscreen=!0,n.forceTouch=!0);var a=r.createIframe(e,"widget",n),s=a.embedId,u=a.iframe,c=a.refresh,l=i.buildWidget(u,t.width,t.height);if(n.autoResize){var d="string"==typeof n.autoResize?n.autoResize.split(",").map((function(e){return parseInt(e)})):[],f=d[0],p=d[1];window.addEventListener("message",o.getFormHeightChangedHandler(s,(function(e){var n=Math.max(e.height+20,f||0);p&&(n=Math.min(n,p)),t.container.style.height=n+"px"})))}var h,E=function(){return t.container.append(l)};if(t.container.innerHTML="",t.lazy?r.lazyInitialize(t.container,E):E(),n.enableFullscreen){var g="",v=t.container,m=r.makeAutoResize(v),_=v.style.height;window.addEventListener("message",o.getWelcomeScreenHiddenHandler(s,(function(){v.classList.add("tf-v1-widget-fullscreen"),void 0!==t.opacity&&(v.style.backgroundColor=g),m(),window.addEventListener("resize",m)}))),window.addEventListener("message",o.getFormThemeHandler(s,(function(e){var t;g=r.changeColorOpacity(null===(t=null==e?void 0:e.theme)||void 0===t?void 0:t.backgroundColor)})));var S=((h=document.createElement("a")).className="tf-v1-widget-close tf-v1-close-icon",h.innerHTML="&times;",h);S.onclick=function(){var e;if(window.removeEventListener("resize",m),v.style.height=_,null===(e=t.onClose)||void 0===e||e.call(t),v.classList.remove("tf-v1-widget-fullscreen"),v.style.backgroundColor="",t.keepSession){var n=document.createElement("div");n.className="tf-v1-widget-iframe-overlay",n.onclick=function(){v.classList.add("tf-v1-widget-fullscreen"),r.unmountElement(n)},l.append(n)}else t.container.innerHTML="",E(),v.append(S)},v.append(S)}return{refresh:c,unmount:function(){return r.unmountElement(l)}}}},419:function(e,t,n){Object.defineProperty(t,"__esModule",{value:!0}),t.buildWidget=void 0;var r=n(747);t.buildWidget=function(e,t,n){var o=document.createElement("div");return o.className="tf-v1-widget",o.dataset.testid="tf-v1-widget",o.append(e),r.setElementSize(o,{width:t,height:n})}},313:function(e,t,n){var r=this&&this.__createBinding||(Object.create?function(e,t,n,r){void 0===r&&(r=n),Object.defineProperty(e,r,{enumerable:!0,get:function(){return t[n]}})}:function(e,t,n,r){void 0===r&&(r=n),e[r]=t[n]}),o=this&&this.__exportStar||function(e,t){for(var n in e)"default"===n||Object.prototype.hasOwnProperty.call(t,n)||r(t,e,n)};Object.defineProperty(t,"__esModule",{value:!0}),o(n(419),t)},321:function(e,t,n){var r=this&&this.__createBinding||(Object.create?function(e,t,n,r){void 0===r&&(r=n),Object.defineProperty(e,r,{enumerable:!0,get:function(){return t[n]}})}:function(e,t,n,r){void 0===r&&(r=n),e[r]=t[n]}),o=this&&this.__exportStar||function(e,t){for(var n in e)"default"===n||Object.prototype.hasOwnProperty.call(t,n)||r(t,e,n)};Object.defineProperty(t,"__esModule",{value:!0}),o(n(718),t),o(n(58),t)},58:function(e,t){Object.defineProperty(t,"__esModule",{value:!0})},920:function(e,t,n){var r=this&&this.__createBinding||(Object.create?function(e,t,n,r){void 0===r&&(r=n),Object.defineProperty(e,r,{enumerable:!0,get:function(){return t[n]}})}:function(e,t,n,r){void 0===r&&(r=n),e[r]=t[n]}),o=this&&this.__exportStar||function(e,t){for(var n in e)"default"===n||Object.prototype.hasOwnProperty.call(t,n)||r(t,e,n)};Object.defineProperty(t,"__esModule",{value:!0}),o(n(797),t),o(n(970),t),o(n(331),t),o(n(321),t),o(n(434),t)},626:function(e,t,n){var r=this&&this.__assign||function(){return(r=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var o in t=arguments[n])Object.prototype.hasOwnProperty.call(t,o)&&(e[o]=t[o]);return e}).apply(this,arguments)};Object.defineProperty(t,"__esModule",{value:!0}),t.buildIframeSrc=void 0;var o=n(27),i=n(527),a=n(346),s=n(698),u=n(863),c={widget:"embed-widget",popup:"popup-blank",slider:"popup-drawer",popover:"popup-popover","side-tab":"popup-side-panel"};t.buildIframeSrc=function(e){var t=e.formId,n=e.type,l=e.embedId,d=e.options,f=function(e,t,n){var o=n.transitiveSearchParams,i=n.source,a=n.medium,u=n.mediumVersion,l=n.hideFooter,d=n.hideHeaders,f=n.opacity,p=n.disableTracking,h=n.enableSandbox,E=n.disableAutoFocus,g=n.shareGaInstance,v=n.forceTouch,m=n.enableFullscreen,_=n.tracking,S=n.redirectTarget,y=s.getTransitiveSearchParams(o);return r(r(r({},{"typeform-embed-id":t,"typeform-embed":c[e],"typeform-source":i,"typeform-medium":a,"typeform-medium-version":u,"embed-hide-footer":l?"true":void 0,"embed-hide-headers":d?"true":void 0,"embed-opacity":f,"disable-tracking":p||h?"true":void 0,"disable-auto-focus":E?"true":void 0,"__dangerous-disable-submissions":h?"true":void 0,"share-ga-instance":g?"true":void 0,"force-touch":v?"true":void 0,"add-placeholder-ws":"widget"===e&&m?"true":void 0,"typeform-embed-redirect-target":S}),y),_)}(n,l,function(e){return r(r({},{source:null===(t=null===window||void 0===window?void 0:window.location)||void 0===t?void 0:t.hostname.replace(/^www\./,""),medium:"embed-sdk",mediumVersion:"next"}),i.removeUndefinedKeys(e));var t}(d)),p=function(e,t){void 0===t&&(t=!1);var n=t?"c":"to";return new URL(e.startsWith("http://")||e.startsWith("https://")?e:o.FORM_BASE_URL+"/"+n+"/"+e)}(t,d.chat);if(Object.entries(f).filter((function(e){var t=e[1];return a.isDefined(t)})).forEach((function(e){var t=e[0],n=e[1];p.searchParams.set(t,n)})),d.hubspot){var h=u.getHubspotHiddenFields();d.hidden=r(r({},d.hidden),h)}if(d.hidden){var E=new URL(o.FORM_BASE_URL);Object.entries(d.hidden).filter((function(e){var t=e[1];return a.isDefined(t)})).forEach((function(e){var t=e[0],n=e[1];E.searchParams.set(t,n)}));var g=E.searchParams.toString();g&&(p.hash=g)}return p.href}},391:function(e,t){Object.defineProperty(t,"__esModule",{value:!0}),t.changeColorOpacity=void 0,t.changeColorOpacity=function(e,t){return void 0===e&&(e=""),void 0===t&&(t=255),e.startsWith("rgba(")?null==e?void 0:e.replace(/, [\d.]+\)$/,", "+t+")"):e}},972:function(e,t){Object.defineProperty(t,"__esModule",{value:!0}),t.handleCustomOpen=void 0;var n={remove:function(){}};t.handleCustomOpen=function(e,t,r){switch(t){case"load":return e(),n;case"exit":return r?function(e,t){var n=0,r=function r(o){o.clientY<e&&o.clientY<n?(document.removeEventListener("mousemove",r,!0),t()):n=o.clientY};return document.addEventListener("mousemove",r,!0),{remove:function(){return document.removeEventListener("mousemove",r,!0)}}}(r,e):n;case"time":return setTimeout((function(){e()}),r),n;case"scroll":return r?function(e,t){function n(){var r=window.pageYOffset||document.documentElement.scrollTop,o=document.documentElement.clientTop||0,i=document.documentElement.scrollHeight,a=r-o,s=a/i*100,u=a+window.innerHeight>=i;(s>=e||u)&&(t(),document.removeEventListener("scroll",n))}return document.addEventListener("scroll",n),{remove:function(){return document.removeEventListener("scroll",n)}}}(r,e):n;default:return n}}},553:function(e,t,n){Object.defineProperty(t,"__esModule",{value:!0}),t.createIframe=void 0;var r=n(626),o=n(747),i=n(866),a=n(554),s=n(256),u=n(144),c=n(511);t.createIframe=function(e,t,n){var l=i.generateEmbedId(),d=n.iframeProps,f=void 0===d?{}:d,p=n.onReady,h=n.onQuestionChanged,E=n.onHeightChanged,g=n.onSubmit,v=n.onEndingButtonClick,m=n.shareGaInstance,_=r.buildIframeSrc({formId:e,embedId:l,type:t,options:n}),S=document.createElement("iframe");return S.src=_,S.dataset.testid="iframe",S.style.border="0px",S.allow="microphone; camera",Object.keys(f).forEach((function(e){S.setAttribute(e,f[e])})),S.addEventListener("load",s.triggerIframeRedraw,{once:!0}),window.addEventListener("message",a.getFormReadyHandler(l,p)),window.addEventListener("message",a.getFormQuestionChangedHandler(l,h)),window.addEventListener("message",a.getFormHeightChangedHandler(l,E)),window.addEventListener("message",a.getFormSubmitHandler(l,g)),window.addEventListener("message",a.getFormThemeHandler(l,(function(e){var t;if(null==e?void 0:e.theme){var n=document.querySelector(".tf-v1-close-icon");n&&(n.style.color=null===(t=e.theme)||void 0===t?void 0:t.color)}}))),window.addEventListener("message",a.getThankYouScreenButtonClickHandler(l,v)),"widget"!==t&&window.addEventListener("message",u.dispatchCustomKeyEventFromIframe),m&&window.addEventListener("message",a.getFormReadyHandler(l,(function(){o.setupGaInstance(S,l,m)}))),{iframe:S,embedId:l,refresh:function(){return c.refreshIframe(S)}}}},866:function(e,t){Object.defineProperty(t,"__esModule",{value:!0}),t.generateEmbedId=void 0,t.generateEmbedId=function(){var e=Math.random();return String(e).split(".")[1]}},554:function(e,t){var n=this&&this.__rest||function(e,t){var n={};for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(null!=e&&"function"==typeof Object.getOwnPropertySymbols){var o=0;for(r=Object.getOwnPropertySymbols(e);o<r.length;o++)t.indexOf(r[o])<0&&Object.prototype.propertyIsEnumerable.call(e,r[o])&&(n[r[o]]=e[r[o]])}return n};function r(e,t,r){return function(o){var i=o.data,a=i.type,s=i.embedId,u=n(i,["type","embedId"]);a===e&&s===t&&(null==r||r(u))}}Object.defineProperty(t,"__esModule",{value:!0}),t.getThankYouScreenButtonClickHandler=t.getFormThemeHandler=t.getWelcomeScreenHiddenHandler=t.getFormSubmitHandler=t.getFormHeightChangedHandler=t.getFormQuestionChangedHandler=t.getFormReadyHandler=void 0,t.getFormReadyHandler=function(e,t){return r("form-ready",e,t)},t.getFormQuestionChangedHandler=function(e,t){return r("form-screen-changed",e,t)},t.getFormHeightChangedHandler=function(e,t){return r("form-height-changed",e,t)},t.getFormSubmitHandler=function(e,t){return r("form-submit",e,t)},t.getWelcomeScreenHiddenHandler=function(e,t){return r("welcome-screen-hidden",e,t)},t.getFormThemeHandler=function(e,t){return r("form-theme",e,t)},t.getThankYouScreenButtonClickHandler=function(e,t){return r("thank-you-screen-button-click",e,t)}},339:function(e,t,n){var r=this&&this.__createBinding||(Object.create?function(e,t,n,r){void 0===r&&(r=n),Object.defineProperty(e,r,{enumerable:!0,get:function(){return t[n]}})}:function(e,t,n,r){void 0===r&&(r=n),e[r]=t[n]}),o=this&&this.__exportStar||function(e,t){for(var n in e)"default"===n||Object.prototype.hasOwnProperty.call(t,n)||r(t,e,n)};Object.defineProperty(t,"__esModule",{value:!0}),o(n(553),t),o(n(144),t)},511:function(e,t){Object.defineProperty(t,"__esModule",{value:!0}),t.refreshIframe=void 0,t.refreshIframe=function(e){if(e){var t=e.src;if(t.includes("&refresh")){var n=t.split("&refresh#");e.src=n.join("#")}else(n=t.split("#"))[0]=n[0]+"&refresh",e.src=n.join("#")}}},144:function(e,t){var n=this&&this.__awaiter||function(e,t,n,r){return new(n||(n=Promise))((function(o,i){function a(e){try{u(r.next(e))}catch(e){i(e)}}function s(e){try{u(r.throw(e))}catch(e){i(e)}}function u(e){var t;e.done?o(e.value):(t=e.value,t instanceof n?t:new n((function(e){e(t)}))).then(a,s)}u((r=r.apply(e,t||[])).next())}))},r=this&&this.__generator||function(e,t){var n,r,o,i,a={label:0,sent:function(){if(1&o[0])throw o[1];return o[1]},trys:[],ops:[]};return i={next:s(0),throw:s(1),return:s(2)},"function"==typeof Symbol&&(i[Symbol.iterator]=function(){return this}),i;function s(i){return function(s){return function(i){if(n)throw new TypeError("Generator is already executing.");for(;a;)try{if(n=1,r&&(o=2&i[0]?r.return:i[0]?r.throw||((o=r.return)&&o.call(r),0):r.next)&&!(o=o.call(r,i[1])).done)return o;switch(r=0,o&&(i=[2&i[0],o.value]),i[0]){case 0:case 1:o=i;break;case 4:return a.label++,{value:i[1],done:!1};case 5:a.label++,r=i[1],i=[0];continue;case 7:i=a.ops.pop(),a.trys.pop();continue;default:if(!((o=(o=a.trys).length>0&&o[o.length-1])||6!==i[0]&&2!==i[0])){a=0;continue}if(3===i[0]&&(!o||i[1]>o[0]&&i[1]<o[3])){a.label=i[1];break}if(6===i[0]&&a.label<o[1]){a.label=o[1],o=i;break}if(o&&a.label<o[2]){a.label=o[2],a.ops.push(i);break}o[2]&&a.ops.pop(),a.trys.pop();continue}i=t.call(e,a)}catch(e){i=[6,e],r=0}finally{n=o=0}if(5&i[0])throw i[1];return{value:i[0]?i[1]:void 0,done:!0}}([i,s])}}};Object.defineProperty(t,"__esModule",{value:!0}),t.dispatchCustomKeyEventFromIframe=t.removeCustomKeyboardListener=t.addCustomKeyboardListener=void 0;var o="Escape",i=function(e,i){return n(void 0,void 0,void 0,(function(){return r(this,(function(n){return e.code===o&&"function"==typeof i&&(i(),t.removeCustomKeyboardListener()),[2]}))}))};t.addCustomKeyboardListener=function(e){return window.document.addEventListener("keydown",(function(t){return i(t,e)}))},t.removeCustomKeyboardListener=function(){return window.document.removeEventListener("keydown",i)},t.dispatchCustomKeyEventFromIframe=function(e){"form-close"===e.data.type&&window.document.dispatchEvent(new KeyboardEvent("keydown",{code:o}))}},256:function(e,t){Object.defineProperty(t,"__esModule",{value:!0}),t.triggerIframeRedraw=void 0,t.triggerIframeRedraw=function(){this.style.transform="translateZ(0)"}},939:function(e,t,n){Object.defineProperty(t,"__esModule",{value:!0}),t.getTextColor=void 0;var r=n(938);t.getTextColor=function(e){if(!e)return"#FFFFFF";var t=e.startsWith("#")?r.hexRgb(e):function(e){var t={red:0,green:0,blue:0},n=e.match(/\d+/g);return n&&(t.red=parseInt(n[0],10),t.green=parseInt(n[0],10),t.blue=parseInt(n[0],10)),t}(e),n=t.red,o=t.green,i=t.blue;return Math.round((299*n+587*o+114*i)/1e3)>125?"#000000":"#FFFFFF"}},698:function(e,t){Object.defineProperty(t,"__esModule",{value:!0}),t.getTransitiveSearchParams=void 0,t.getTransitiveSearchParams=function(e){var t=new URL(window.location.href),n={};return e&&e.length>0&&e.forEach((function(e){t.searchParams.has(e)&&(n[e]=t.searchParams.get(e))})),n}},252:function(e,t){Object.defineProperty(t,"__esModule",{value:!0}),t.hasDom=void 0,t.hasDom=function(){return"undefined"!=typeof document&&"undefined"!=typeof window}},938:function(e,t){Object.defineProperty(t,"__esModule",{value:!0}),t.hexRgb=void 0;var n=new RegExp("[^#a-f\\d]","gi"),r=new RegExp("^#?[a-f\\d]{3}[a-f\\d]?$|^#?[a-f\\d]{6}([a-f\\d]{2})?$","i");t.hexRgb=function(e){if("string"!=typeof e||n.test(e)||!r.test(e))throw new TypeError("Expected a valid hex string");8===(e=e.replace(/^#/,"")).length&&(e=e.slice(0,6)),4===e.length&&(e=e.slice(0,3)),3===e.length&&(e=e[0]+e[0]+e[1]+e[1]+e[2]+e[2]);var t=Number.parseInt(e,16);return{red:t>>16,green:t>>8&255,blue:255&t}}},863:function(e,t){Object.defineProperty(t,"__esModule",{value:!0}),t.getHubspotHiddenFields=t.getHubspotCookieValue=void 0,t.getHubspotCookieValue=function(){var e=document.cookie.match(new RegExp("(^| )hubspotutk=([^;]+)"));return e&&e[2]||void 0},t.getHubspotHiddenFields=function(){return{hubspot_page_name:document.title,hubspot_page_url:window.location.href,hubspot_utk:t.getHubspotCookieValue()}}},71:function(e,t){Object.defineProperty(t,"__esModule",{value:!0}),t.includeCss=void 0,t.includeCss=function(e){var t=function(e){return"https://embed.typeform.com/next/css/"+e}(e);if(!document.querySelector('link[href="'+t+'"]')){var n=document.createElement("link");n.rel="stylesheet",n.href=t,document.head.append(n)}}},747:function(e,t,n){var r=this&&this.__createBinding||(Object.create?function(e,t,n,r){void 0===r&&(r=n),Object.defineProperty(e,r,{enumerable:!0,get:function(){return t[n]}})}:function(e,t,n,r){void 0===r&&(r=n),e[r]=t[n]}),o=this&&this.__exportStar||function(e,t){for(var n in e)"default"===n||Object.prototype.hasOwnProperty.call(t,n)||r(t,e,n)};Object.defineProperty(t,"__esModule",{value:!0}),o(n(626),t),o(n(339),t),o(n(252),t),o(n(71),t),o(n(346),t),o(n(377),t),o(n(563),t),o(n(527),t),o(n(533),t),o(n(451),t),o(n(972),t),o(n(748),t),o(n(392),t),o(n(939),t),o(n(917),t),o(n(987),t),o(n(318),t),o(n(391),t)},346:function(e,t){Object.defineProperty(t,"__esModule",{value:!0}),t.isDefined=void 0,t.isDefined=function(e){return null!=e}},987:function(e,t){Object.defineProperty(t,"__esModule",{value:!0}),t.isVisible=t.isInPage=t.isOpen=void 0,t.isOpen=function(e){return t.isInPage(e)&&t.isVisible(e)},t.isInPage=function(e){return!!e.parentNode},t.isVisible=function(e){return"none"!==e.style.display}},917:function(e,t){Object.defineProperty(t,"__esModule",{value:!0}),t.lazyInitialize=void 0,t.lazyInitialize=function(e,t){var n=new IntersectionObserver((function(e){e.forEach((function(e){e.isIntersecting&&(t(),n.unobserve(e.target))}))}));n.observe(e)}},377:function(e,t){var n=this&&this.__assign||function(){return(n=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var o in t=arguments[n])Object.prototype.hasOwnProperty.call(t,o)&&(e[o]=t[o]);return e}).apply(this,arguments)};Object.defineProperty(t,"__esModule",{value:!0}),t.loadOptionsFromAttributes=t.transformAttributeValue=t.camelCaseToKebabCase=void 0,t.camelCaseToKebabCase=function(e){return e.split("").map((function(e,t){return e.toUpperCase()===e?(0!==t?"-":"")+e.toLowerCase():e})).join("")};var r=function(e){return e||void 0},o=function(e){return""===e||"yes"===e||"true"===e},i=function(e){var t=e?parseInt(e,10):NaN;return isNaN(t)?void 0:t},a="%ESCAPED_COMMA%";t.transformAttributeValue=function(e,t){var s,u;switch(t){case"string":return r(e);case"boolean":return o(e);case"integer":return i(e);case"function":return function(e){var t=e&&e in window?window[e]:void 0;return"function"==typeof t?t:void 0}(e);case"array":return function(e){if(e)return e.replace(/\s/g,"").replace(/\\,/g,a).split(",").filter((function(e){return!!e})).map((function(e){return e.replace(a,",")}))}(e);case"record":return function(e){if(e)return e.replace(/\\,/g,a).split(",").filter((function(e){return!!e})).map((function(e){return e.replace(a,",")})).reduce((function(e,t){var r,o=t.match(/^([^=]+)=(.*)$/);if(o){var i=o[1],a=o[2];return n(n({},e),((r={})[i.trim()]=a,r))}return e}),{})}(e);case"integerOrBoolean":return null!==(s=i(e))&&void 0!==s?s:o(e);case"stringOrBoolean":return null!==(u=r(e))&&void 0!==u?u:o(e);default:throw new Error("Invalid attribute transformation "+t)}},t.loadOptionsFromAttributes=function(e,r){return Object.keys(r).reduce((function(o,i){var a;return n(n({},o),((a={})[i]=t.transformAttributeValue(e.getAttribute("data-tf-"+t.camelCaseToKebabCase(i)),r[i]),a))}),{})}},318:function(e,t,n){Object.defineProperty(t,"__esModule",{value:!0}),t.makeAutoResize=void 0;var r=n(563);t.makeAutoResize=function(e){return function(){e&&r.isMobile()&&e.style.setProperty("height",window.innerHeight+"px","important")}}},563:function(e,t){Object.defineProperty(t,"__esModule",{value:!0}),t.isFullscreen=t.isMobile=t.isBigScreen=void 0,t.isBigScreen=function(){return window.screen.width>=1024&&window.screen.height>=768},t.isMobile=function(){return/mobile|tablet|android/i.test(navigator.userAgent.toLowerCase())},t.isFullscreen=function(){return t.isMobile()&&!t.isBigScreen()}},527:function(e,t,n){var r=this&&this.__assign||function(){return(r=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var o in t=arguments[n])Object.prototype.hasOwnProperty.call(t,o)&&(e[o]=t[o]);return e}).apply(this,arguments)};Object.defineProperty(t,"__esModule",{value:!0}),t.removeUndefinedKeys=void 0;var o=n(346);t.removeUndefinedKeys=function(e){return Object.entries(e).filter((function(e){var t=e[1];return o.isDefined(t)})).reduce((function(e,t){var n,o=t[0],i=t[1];return r(r({},e),((n={})[o]=i,n))}),{})}},748:function(e,t,n){Object.defineProperty(t,"__esModule",{value:!0}),t.setAutoClose=void 0;var r=n(554);t.setAutoClose=function(e,t,n){if(t&&n){var o="number"==typeof t?t:0;window.addEventListener("message",r.getFormSubmitHandler(e,(function(){return setTimeout(n,o)})))}}},533:function(e,t){Object.defineProperty(t,"__esModule",{value:!0}),t.setElementSize=void 0,t.setElementSize=function(e,t){var n=t.width,r=t.height;return n&&(e.style.width=n+"px"),r&&(e.style.height=r+"px"),e}},392:function(e,t){Object.defineProperty(t,"__esModule",{value:!0}),t.setupGaInstance=t.sendGaIdMessage=void 0,t.sendGaIdMessage=function(e,t,n){var r={embedId:e,gaClientId:t};setTimeout((function(){n&&n.contentWindow&&n.contentWindow.postMessage({type:"ga-client-id",data:r},"*")}),0)};var n=function(e){console.error(e)};t.setupGaInstance=function(e,r,o){try{var i=window[window.GoogleAnalyticsObject],a="string"==typeof o?o:void 0,s=function(e,t){return t?e.find((function(e){return e.get("trackingId")===t})):e[0]}(i.getAll(),a);s?t.sendGaIdMessage(r,s.get("clientId"),e):n("Whoops! You enabled the shareGaInstance feature in your typeform embed but the tracker with ID "+a+" was not found. Make sure to include Google Analytics Javascript code before the Typeform Embed Javascript code in your page and use correct tracker ID. ")}catch(e){n("Whoops! You enabled the shareGaInstance feature in your typeform embed but the Google Analytics object has not been found. Make sure to include Google Analytics Javascript code before the Typeform Embed Javascript code in your page. "),n(e)}}},451:function(e,t){Object.defineProperty(t,"__esModule",{value:!0}),t.unmountElement=void 0,t.unmountElement=function(e){var t;null===(t=e.parentNode)||void 0===t||t.removeChild(e)}}},t={};return function n(r){if(t[r])return t[r].exports;var o=t[r]={exports:{}};return e[r].call(o.exports,o,o.exports,n),o.exports}(920)}()},297:function(e){"use strict";e.exports=r}},t={};function n(r){if(t[r])return t[r].exports;var o=t[r]={exports:{}};return e[r].call(o.exports,o,o.exports,n),o.exports}return n.g=function(){if("object"==typeof globalThis)return globalThis;try{return this||new Function("return this")()}catch(r){if("object"==typeof window)return window}}(),n.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},n.r=function(e){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},n(582)}())},694:function(e,t){var n;!function(){"use strict";var r={}.hasOwnProperty;function o(){for(var e=[],t=0;t<arguments.length;t++){var n=arguments[t];if(n){var i=typeof n;if("string"===i||"number"===i)e.push(n);else if(Array.isArray(n)){if(n.length){var a=o.apply(null,n);a&&e.push(a)}}else if("object"===i)if(n.toString===Object.prototype.toString)for(var s in n)r.call(n,s)&&n[s]&&e.push(s);else e.push(n.toString())}}return e.join(" ")}e.exports?(o.default=o,e.exports=o):void 0===(n=function(){return o}.apply(t,[]))||(e.exports=n)}()},176:function(e){"use strict";e.exports=function(e,t,n,r,o,i,a,s){if(!e){var u;if(void 0===t)u=new Error("Minified exception occurred; use the non-minified dev environment for the full error message and additional helpful warnings.");else{var c=[n,r,o,i,a,s],l=0;(u=new Error(t.replace(/%s/g,(function(){return c[l++]})))).name="Invariant Violation"}throw u.framesToPop=1,u}}},573:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(){for(var e=arguments.length,t=Array(e),n=0;n<e;n++)t[n]=arguments[n];function r(){for(var e=arguments.length,n=Array(e),r=0;r<e;r++)n[r]=arguments[r];var o=null;return t.forEach((function(e){if(null==o){var t=e.apply(void 0,n);null!=t&&(o=t)}})),o}return(0,i.default)(r)};var r,o=n(54),i=(r=o)&&r.__esModule?r:{default:r};e.exports=t.default},54:function(e,t){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(e){function t(t,n,r,o,i,a){var s=o||"<<anonymous>>",u=a||r;if(null==n[r])return t?new Error("Required "+i+" `"+u+"` was not specified in `"+s+"`."):null;for(var c=arguments.length,l=Array(c>6?c-6:0),d=6;d<c;d++)l[d-6]=arguments[d];return e.apply(void 0,[n,r,s,i,u].concat(l))}var n=t.bind(null,!1);return n.isRequired=t.bind(null,!0),n},e.exports=t.default},888:function(e,t,n){"use strict";var r=n(47);function o(){}function i(){}i.resetWarningCache=o,e.exports=function(){function e(e,t,n,o,i,a){if(a!==r){var s=new Error("Calling PropTypes validators directly is not supported by the `prop-types` package. Use PropTypes.checkPropTypes() to call them. Read more at http://fb.me/use-check-prop-types");throw s.name="Invariant Violation",s}}function t(){return e}e.isRequired=e;var n={array:e,bigint:e,bool:e,func:e,number:e,object:e,string:e,symbol:e,any:e,arrayOf:t,element:e,elementType:e,instanceOf:t,node:e,objectOf:t,oneOf:t,oneOfType:t,shape:t,exact:t,checkPropTypes:i,resetWarningCache:o};return n.PropTypes=n,n}},7:function(e,t,n){e.exports=n(888)()},47:function(e){"use strict";e.exports="SECRET_DO_NOT_PASS_THIS_OR_YOU_WILL_BE_FIRED"},463:function(e,t,n){"use strict";var r=n(791),o=n(296);function i(e){for(var t="https://reactjs.org/docs/error-decoder.html?invariant="+e,n=1;n<arguments.length;n++)t+="&args[]="+encodeURIComponent(arguments[n]);return"Minified React error #"+e+"; visit "+t+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}var a=new Set,s={};function u(e,t){c(e,t),c(e+"Capture",t)}function c(e,t){for(s[e]=t,e=0;e<t.length;e++)a.add(t[e])}var l=!("undefined"===typeof window||"undefined"===typeof window.document||"undefined"===typeof window.document.createElement),d=Object.prototype.hasOwnProperty,f=/^[:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD][:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\-.0-9\u00B7\u0300-\u036F\u203F-\u2040]*$/,p={},h={};function E(e,t,n,r,o,i,a){this.acceptsBooleans=2===t||3===t||4===t,this.attributeName=r,this.attributeNamespace=o,this.mustUseProperty=n,this.propertyName=e,this.type=t,this.sanitizeURL=i,this.removeEmptyString=a}var g={};"children dangerouslySetInnerHTML defaultValue defaultChecked innerHTML suppressContentEditableWarning suppressHydrationWarning style".split(" ").forEach((function(e){g[e]=new E(e,0,!1,e,null,!1,!1)})),[["acceptCharset","accept-charset"],["className","class"],["htmlFor","for"],["httpEquiv","http-equiv"]].forEach((function(e){var t=e[0];g[t]=new E(t,1,!1,e[1],null,!1,!1)})),["contentEditable","draggable","spellCheck","value"].forEach((function(e){g[e]=new E(e,2,!1,e.toLowerCase(),null,!1,!1)})),["autoReverse","externalResourcesRequired","focusable","preserveAlpha"].forEach((function(e){g[e]=new E(e,2,!1,e,null,!1,!1)})),"allowFullScreen async autoFocus autoPlay controls default defer disabled disablePictureInPicture disableRemotePlayback formNoValidate hidden loop noModule noValidate open playsInline readOnly required reversed scoped seamless itemScope".split(" ").forEach((function(e){g[e]=new E(e,3,!1,e.toLowerCase(),null,!1,!1)})),["checked","multiple","muted","selected"].forEach((function(e){g[e]=new E(e,3,!0,e,null,!1,!1)})),["capture","download"].forEach((function(e){g[e]=new E(e,4,!1,e,null,!1,!1)})),["cols","rows","size","span"].forEach((function(e){g[e]=new E(e,6,!1,e,null,!1,!1)})),["rowSpan","start"].forEach((function(e){g[e]=new E(e,5,!1,e.toLowerCase(),null,!1,!1)}));var v=/[\-:]([a-z])/g;function m(e){return e[1].toUpperCase()}function _(e,t,n,r){var o=g.hasOwnProperty(t)?g[t]:null;(null!==o?0!==o.type:r||!(2<t.length)||"o"!==t[0]&&"O"!==t[0]||"n"!==t[1]&&"N"!==t[1])&&(function(e,t,n,r){if(null===t||"undefined"===typeof t||function(e,t,n,r){if(null!==n&&0===n.type)return!1;switch(typeof t){case"function":case"symbol":return!0;case"boolean":return!r&&(null!==n?!n.acceptsBooleans:"data-"!==(e=e.toLowerCase().slice(0,5))&&"aria-"!==e);default:return!1}}(e,t,n,r))return!0;if(r)return!1;if(null!==n)switch(n.type){case 3:return!t;case 4:return!1===t;case 5:return isNaN(t);case 6:return isNaN(t)||1>t}return!1}(t,n,o,r)&&(n=null),r||null===o?function(e){return!!d.call(h,e)||!d.call(p,e)&&(f.test(e)?h[e]=!0:(p[e]=!0,!1))}(t)&&(null===n?e.removeAttribute(t):e.setAttribute(t,""+n)):o.mustUseProperty?e[o.propertyName]=null===n?3!==o.type&&"":n:(t=o.attributeName,r=o.attributeNamespace,null===n?e.removeAttribute(t):(n=3===(o=o.type)||4===o&&!0===n?"":""+n,r?e.setAttributeNS(r,t,n):e.setAttribute(t,n))))}"accent-height alignment-baseline arabic-form baseline-shift cap-height clip-path clip-rule color-interpolation color-interpolation-filters color-profile color-rendering dominant-baseline enable-background fill-opacity fill-rule flood-color flood-opacity font-family font-size font-size-adjust font-stretch font-style font-variant font-weight glyph-name glyph-orientation-horizontal glyph-orientation-vertical horiz-adv-x horiz-origin-x image-rendering letter-spacing lighting-color marker-end marker-mid marker-start overline-position overline-thickness paint-order panose-1 pointer-events rendering-intent shape-rendering stop-color stop-opacity strikethrough-position strikethrough-thickness stroke-dasharray stroke-dashoffset stroke-linecap stroke-linejoin stroke-miterlimit stroke-opacity stroke-width text-anchor text-decoration text-rendering underline-position underline-thickness unicode-bidi unicode-range units-per-em v-alphabetic v-hanging v-ideographic v-mathematical vector-effect vert-adv-y vert-origin-x vert-origin-y word-spacing writing-mode xmlns:xlink x-height".split(" ").forEach((function(e){var t=e.replace(v,m);g[t]=new E(t,1,!1,e,null,!1,!1)})),"xlink:actuate xlink:arcrole xlink:role xlink:show xlink:title xlink:type".split(" ").forEach((function(e){var t=e.replace(v,m);g[t]=new E(t,1,!1,e,"http://www.w3.org/1999/xlink",!1,!1)})),["xml:base","xml:lang","xml:space"].forEach((function(e){var t=e.replace(v,m);g[t]=new E(t,1,!1,e,"http://www.w3.org/XML/1998/namespace",!1,!1)})),["tabIndex","crossOrigin"].forEach((function(e){g[e]=new E(e,1,!1,e.toLowerCase(),null,!1,!1)})),g.xlinkHref=new E("xlinkHref",1,!1,"xlink:href","http://www.w3.org/1999/xlink",!0,!1),["src","href","action","formAction"].forEach((function(e){g[e]=new E(e,1,!1,e.toLowerCase(),null,!0,!0)}));var S=r.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED,y=Symbol.for("react.element"),C=Symbol.for("react.portal"),T=Symbol.for("react.fragment"),I=Symbol.for("react.strict_mode"),A=Symbol.for("react.profiler"),R=Symbol.for("react.provider"),O=Symbol.for("react.context"),N=Symbol.for("react.forward_ref"),b=Symbol.for("react.suspense"),w=Symbol.for("react.suspense_list"),P=Symbol.for("react.memo"),L=Symbol.for("react.lazy");Symbol.for("react.scope"),Symbol.for("react.debug_trace_mode");var M=Symbol.for("react.offscreen");Symbol.for("react.legacy_hidden"),Symbol.for("react.cache"),Symbol.for("react.tracing_marker");var D=Symbol.iterator;function x(e){return null===e||"object"!==typeof e?null:"function"===typeof(e=D&&e[D]||e["@@iterator"])?e:null}var k,U=Object.assign;function Y(e){if(void 0===k)try{throw Error()}catch(n){var t=n.stack.trim().match(/\n( *(at )?)/);k=t&&t[1]||""}return"\n"+k+e}var G=!1;function F(e,t){if(!e||G)return"";G=!0;var n=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{if(t)if(t=function(){throw Error()},Object.defineProperty(t.prototype,"props",{set:function(){throw Error()}}),"object"===typeof Reflect&&Reflect.construct){try{Reflect.construct(t,[])}catch(c){var r=c}Reflect.construct(e,[],t)}else{try{t.call()}catch(c){r=c}e.call(t.prototype)}else{try{throw Error()}catch(c){r=c}e()}}catch(c){if(c&&r&&"string"===typeof c.stack){for(var o=c.stack.split("\n"),i=r.stack.split("\n"),a=o.length-1,s=i.length-1;1<=a&&0<=s&&o[a]!==i[s];)s--;for(;1<=a&&0<=s;a--,s--)if(o[a]!==i[s]){if(1!==a||1!==s)do{if(a--,0>--s||o[a]!==i[s]){var u="\n"+o[a].replace(" at new "," at ");return e.displayName&&u.includes("<anonymous>")&&(u=u.replace("<anonymous>",e.displayName)),u}}while(1<=a&&0<=s);break}}}finally{G=!1,Error.prepareStackTrace=n}return(e=e?e.displayName||e.name:"")?Y(e):""}function K(e){switch(e.tag){case 5:return Y(e.type);case 16:return Y("Lazy");case 13:return Y("Suspense");case 19:return Y("SuspenseList");case 0:case 2:case 15:return e=F(e.type,!1);case 11:return e=F(e.type.render,!1);case 1:return e=F(e.type,!0);default:return""}}function B(e){if(null==e)return null;if("function"===typeof e)return e.displayName||e.name||null;if("string"===typeof e)return e;switch(e){case T:return"Fragment";case C:return"Portal";case A:return"Profiler";case I:return"StrictMode";case b:return"Suspense";case w:return"SuspenseList"}if("object"===typeof e)switch(e.$$typeof){case O:return(e.displayName||"Context")+".Consumer";case R:return(e._context.displayName||"Context")+".Provider";case N:var t=e.render;return(e=e.displayName)||(e=""!==(e=t.displayName||t.name||"")?"ForwardRef("+e+")":"ForwardRef"),e;case P:return null!==(t=e.displayName||null)?t:B(e.type)||"Memo";case L:t=e._payload,e=e._init;try{return B(e(t))}catch(n){}}return null}function j(e){var t=e.type;switch(e.tag){case 24:return"Cache";case 9:return(t.displayName||"Context")+".Consumer";case 10:return(t._context.displayName||"Context")+".Provider";case 18:return"DehydratedFragment";case 11:return e=(e=t.render).displayName||e.name||"",t.displayName||(""!==e?"ForwardRef("+e+")":"ForwardRef");case 7:return"Fragment";case 5:return t;case 4:return"Portal";case 3:return"Root";case 6:return"Text";case 16:return B(t);case 8:return t===I?"StrictMode":"Mode";case 22:return"Offscreen";case 12:return"Profiler";case 21:return"Scope";case 13:return"Suspense";case 19:return"SuspenseList";case 25:return"TracingMarker";case 1:case 0:case 17:case 2:case 14:case 15:if("function"===typeof t)return t.displayName||t.name||null;if("string"===typeof t)return t}return null}function V(e){switch(typeof e){case"boolean":case"number":case"string":case"undefined":case"object":return e;default:return""}}function H(e){var t=e.type;return(e=e.nodeName)&&"input"===e.toLowerCase()&&("checkbox"===t||"radio"===t)}function W(e){e._valueTracker||(e._valueTracker=function(e){var t=H(e)?"checked":"value",n=Object.getOwnPropertyDescriptor(e.constructor.prototype,t),r=""+e[t];if(!e.hasOwnProperty(t)&&"undefined"!==typeof n&&"function"===typeof n.get&&"function"===typeof n.set){var o=n.get,i=n.set;return Object.defineProperty(e,t,{configurable:!0,get:function(){return o.call(this)},set:function(e){r=""+e,i.call(this,e)}}),Object.defineProperty(e,t,{enumerable:n.enumerable}),{getValue:function(){return r},setValue:function(e){r=""+e},stopTracking:function(){e._valueTracker=null,delete e[t]}}}}(e))}function J(e){if(!e)return!1;var t=e._valueTracker;if(!t)return!0;var n=t.getValue(),r="";return e&&(r=H(e)?e.checked?"true":"false":e.value),(e=r)!==n&&(t.setValue(e),!0)}function z(e){if("undefined"===typeof(e=e||("undefined"!==typeof document?document:void 0)))return null;try{return e.activeElement||e.body}catch(t){return e.body}}function q(e,t){var n=t.checked;return U({},t,{defaultChecked:void 0,defaultValue:void 0,value:void 0,checked:null!=n?n:e._wrapperState.initialChecked})}function Q(e,t){var n=null==t.defaultValue?"":t.defaultValue,r=null!=t.checked?t.checked:t.defaultChecked;n=V(null!=t.value?t.value:n),e._wrapperState={initialChecked:r,initialValue:n,controlled:"checkbox"===t.type||"radio"===t.type?null!=t.checked:null!=t.value}}function X(e,t){null!=(t=t.checked)&&_(e,"checked",t,!1)}function $(e,t){X(e,t);var n=V(t.value),r=t.type;if(null!=n)"number"===r?(0===n&&""===e.value||e.value!=n)&&(e.value=""+n):e.value!==""+n&&(e.value=""+n);else if("submit"===r||"reset"===r)return void e.removeAttribute("value");t.hasOwnProperty("value")?ee(e,t.type,n):t.hasOwnProperty("defaultValue")&&ee(e,t.type,V(t.defaultValue)),null==t.checked&&null!=t.defaultChecked&&(e.defaultChecked=!!t.defaultChecked)}function Z(e,t,n){if(t.hasOwnProperty("value")||t.hasOwnProperty("defaultValue")){var r=t.type;if(!("submit"!==r&&"reset"!==r||void 0!==t.value&&null!==t.value))return;t=""+e._wrapperState.initialValue,n||t===e.value||(e.value=t),e.defaultValue=t}""!==(n=e.name)&&(e.name=""),e.defaultChecked=!!e._wrapperState.initialChecked,""!==n&&(e.name=n)}function ee(e,t,n){"number"===t&&z(e.ownerDocument)===e||(null==n?e.defaultValue=""+e._wrapperState.initialValue:e.defaultValue!==""+n&&(e.defaultValue=""+n))}var te=Array.isArray;function ne(e,t,n,r){if(e=e.options,t){t={};for(var o=0;o<n.length;o++)t["$"+n[o]]=!0;for(n=0;n<e.length;n++)o=t.hasOwnProperty("$"+e[n].value),e[n].selected!==o&&(e[n].selected=o),o&&r&&(e[n].defaultSelected=!0)}else{for(n=""+V(n),t=null,o=0;o<e.length;o++){if(e[o].value===n)return e[o].selected=!0,void(r&&(e[o].defaultSelected=!0));null!==t||e[o].disabled||(t=e[o])}null!==t&&(t.selected=!0)}}function re(e,t){if(null!=t.dangerouslySetInnerHTML)throw Error(i(91));return U({},t,{value:void 0,defaultValue:void 0,children:""+e._wrapperState.initialValue})}function oe(e,t){var n=t.value;if(null==n){if(n=t.children,t=t.defaultValue,null!=n){if(null!=t)throw Error(i(92));if(te(n)){if(1<n.length)throw Error(i(93));n=n[0]}t=n}null==t&&(t=""),n=t}e._wrapperState={initialValue:V(n)}}function ie(e,t){var n=V(t.value),r=V(t.defaultValue);null!=n&&((n=""+n)!==e.value&&(e.value=n),null==t.defaultValue&&e.defaultValue!==n&&(e.defaultValue=n)),null!=r&&(e.defaultValue=""+r)}function ae(e){var t=e.textContent;t===e._wrapperState.initialValue&&""!==t&&null!==t&&(e.value=t)}function se(e){switch(e){case"svg":return"http://www.w3.org/2000/svg";case"math":return"http://www.w3.org/1998/Math/MathML";default:return"http://www.w3.org/1999/xhtml"}}function ue(e,t){return null==e||"http://www.w3.org/1999/xhtml"===e?se(t):"http://www.w3.org/2000/svg"===e&&"foreignObject"===t?"http://www.w3.org/1999/xhtml":e}var ce,le,de=(le=function(e,t){if("http://www.w3.org/2000/svg"!==e.namespaceURI||"innerHTML"in e)e.innerHTML=t;else{for((ce=ce||document.createElement("div")).innerHTML="<svg>"+t.valueOf().toString()+"</svg>",t=ce.firstChild;e.firstChild;)e.removeChild(e.firstChild);for(;t.firstChild;)e.appendChild(t.firstChild)}},"undefined"!==typeof MSApp&&MSApp.execUnsafeLocalFunction?function(e,t,n,r){MSApp.execUnsafeLocalFunction((function(){return le(e,t)}))}:le);function fe(e,t){if(t){var n=e.firstChild;if(n&&n===e.lastChild&&3===n.nodeType)return void(n.nodeValue=t)}e.textContent=t}var pe={animationIterationCount:!0,aspectRatio:!0,borderImageOutset:!0,borderImageSlice:!0,borderImageWidth:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,columns:!0,flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,flexOrder:!0,gridArea:!0,gridRow:!0,gridRowEnd:!0,gridRowSpan:!0,gridRowStart:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnSpan:!0,gridColumnStart:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeDasharray:!0,strokeDashoffset:!0,strokeMiterlimit:!0,strokeOpacity:!0,strokeWidth:!0},he=["Webkit","ms","Moz","O"];function Ee(e,t,n){return null==t||"boolean"===typeof t||""===t?"":n||"number"!==typeof t||0===t||pe.hasOwnProperty(e)&&pe[e]?(""+t).trim():t+"px"}function ge(e,t){for(var n in e=e.style,t)if(t.hasOwnProperty(n)){var r=0===n.indexOf("--"),o=Ee(n,t[n],r);"float"===n&&(n="cssFloat"),r?e.setProperty(n,o):e[n]=o}}Object.keys(pe).forEach((function(e){he.forEach((function(t){t=t+e.charAt(0).toUpperCase()+e.substring(1),pe[t]=pe[e]}))}));var ve=U({menuitem:!0},{area:!0,base:!0,br:!0,col:!0,embed:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0});function me(e,t){if(t){if(ve[e]&&(null!=t.children||null!=t.dangerouslySetInnerHTML))throw Error(i(137,e));if(null!=t.dangerouslySetInnerHTML){if(null!=t.children)throw Error(i(60));if("object"!==typeof t.dangerouslySetInnerHTML||!("__html"in t.dangerouslySetInnerHTML))throw Error(i(61))}if(null!=t.style&&"object"!==typeof t.style)throw Error(i(62))}}function _e(e,t){if(-1===e.indexOf("-"))return"string"===typeof t.is;switch(e){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var Se=null;function ye(e){return(e=e.target||e.srcElement||window).correspondingUseElement&&(e=e.correspondingUseElement),3===e.nodeType?e.parentNode:e}var Ce=null,Te=null,Ie=null;function Ae(e){if(e=So(e)){if("function"!==typeof Ce)throw Error(i(280));var t=e.stateNode;t&&(t=Co(t),Ce(e.stateNode,e.type,t))}}function Re(e){Te?Ie?Ie.push(e):Ie=[e]:Te=e}function Oe(){if(Te){var e=Te,t=Ie;if(Ie=Te=null,Ae(e),t)for(e=0;e<t.length;e++)Ae(t[e])}}function Ne(e,t){return e(t)}function be(){}var we=!1;function Pe(e,t,n){if(we)return e(t,n);we=!0;try{return Ne(e,t,n)}finally{we=!1,(null!==Te||null!==Ie)&&(be(),Oe())}}function Le(e,t){var n=e.stateNode;if(null===n)return null;var r=Co(n);if(null===r)return null;n=r[t];e:switch(t){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(r=!r.disabled)||(r=!("button"===(e=e.type)||"input"===e||"select"===e||"textarea"===e)),e=!r;break e;default:e=!1}if(e)return null;if(n&&"function"!==typeof n)throw Error(i(231,t,typeof n));return n}var Me=!1;if(l)try{var De={};Object.defineProperty(De,"passive",{get:function(){Me=!0}}),window.addEventListener("test",De,De),window.removeEventListener("test",De,De)}catch(le){Me=!1}function xe(e,t,n,r,o,i,a,s,u){var c=Array.prototype.slice.call(arguments,3);try{t.apply(n,c)}catch(l){this.onError(l)}}var ke=!1,Ue=null,Ye=!1,Ge=null,Fe={onError:function(e){ke=!0,Ue=e}};function Ke(e,t,n,r,o,i,a,s,u){ke=!1,Ue=null,xe.apply(Fe,arguments)}function Be(e){var t=e,n=e;if(e.alternate)for(;t.return;)t=t.return;else{e=t;do{0!==(4098&(t=e).flags)&&(n=t.return),e=t.return}while(e)}return 3===t.tag?n:null}function je(e){if(13===e.tag){var t=e.memoizedState;if(null===t&&(null!==(e=e.alternate)&&(t=e.memoizedState)),null!==t)return t.dehydrated}return null}function Ve(e){if(Be(e)!==e)throw Error(i(188))}function He(e){return null!==(e=function(e){var t=e.alternate;if(!t){if(null===(t=Be(e)))throw Error(i(188));return t!==e?null:e}for(var n=e,r=t;;){var o=n.return;if(null===o)break;var a=o.alternate;if(null===a){if(null!==(r=o.return)){n=r;continue}break}if(o.child===a.child){for(a=o.child;a;){if(a===n)return Ve(o),e;if(a===r)return Ve(o),t;a=a.sibling}throw Error(i(188))}if(n.return!==r.return)n=o,r=a;else{for(var s=!1,u=o.child;u;){if(u===n){s=!0,n=o,r=a;break}if(u===r){s=!0,r=o,n=a;break}u=u.sibling}if(!s){for(u=a.child;u;){if(u===n){s=!0,n=a,r=o;break}if(u===r){s=!0,r=a,n=o;break}u=u.sibling}if(!s)throw Error(i(189))}}if(n.alternate!==r)throw Error(i(190))}if(3!==n.tag)throw Error(i(188));return n.stateNode.current===n?e:t}(e))?We(e):null}function We(e){if(5===e.tag||6===e.tag)return e;for(e=e.child;null!==e;){var t=We(e);if(null!==t)return t;e=e.sibling}return null}var Je=o.unstable_scheduleCallback,ze=o.unstable_cancelCallback,qe=o.unstable_shouldYield,Qe=o.unstable_requestPaint,Xe=o.unstable_now,$e=o.unstable_getCurrentPriorityLevel,Ze=o.unstable_ImmediatePriority,et=o.unstable_UserBlockingPriority,tt=o.unstable_NormalPriority,nt=o.unstable_LowPriority,rt=o.unstable_IdlePriority,ot=null,it=null;var at=Math.clz32?Math.clz32:function(e){return 0===(e>>>=0)?32:31-(st(e)/ut|0)|0},st=Math.log,ut=Math.LN2;var ct=64,lt=4194304;function dt(e){switch(e&-e){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return 4194240&e;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return 130023424&e;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 1073741824;default:return e}}function ft(e,t){var n=e.pendingLanes;if(0===n)return 0;var r=0,o=e.suspendedLanes,i=e.pingedLanes,a=268435455&n;if(0!==a){var s=a&~o;0!==s?r=dt(s):0!==(i&=a)&&(r=dt(i))}else 0!==(a=n&~o)?r=dt(a):0!==i&&(r=dt(i));if(0===r)return 0;if(0!==t&&t!==r&&0===(t&o)&&((o=r&-r)>=(i=t&-t)||16===o&&0!==(4194240&i)))return t;if(0!==(4&r)&&(r|=16&n),0!==(t=e.entangledLanes))for(e=e.entanglements,t&=r;0<t;)o=1<<(n=31-at(t)),r|=e[n],t&=~o;return r}function pt(e,t){switch(e){case 1:case 2:case 4:return t+250;case 8:case 16:case 32:case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return t+5e3;default:return-1}}function ht(e){return 0!==(e=-1073741825&e.pendingLanes)?e:1073741824&e?1073741824:0}function Et(){var e=ct;return 0===(4194240&(ct<<=1))&&(ct=64),e}function gt(e){for(var t=[],n=0;31>n;n++)t.push(e);return t}function vt(e,t,n){e.pendingLanes|=t,536870912!==t&&(e.suspendedLanes=0,e.pingedLanes=0),(e=e.eventTimes)[t=31-at(t)]=n}function mt(e,t){var n=e.entangledLanes|=t;for(e=e.entanglements;n;){var r=31-at(n),o=1<<r;o&t|e[r]&t&&(e[r]|=t),n&=~o}}var _t=0;function St(e){return 1<(e&=-e)?4<e?0!==(268435455&e)?16:536870912:4:1}var yt,Ct,Tt,It,At,Rt=!1,Ot=[],Nt=null,bt=null,wt=null,Pt=new Map,Lt=new Map,Mt=[],Dt="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset submit".split(" ");function xt(e,t){switch(e){case"focusin":case"focusout":Nt=null;break;case"dragenter":case"dragleave":bt=null;break;case"mouseover":case"mouseout":wt=null;break;case"pointerover":case"pointerout":Pt.delete(t.pointerId);break;case"gotpointercapture":case"lostpointercapture":Lt.delete(t.pointerId)}}function kt(e,t,n,r,o,i){return null===e||e.nativeEvent!==i?(e={blockedOn:t,domEventName:n,eventSystemFlags:r,nativeEvent:i,targetContainers:[o]},null!==t&&(null!==(t=So(t))&&Ct(t)),e):(e.eventSystemFlags|=r,t=e.targetContainers,null!==o&&-1===t.indexOf(o)&&t.push(o),e)}function Ut(e){var t=_o(e.target);if(null!==t){var n=Be(t);if(null!==n)if(13===(t=n.tag)){if(null!==(t=je(n)))return e.blockedOn=t,void At(e.priority,(function(){Tt(n)}))}else if(3===t&&n.stateNode.current.memoizedState.isDehydrated)return void(e.blockedOn=3===n.tag?n.stateNode.containerInfo:null)}e.blockedOn=null}function Yt(e){if(null!==e.blockedOn)return!1;for(var t=e.targetContainers;0<t.length;){var n=qt(e.domEventName,e.eventSystemFlags,t[0],e.nativeEvent);if(null!==n)return null!==(t=So(n))&&Ct(t),e.blockedOn=n,!1;var r=new(n=e.nativeEvent).constructor(n.type,n);Se=r,n.target.dispatchEvent(r),Se=null,t.shift()}return!0}function Gt(e,t,n){Yt(e)&&n.delete(t)}function Ft(){Rt=!1,null!==Nt&&Yt(Nt)&&(Nt=null),null!==bt&&Yt(bt)&&(bt=null),null!==wt&&Yt(wt)&&(wt=null),Pt.forEach(Gt),Lt.forEach(Gt)}function Kt(e,t){e.blockedOn===t&&(e.blockedOn=null,Rt||(Rt=!0,o.unstable_scheduleCallback(o.unstable_NormalPriority,Ft)))}function Bt(e){function t(t){return Kt(t,e)}if(0<Ot.length){Kt(Ot[0],e);for(var n=1;n<Ot.length;n++){var r=Ot[n];r.blockedOn===e&&(r.blockedOn=null)}}for(null!==Nt&&Kt(Nt,e),null!==bt&&Kt(bt,e),null!==wt&&Kt(wt,e),Pt.forEach(t),Lt.forEach(t),n=0;n<Mt.length;n++)(r=Mt[n]).blockedOn===e&&(r.blockedOn=null);for(;0<Mt.length&&null===(n=Mt[0]).blockedOn;)Ut(n),null===n.blockedOn&&Mt.shift()}var jt=S.ReactCurrentBatchConfig,Vt=!0;function Ht(e,t,n,r){var o=_t,i=jt.transition;jt.transition=null;try{_t=1,Jt(e,t,n,r)}finally{_t=o,jt.transition=i}}function Wt(e,t,n,r){var o=_t,i=jt.transition;jt.transition=null;try{_t=4,Jt(e,t,n,r)}finally{_t=o,jt.transition=i}}function Jt(e,t,n,r){if(Vt){var o=qt(e,t,n,r);if(null===o)Vr(e,t,r,zt,n),xt(e,r);else if(function(e,t,n,r,o){switch(t){case"focusin":return Nt=kt(Nt,e,t,n,r,o),!0;case"dragenter":return bt=kt(bt,e,t,n,r,o),!0;case"mouseover":return wt=kt(wt,e,t,n,r,o),!0;case"pointerover":var i=o.pointerId;return Pt.set(i,kt(Pt.get(i)||null,e,t,n,r,o)),!0;case"gotpointercapture":return i=o.pointerId,Lt.set(i,kt(Lt.get(i)||null,e,t,n,r,o)),!0}return!1}(o,e,t,n,r))r.stopPropagation();else if(xt(e,r),4&t&&-1<Dt.indexOf(e)){for(;null!==o;){var i=So(o);if(null!==i&&yt(i),null===(i=qt(e,t,n,r))&&Vr(e,t,r,zt,n),i===o)break;o=i}null!==o&&r.stopPropagation()}else Vr(e,t,r,null,n)}}var zt=null;function qt(e,t,n,r){if(zt=null,null!==(e=_o(e=ye(r))))if(null===(t=Be(e)))e=null;else if(13===(n=t.tag)){if(null!==(e=je(t)))return e;e=null}else if(3===n){if(t.stateNode.current.memoizedState.isDehydrated)return 3===t.tag?t.stateNode.containerInfo:null;e=null}else t!==e&&(e=null);return zt=e,null}function Qt(e){switch(e){case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 1;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"toggle":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 4;case"message":switch($e()){case Ze:return 1;case et:return 4;case tt:case nt:return 16;case rt:return 536870912;default:return 16}default:return 16}}var Xt=null,$t=null,Zt=null;function en(){if(Zt)return Zt;var e,t,n=$t,r=n.length,o="value"in Xt?Xt.value:Xt.textContent,i=o.length;for(e=0;e<r&&n[e]===o[e];e++);var a=r-e;for(t=1;t<=a&&n[r-t]===o[i-t];t++);return Zt=o.slice(e,1<t?1-t:void 0)}function tn(e){var t=e.keyCode;return"charCode"in e?0===(e=e.charCode)&&13===t&&(e=13):e=t,10===e&&(e=13),32<=e||13===e?e:0}function nn(){return!0}function rn(){return!1}function on(e){function t(t,n,r,o,i){for(var a in this._reactName=t,this._targetInst=r,this.type=n,this.nativeEvent=o,this.target=i,this.currentTarget=null,e)e.hasOwnProperty(a)&&(t=e[a],this[a]=t?t(o):o[a]);return this.isDefaultPrevented=(null!=o.defaultPrevented?o.defaultPrevented:!1===o.returnValue)?nn:rn,this.isPropagationStopped=rn,this}return U(t.prototype,{preventDefault:function(){this.defaultPrevented=!0;var e=this.nativeEvent;e&&(e.preventDefault?e.preventDefault():"unknown"!==typeof e.returnValue&&(e.returnValue=!1),this.isDefaultPrevented=nn)},stopPropagation:function(){var e=this.nativeEvent;e&&(e.stopPropagation?e.stopPropagation():"unknown"!==typeof e.cancelBubble&&(e.cancelBubble=!0),this.isPropagationStopped=nn)},persist:function(){},isPersistent:nn}),t}var an,sn,un,cn={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(e){return e.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},ln=on(cn),dn=U({},cn,{view:0,detail:0}),fn=on(dn),pn=U({},dn,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:An,button:0,buttons:0,relatedTarget:function(e){return void 0===e.relatedTarget?e.fromElement===e.srcElement?e.toElement:e.fromElement:e.relatedTarget},movementX:function(e){return"movementX"in e?e.movementX:(e!==un&&(un&&"mousemove"===e.type?(an=e.screenX-un.screenX,sn=e.screenY-un.screenY):sn=an=0,un=e),an)},movementY:function(e){return"movementY"in e?e.movementY:sn}}),hn=on(pn),En=on(U({},pn,{dataTransfer:0})),gn=on(U({},dn,{relatedTarget:0})),vn=on(U({},cn,{animationName:0,elapsedTime:0,pseudoElement:0})),mn=U({},cn,{clipboardData:function(e){return"clipboardData"in e?e.clipboardData:window.clipboardData}}),_n=on(mn),Sn=on(U({},cn,{data:0})),yn={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},Cn={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},Tn={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function In(e){var t=this.nativeEvent;return t.getModifierState?t.getModifierState(e):!!(e=Tn[e])&&!!t[e]}function An(){return In}var Rn=U({},dn,{key:function(e){if(e.key){var t=yn[e.key]||e.key;if("Unidentified"!==t)return t}return"keypress"===e.type?13===(e=tn(e))?"Enter":String.fromCharCode(e):"keydown"===e.type||"keyup"===e.type?Cn[e.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:An,charCode:function(e){return"keypress"===e.type?tn(e):0},keyCode:function(e){return"keydown"===e.type||"keyup"===e.type?e.keyCode:0},which:function(e){return"keypress"===e.type?tn(e):"keydown"===e.type||"keyup"===e.type?e.keyCode:0}}),On=on(Rn),Nn=on(U({},pn,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0})),bn=on(U({},dn,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:An})),wn=on(U({},cn,{propertyName:0,elapsedTime:0,pseudoElement:0})),Pn=U({},pn,{deltaX:function(e){return"deltaX"in e?e.deltaX:"wheelDeltaX"in e?-e.wheelDeltaX:0},deltaY:function(e){return"deltaY"in e?e.deltaY:"wheelDeltaY"in e?-e.wheelDeltaY:"wheelDelta"in e?-e.wheelDelta:0},deltaZ:0,deltaMode:0}),Ln=on(Pn),Mn=[9,13,27,32],Dn=l&&"CompositionEvent"in window,xn=null;l&&"documentMode"in document&&(xn=document.documentMode);var kn=l&&"TextEvent"in window&&!xn,Un=l&&(!Dn||xn&&8<xn&&11>=xn),Yn=String.fromCharCode(32),Gn=!1;function Fn(e,t){switch(e){case"keyup":return-1!==Mn.indexOf(t.keyCode);case"keydown":return 229!==t.keyCode;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function Kn(e){return"object"===typeof(e=e.detail)&&"data"in e?e.data:null}var Bn=!1;var jn={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function Vn(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return"input"===t?!!jn[e.type]:"textarea"===t}function Hn(e,t,n,r){Re(r),0<(t=Wr(t,"onChange")).length&&(n=new ln("onChange","change",null,n,r),e.push({event:n,listeners:t}))}var Wn=null,Jn=null;function zn(e){Yr(e,0)}function qn(e){if(J(yo(e)))return e}function Qn(e,t){if("change"===e)return t}var Xn=!1;if(l){var $n;if(l){var Zn="oninput"in document;if(!Zn){var er=document.createElement("div");er.setAttribute("oninput","return;"),Zn="function"===typeof er.oninput}$n=Zn}else $n=!1;Xn=$n&&(!document.documentMode||9<document.documentMode)}function tr(){Wn&&(Wn.detachEvent("onpropertychange",nr),Jn=Wn=null)}function nr(e){if("value"===e.propertyName&&qn(Jn)){var t=[];Hn(t,Jn,e,ye(e)),Pe(zn,t)}}function rr(e,t,n){"focusin"===e?(tr(),Jn=n,(Wn=t).attachEvent("onpropertychange",nr)):"focusout"===e&&tr()}function or(e){if("selectionchange"===e||"keyup"===e||"keydown"===e)return qn(Jn)}function ir(e,t){if("click"===e)return qn(t)}function ar(e,t){if("input"===e||"change"===e)return qn(t)}var sr="function"===typeof Object.is?Object.is:function(e,t){return e===t&&(0!==e||1/e===1/t)||e!==e&&t!==t};function ur(e,t){if(sr(e,t))return!0;if("object"!==typeof e||null===e||"object"!==typeof t||null===t)return!1;var n=Object.keys(e),r=Object.keys(t);if(n.length!==r.length)return!1;for(r=0;r<n.length;r++){var o=n[r];if(!d.call(t,o)||!sr(e[o],t[o]))return!1}return!0}function cr(e){for(;e&&e.firstChild;)e=e.firstChild;return e}function lr(e,t){var n,r=cr(e);for(e=0;r;){if(3===r.nodeType){if(n=e+r.textContent.length,e<=t&&n>=t)return{node:r,offset:t-e};e=n}e:{for(;r;){if(r.nextSibling){r=r.nextSibling;break e}r=r.parentNode}r=void 0}r=cr(r)}}function dr(e,t){return!(!e||!t)&&(e===t||(!e||3!==e.nodeType)&&(t&&3===t.nodeType?dr(e,t.parentNode):"contains"in e?e.contains(t):!!e.compareDocumentPosition&&!!(16&e.compareDocumentPosition(t))))}function fr(){for(var e=window,t=z();t instanceof e.HTMLIFrameElement;){try{var n="string"===typeof t.contentWindow.location.href}catch(r){n=!1}if(!n)break;t=z((e=t.contentWindow).document)}return t}function pr(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return t&&("input"===t&&("text"===e.type||"search"===e.type||"tel"===e.type||"url"===e.type||"password"===e.type)||"textarea"===t||"true"===e.contentEditable)}function hr(e){var t=fr(),n=e.focusedElem,r=e.selectionRange;if(t!==n&&n&&n.ownerDocument&&dr(n.ownerDocument.documentElement,n)){if(null!==r&&pr(n))if(t=r.start,void 0===(e=r.end)&&(e=t),"selectionStart"in n)n.selectionStart=t,n.selectionEnd=Math.min(e,n.value.length);else if((e=(t=n.ownerDocument||document)&&t.defaultView||window).getSelection){e=e.getSelection();var o=n.textContent.length,i=Math.min(r.start,o);r=void 0===r.end?i:Math.min(r.end,o),!e.extend&&i>r&&(o=r,r=i,i=o),o=lr(n,i);var a=lr(n,r);o&&a&&(1!==e.rangeCount||e.anchorNode!==o.node||e.anchorOffset!==o.offset||e.focusNode!==a.node||e.focusOffset!==a.offset)&&((t=t.createRange()).setStart(o.node,o.offset),e.removeAllRanges(),i>r?(e.addRange(t),e.extend(a.node,a.offset)):(t.setEnd(a.node,a.offset),e.addRange(t)))}for(t=[],e=n;e=e.parentNode;)1===e.nodeType&&t.push({element:e,left:e.scrollLeft,top:e.scrollTop});for("function"===typeof n.focus&&n.focus(),n=0;n<t.length;n++)(e=t[n]).element.scrollLeft=e.left,e.element.scrollTop=e.top}}var Er=l&&"documentMode"in document&&11>=document.documentMode,gr=null,vr=null,mr=null,_r=!1;function Sr(e,t,n){var r=n.window===n?n.document:9===n.nodeType?n:n.ownerDocument;_r||null==gr||gr!==z(r)||("selectionStart"in(r=gr)&&pr(r)?r={start:r.selectionStart,end:r.selectionEnd}:r={anchorNode:(r=(r.ownerDocument&&r.ownerDocument.defaultView||window).getSelection()).anchorNode,anchorOffset:r.anchorOffset,focusNode:r.focusNode,focusOffset:r.focusOffset},mr&&ur(mr,r)||(mr=r,0<(r=Wr(vr,"onSelect")).length&&(t=new ln("onSelect","select",null,t,n),e.push({event:t,listeners:r}),t.target=gr)))}function yr(e,t){var n={};return n[e.toLowerCase()]=t.toLowerCase(),n["Webkit"+e]="webkit"+t,n["Moz"+e]="moz"+t,n}var Cr={animationend:yr("Animation","AnimationEnd"),animationiteration:yr("Animation","AnimationIteration"),animationstart:yr("Animation","AnimationStart"),transitionend:yr("Transition","TransitionEnd")},Tr={},Ir={};function Ar(e){if(Tr[e])return Tr[e];if(!Cr[e])return e;var t,n=Cr[e];for(t in n)if(n.hasOwnProperty(t)&&t in Ir)return Tr[e]=n[t];return e}l&&(Ir=document.createElement("div").style,"AnimationEvent"in window||(delete Cr.animationend.animation,delete Cr.animationiteration.animation,delete Cr.animationstart.animation),"TransitionEvent"in window||delete Cr.transitionend.transition);var Rr=Ar("animationend"),Or=Ar("animationiteration"),Nr=Ar("animationstart"),br=Ar("transitionend"),wr=new Map,Pr="abort auxClick cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");function Lr(e,t){wr.set(e,t),u(t,[e])}for(var Mr=0;Mr<Pr.length;Mr++){var Dr=Pr[Mr];Lr(Dr.toLowerCase(),"on"+(Dr[0].toUpperCase()+Dr.slice(1)))}Lr(Rr,"onAnimationEnd"),Lr(Or,"onAnimationIteration"),Lr(Nr,"onAnimationStart"),Lr("dblclick","onDoubleClick"),Lr("focusin","onFocus"),Lr("focusout","onBlur"),Lr(br,"onTransitionEnd"),c("onMouseEnter",["mouseout","mouseover"]),c("onMouseLeave",["mouseout","mouseover"]),c("onPointerEnter",["pointerout","pointerover"]),c("onPointerLeave",["pointerout","pointerover"]),u("onChange","change click focusin focusout input keydown keyup selectionchange".split(" ")),u("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" ")),u("onBeforeInput",["compositionend","keypress","textInput","paste"]),u("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" ")),u("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" ")),u("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var xr="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),kr=new Set("cancel close invalid load scroll toggle".split(" ").concat(xr));function Ur(e,t,n){var r=e.type||"unknown-event";e.currentTarget=n,function(e,t,n,r,o,a,s,u,c){if(Ke.apply(this,arguments),ke){if(!ke)throw Error(i(198));var l=Ue;ke=!1,Ue=null,Ye||(Ye=!0,Ge=l)}}(r,t,void 0,e),e.currentTarget=null}function Yr(e,t){t=0!==(4&t);for(var n=0;n<e.length;n++){var r=e[n],o=r.event;r=r.listeners;e:{var i=void 0;if(t)for(var a=r.length-1;0<=a;a--){var s=r[a],u=s.instance,c=s.currentTarget;if(s=s.listener,u!==i&&o.isPropagationStopped())break e;Ur(o,s,c),i=u}else for(a=0;a<r.length;a++){if(u=(s=r[a]).instance,c=s.currentTarget,s=s.listener,u!==i&&o.isPropagationStopped())break e;Ur(o,s,c),i=u}}}if(Ye)throw e=Ge,Ye=!1,Ge=null,e}function Gr(e,t){var n=t[go];void 0===n&&(n=t[go]=new Set);var r=e+"__bubble";n.has(r)||(jr(t,e,2,!1),n.add(r))}function Fr(e,t,n){var r=0;t&&(r|=4),jr(n,e,r,t)}var Kr="_reactListening"+Math.random().toString(36).slice(2);function Br(e){if(!e[Kr]){e[Kr]=!0,a.forEach((function(t){"selectionchange"!==t&&(kr.has(t)||Fr(t,!1,e),Fr(t,!0,e))}));var t=9===e.nodeType?e:e.ownerDocument;null===t||t[Kr]||(t[Kr]=!0,Fr("selectionchange",!1,t))}}function jr(e,t,n,r){switch(Qt(t)){case 1:var o=Ht;break;case 4:o=Wt;break;default:o=Jt}n=o.bind(null,t,n,e),o=void 0,!Me||"touchstart"!==t&&"touchmove"!==t&&"wheel"!==t||(o=!0),r?void 0!==o?e.addEventListener(t,n,{capture:!0,passive:o}):e.addEventListener(t,n,!0):void 0!==o?e.addEventListener(t,n,{passive:o}):e.addEventListener(t,n,!1)}function Vr(e,t,n,r,o){var i=r;if(0===(1&t)&&0===(2&t)&&null!==r)e:for(;;){if(null===r)return;var a=r.tag;if(3===a||4===a){var s=r.stateNode.containerInfo;if(s===o||8===s.nodeType&&s.parentNode===o)break;if(4===a)for(a=r.return;null!==a;){var u=a.tag;if((3===u||4===u)&&((u=a.stateNode.containerInfo)===o||8===u.nodeType&&u.parentNode===o))return;a=a.return}for(;null!==s;){if(null===(a=_o(s)))return;if(5===(u=a.tag)||6===u){r=i=a;continue e}s=s.parentNode}}r=r.return}Pe((function(){var r=i,o=ye(n),a=[];e:{var s=wr.get(e);if(void 0!==s){var u=ln,c=e;switch(e){case"keypress":if(0===tn(n))break e;case"keydown":case"keyup":u=On;break;case"focusin":c="focus",u=gn;break;case"focusout":c="blur",u=gn;break;case"beforeblur":case"afterblur":u=gn;break;case"click":if(2===n.button)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":u=hn;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":u=En;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":u=bn;break;case Rr:case Or:case Nr:u=vn;break;case br:u=wn;break;case"scroll":u=fn;break;case"wheel":u=Ln;break;case"copy":case"cut":case"paste":u=_n;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":u=Nn}var l=0!==(4&t),d=!l&&"scroll"===e,f=l?null!==s?s+"Capture":null:s;l=[];for(var p,h=r;null!==h;){var E=(p=h).stateNode;if(5===p.tag&&null!==E&&(p=E,null!==f&&(null!=(E=Le(h,f))&&l.push(Hr(h,E,p)))),d)break;h=h.return}0<l.length&&(s=new u(s,c,null,n,o),a.push({event:s,listeners:l}))}}if(0===(7&t)){if(u="mouseout"===e||"pointerout"===e,(!(s="mouseover"===e||"pointerover"===e)||n===Se||!(c=n.relatedTarget||n.fromElement)||!_o(c)&&!c[Eo])&&(u||s)&&(s=o.window===o?o:(s=o.ownerDocument)?s.defaultView||s.parentWindow:window,u?(u=r,null!==(c=(c=n.relatedTarget||n.toElement)?_o(c):null)&&(c!==(d=Be(c))||5!==c.tag&&6!==c.tag)&&(c=null)):(u=null,c=r),u!==c)){if(l=hn,E="onMouseLeave",f="onMouseEnter",h="mouse","pointerout"!==e&&"pointerover"!==e||(l=Nn,E="onPointerLeave",f="onPointerEnter",h="pointer"),d=null==u?s:yo(u),p=null==c?s:yo(c),(s=new l(E,h+"leave",u,n,o)).target=d,s.relatedTarget=p,E=null,_o(o)===r&&((l=new l(f,h+"enter",c,n,o)).target=p,l.relatedTarget=d,E=l),d=E,u&&c)e:{for(f=c,h=0,p=l=u;p;p=Jr(p))h++;for(p=0,E=f;E;E=Jr(E))p++;for(;0<h-p;)l=Jr(l),h--;for(;0<p-h;)f=Jr(f),p--;for(;h--;){if(l===f||null!==f&&l===f.alternate)break e;l=Jr(l),f=Jr(f)}l=null}else l=null;null!==u&&zr(a,s,u,l,!1),null!==c&&null!==d&&zr(a,d,c,l,!0)}if("select"===(u=(s=r?yo(r):window).nodeName&&s.nodeName.toLowerCase())||"input"===u&&"file"===s.type)var g=Qn;else if(Vn(s))if(Xn)g=ar;else{g=or;var v=rr}else(u=s.nodeName)&&"input"===u.toLowerCase()&&("checkbox"===s.type||"radio"===s.type)&&(g=ir);switch(g&&(g=g(e,r))?Hn(a,g,n,o):(v&&v(e,s,r),"focusout"===e&&(v=s._wrapperState)&&v.controlled&&"number"===s.type&&ee(s,"number",s.value)),v=r?yo(r):window,e){case"focusin":(Vn(v)||"true"===v.contentEditable)&&(gr=v,vr=r,mr=null);break;case"focusout":mr=vr=gr=null;break;case"mousedown":_r=!0;break;case"contextmenu":case"mouseup":case"dragend":_r=!1,Sr(a,n,o);break;case"selectionchange":if(Er)break;case"keydown":case"keyup":Sr(a,n,o)}var m;if(Dn)e:{switch(e){case"compositionstart":var _="onCompositionStart";break e;case"compositionend":_="onCompositionEnd";break e;case"compositionupdate":_="onCompositionUpdate";break e}_=void 0}else Bn?Fn(e,n)&&(_="onCompositionEnd"):"keydown"===e&&229===n.keyCode&&(_="onCompositionStart");_&&(Un&&"ko"!==n.locale&&(Bn||"onCompositionStart"!==_?"onCompositionEnd"===_&&Bn&&(m=en()):($t="value"in(Xt=o)?Xt.value:Xt.textContent,Bn=!0)),0<(v=Wr(r,_)).length&&(_=new Sn(_,e,null,n,o),a.push({event:_,listeners:v}),m?_.data=m:null!==(m=Kn(n))&&(_.data=m))),(m=kn?function(e,t){switch(e){case"compositionend":return Kn(t);case"keypress":return 32!==t.which?null:(Gn=!0,Yn);case"textInput":return(e=t.data)===Yn&&Gn?null:e;default:return null}}(e,n):function(e,t){if(Bn)return"compositionend"===e||!Dn&&Fn(e,t)?(e=en(),Zt=$t=Xt=null,Bn=!1,e):null;switch(e){case"paste":default:return null;case"keypress":if(!(t.ctrlKey||t.altKey||t.metaKey)||t.ctrlKey&&t.altKey){if(t.char&&1<t.char.length)return t.char;if(t.which)return String.fromCharCode(t.which)}return null;case"compositionend":return Un&&"ko"!==t.locale?null:t.data}}(e,n))&&(0<(r=Wr(r,"onBeforeInput")).length&&(o=new Sn("onBeforeInput","beforeinput",null,n,o),a.push({event:o,listeners:r}),o.data=m))}Yr(a,t)}))}function Hr(e,t,n){return{instance:e,listener:t,currentTarget:n}}function Wr(e,t){for(var n=t+"Capture",r=[];null!==e;){var o=e,i=o.stateNode;5===o.tag&&null!==i&&(o=i,null!=(i=Le(e,n))&&r.unshift(Hr(e,i,o)),null!=(i=Le(e,t))&&r.push(Hr(e,i,o))),e=e.return}return r}function Jr(e){if(null===e)return null;do{e=e.return}while(e&&5!==e.tag);return e||null}function zr(e,t,n,r,o){for(var i=t._reactName,a=[];null!==n&&n!==r;){var s=n,u=s.alternate,c=s.stateNode;if(null!==u&&u===r)break;5===s.tag&&null!==c&&(s=c,o?null!=(u=Le(n,i))&&a.unshift(Hr(n,u,s)):o||null!=(u=Le(n,i))&&a.push(Hr(n,u,s))),n=n.return}0!==a.length&&e.push({event:t,listeners:a})}var qr=/\r\n?/g,Qr=/\u0000|\uFFFD/g;function Xr(e){return("string"===typeof e?e:""+e).replace(qr,"\n").replace(Qr,"")}function $r(e,t,n){if(t=Xr(t),Xr(e)!==t&&n)throw Error(i(425))}function Zr(){}var eo=null,to=null;function no(e,t){return"textarea"===e||"noscript"===e||"string"===typeof t.children||"number"===typeof t.children||"object"===typeof t.dangerouslySetInnerHTML&&null!==t.dangerouslySetInnerHTML&&null!=t.dangerouslySetInnerHTML.__html}var ro="function"===typeof setTimeout?setTimeout:void 0,oo="function"===typeof clearTimeout?clearTimeout:void 0,io="function"===typeof Promise?Promise:void 0,ao="function"===typeof queueMicrotask?queueMicrotask:"undefined"!==typeof io?function(e){return io.resolve(null).then(e).catch(so)}:ro;function so(e){setTimeout((function(){throw e}))}function uo(e,t){var n=t,r=0;do{var o=n.nextSibling;if(e.removeChild(n),o&&8===o.nodeType)if("/$"===(n=o.data)){if(0===r)return e.removeChild(o),void Bt(t);r--}else"$"!==n&&"$?"!==n&&"$!"!==n||r++;n=o}while(n);Bt(t)}function co(e){for(;null!=e;e=e.nextSibling){var t=e.nodeType;if(1===t||3===t)break;if(8===t){if("$"===(t=e.data)||"$!"===t||"$?"===t)break;if("/$"===t)return null}}return e}function lo(e){e=e.previousSibling;for(var t=0;e;){if(8===e.nodeType){var n=e.data;if("$"===n||"$!"===n||"$?"===n){if(0===t)return e;t--}else"/$"===n&&t++}e=e.previousSibling}return null}var fo=Math.random().toString(36).slice(2),po="__reactFiber$"+fo,ho="__reactProps$"+fo,Eo="__reactContainer$"+fo,go="__reactEvents$"+fo,vo="__reactListeners$"+fo,mo="__reactHandles$"+fo;function _o(e){var t=e[po];if(t)return t;for(var n=e.parentNode;n;){if(t=n[Eo]||n[po]){if(n=t.alternate,null!==t.child||null!==n&&null!==n.child)for(e=lo(e);null!==e;){if(n=e[po])return n;e=lo(e)}return t}n=(e=n).parentNode}return null}function So(e){return!(e=e[po]||e[Eo])||5!==e.tag&&6!==e.tag&&13!==e.tag&&3!==e.tag?null:e}function yo(e){if(5===e.tag||6===e.tag)return e.stateNode;throw Error(i(33))}function Co(e){return e[ho]||null}var To=[],Io=-1;function Ao(e){return{current:e}}function Ro(e){0>Io||(e.current=To[Io],To[Io]=null,Io--)}function Oo(e,t){Io++,To[Io]=e.current,e.current=t}var No={},bo=Ao(No),wo=Ao(!1),Po=No;function Lo(e,t){var n=e.type.contextTypes;if(!n)return No;var r=e.stateNode;if(r&&r.__reactInternalMemoizedUnmaskedChildContext===t)return r.__reactInternalMemoizedMaskedChildContext;var o,i={};for(o in n)i[o]=t[o];return r&&((e=e.stateNode).__reactInternalMemoizedUnmaskedChildContext=t,e.__reactInternalMemoizedMaskedChildContext=i),i}function Mo(e){return null!==(e=e.childContextTypes)&&void 0!==e}function Do(){Ro(wo),Ro(bo)}function xo(e,t,n){if(bo.current!==No)throw Error(i(168));Oo(bo,t),Oo(wo,n)}function ko(e,t,n){var r=e.stateNode;if(t=t.childContextTypes,"function"!==typeof r.getChildContext)return n;for(var o in r=r.getChildContext())if(!(o in t))throw Error(i(108,j(e)||"Unknown",o));return U({},n,r)}function Uo(e){return e=(e=e.stateNode)&&e.__reactInternalMemoizedMergedChildContext||No,Po=bo.current,Oo(bo,e),Oo(wo,wo.current),!0}function Yo(e,t,n){var r=e.stateNode;if(!r)throw Error(i(169));n?(e=ko(e,t,Po),r.__reactInternalMemoizedMergedChildContext=e,Ro(wo),Ro(bo),Oo(bo,e)):Ro(wo),Oo(wo,n)}var Go=null,Fo=!1,Ko=!1;function Bo(e){null===Go?Go=[e]:Go.push(e)}function jo(){if(!Ko&&null!==Go){Ko=!0;var e=0,t=_t;try{var n=Go;for(_t=1;e<n.length;e++){var r=n[e];do{r=r(!0)}while(null!==r)}Go=null,Fo=!1}catch(o){throw null!==Go&&(Go=Go.slice(e+1)),Je(Ze,jo),o}finally{_t=t,Ko=!1}}return null}var Vo=[],Ho=0,Wo=null,Jo=0,zo=[],qo=0,Qo=null,Xo=1,$o="";function Zo(e,t){Vo[Ho++]=Jo,Vo[Ho++]=Wo,Wo=e,Jo=t}function ei(e,t,n){zo[qo++]=Xo,zo[qo++]=$o,zo[qo++]=Qo,Qo=e;var r=Xo;e=$o;var o=32-at(r)-1;r&=~(1<<o),n+=1;var i=32-at(t)+o;if(30<i){var a=o-o%5;i=(r&(1<<a)-1).toString(32),r>>=a,o-=a,Xo=1<<32-at(t)+o|n<<o|r,$o=i+e}else Xo=1<<i|n<<o|r,$o=e}function ti(e){null!==e.return&&(Zo(e,1),ei(e,1,0))}function ni(e){for(;e===Wo;)Wo=Vo[--Ho],Vo[Ho]=null,Jo=Vo[--Ho],Vo[Ho]=null;for(;e===Qo;)Qo=zo[--qo],zo[qo]=null,$o=zo[--qo],zo[qo]=null,Xo=zo[--qo],zo[qo]=null}var ri=null,oi=null,ii=!1,ai=null;function si(e,t){var n=Pc(5,null,null,0);n.elementType="DELETED",n.stateNode=t,n.return=e,null===(t=e.deletions)?(e.deletions=[n],e.flags|=16):t.push(n)}function ui(e,t){switch(e.tag){case 5:var n=e.type;return null!==(t=1!==t.nodeType||n.toLowerCase()!==t.nodeName.toLowerCase()?null:t)&&(e.stateNode=t,ri=e,oi=co(t.firstChild),!0);case 6:return null!==(t=""===e.pendingProps||3!==t.nodeType?null:t)&&(e.stateNode=t,ri=e,oi=null,!0);case 13:return null!==(t=8!==t.nodeType?null:t)&&(n=null!==Qo?{id:Xo,overflow:$o}:null,e.memoizedState={dehydrated:t,treeContext:n,retryLane:1073741824},(n=Pc(18,null,null,0)).stateNode=t,n.return=e,e.child=n,ri=e,oi=null,!0);default:return!1}}function ci(e){return 0!==(1&e.mode)&&0===(128&e.flags)}function li(e){if(ii){var t=oi;if(t){var n=t;if(!ui(e,t)){if(ci(e))throw Error(i(418));t=co(n.nextSibling);var r=ri;t&&ui(e,t)?si(r,n):(e.flags=-4097&e.flags|2,ii=!1,ri=e)}}else{if(ci(e))throw Error(i(418));e.flags=-4097&e.flags|2,ii=!1,ri=e}}}function di(e){for(e=e.return;null!==e&&5!==e.tag&&3!==e.tag&&13!==e.tag;)e=e.return;ri=e}function fi(e){if(e!==ri)return!1;if(!ii)return di(e),ii=!0,!1;var t;if((t=3!==e.tag)&&!(t=5!==e.tag)&&(t="head"!==(t=e.type)&&"body"!==t&&!no(e.type,e.memoizedProps)),t&&(t=oi)){if(ci(e))throw pi(),Error(i(418));for(;t;)si(e,t),t=co(t.nextSibling)}if(di(e),13===e.tag){if(!(e=null!==(e=e.memoizedState)?e.dehydrated:null))throw Error(i(317));e:{for(e=e.nextSibling,t=0;e;){if(8===e.nodeType){var n=e.data;if("/$"===n){if(0===t){oi=co(e.nextSibling);break e}t--}else"$"!==n&&"$!"!==n&&"$?"!==n||t++}e=e.nextSibling}oi=null}}else oi=ri?co(e.stateNode.nextSibling):null;return!0}function pi(){for(var e=oi;e;)e=co(e.nextSibling)}function hi(){oi=ri=null,ii=!1}function Ei(e){null===ai?ai=[e]:ai.push(e)}var gi=S.ReactCurrentBatchConfig;function vi(e,t){if(e&&e.defaultProps){for(var n in t=U({},t),e=e.defaultProps)void 0===t[n]&&(t[n]=e[n]);return t}return t}var mi=Ao(null),_i=null,Si=null,yi=null;function Ci(){yi=Si=_i=null}function Ti(e){var t=mi.current;Ro(mi),e._currentValue=t}function Ii(e,t,n){for(;null!==e;){var r=e.alternate;if((e.childLanes&t)!==t?(e.childLanes|=t,null!==r&&(r.childLanes|=t)):null!==r&&(r.childLanes&t)!==t&&(r.childLanes|=t),e===n)break;e=e.return}}function Ai(e,t){_i=e,yi=Si=null,null!==(e=e.dependencies)&&null!==e.firstContext&&(0!==(e.lanes&t)&&(Ss=!0),e.firstContext=null)}function Ri(e){var t=e._currentValue;if(yi!==e)if(e={context:e,memoizedValue:t,next:null},null===Si){if(null===_i)throw Error(i(308));Si=e,_i.dependencies={lanes:0,firstContext:e}}else Si=Si.next=e;return t}var Oi=null;function Ni(e){null===Oi?Oi=[e]:Oi.push(e)}function bi(e,t,n,r){var o=t.interleaved;return null===o?(n.next=n,Ni(t)):(n.next=o.next,o.next=n),t.interleaved=n,wi(e,r)}function wi(e,t){e.lanes|=t;var n=e.alternate;for(null!==n&&(n.lanes|=t),n=e,e=e.return;null!==e;)e.childLanes|=t,null!==(n=e.alternate)&&(n.childLanes|=t),n=e,e=e.return;return 3===n.tag?n.stateNode:null}var Pi=!1;function Li(e){e.updateQueue={baseState:e.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,interleaved:null,lanes:0},effects:null}}function Mi(e,t){e=e.updateQueue,t.updateQueue===e&&(t.updateQueue={baseState:e.baseState,firstBaseUpdate:e.firstBaseUpdate,lastBaseUpdate:e.lastBaseUpdate,shared:e.shared,effects:e.effects})}function Di(e,t){return{eventTime:e,lane:t,tag:0,payload:null,callback:null,next:null}}function xi(e,t,n){var r=e.updateQueue;if(null===r)return null;if(r=r.shared,0!==(2&Nu)){var o=r.pending;return null===o?t.next=t:(t.next=o.next,o.next=t),r.pending=t,wi(e,n)}return null===(o=r.interleaved)?(t.next=t,Ni(r)):(t.next=o.next,o.next=t),r.interleaved=t,wi(e,n)}function ki(e,t,n){if(null!==(t=t.updateQueue)&&(t=t.shared,0!==(4194240&n))){var r=t.lanes;n|=r&=e.pendingLanes,t.lanes=n,mt(e,n)}}function Ui(e,t){var n=e.updateQueue,r=e.alternate;if(null!==r&&n===(r=r.updateQueue)){var o=null,i=null;if(null!==(n=n.firstBaseUpdate)){do{var a={eventTime:n.eventTime,lane:n.lane,tag:n.tag,payload:n.payload,callback:n.callback,next:null};null===i?o=i=a:i=i.next=a,n=n.next}while(null!==n);null===i?o=i=t:i=i.next=t}else o=i=t;return n={baseState:r.baseState,firstBaseUpdate:o,lastBaseUpdate:i,shared:r.shared,effects:r.effects},void(e.updateQueue=n)}null===(e=n.lastBaseUpdate)?n.firstBaseUpdate=t:e.next=t,n.lastBaseUpdate=t}function Yi(e,t,n,r){var o=e.updateQueue;Pi=!1;var i=o.firstBaseUpdate,a=o.lastBaseUpdate,s=o.shared.pending;if(null!==s){o.shared.pending=null;var u=s,c=u.next;u.next=null,null===a?i=c:a.next=c,a=u;var l=e.alternate;null!==l&&((s=(l=l.updateQueue).lastBaseUpdate)!==a&&(null===s?l.firstBaseUpdate=c:s.next=c,l.lastBaseUpdate=u))}if(null!==i){var d=o.baseState;for(a=0,l=c=u=null,s=i;;){var f=s.lane,p=s.eventTime;if((r&f)===f){null!==l&&(l=l.next={eventTime:p,lane:0,tag:s.tag,payload:s.payload,callback:s.callback,next:null});e:{var h=e,E=s;switch(f=t,p=n,E.tag){case 1:if("function"===typeof(h=E.payload)){d=h.call(p,d,f);break e}d=h;break e;case 3:h.flags=-65537&h.flags|128;case 0:if(null===(f="function"===typeof(h=E.payload)?h.call(p,d,f):h)||void 0===f)break e;d=U({},d,f);break e;case 2:Pi=!0}}null!==s.callback&&0!==s.lane&&(e.flags|=64,null===(f=o.effects)?o.effects=[s]:f.push(s))}else p={eventTime:p,lane:f,tag:s.tag,payload:s.payload,callback:s.callback,next:null},null===l?(c=l=p,u=d):l=l.next=p,a|=f;if(null===(s=s.next)){if(null===(s=o.shared.pending))break;s=(f=s).next,f.next=null,o.lastBaseUpdate=f,o.shared.pending=null}}if(null===l&&(u=d),o.baseState=u,o.firstBaseUpdate=c,o.lastBaseUpdate=l,null!==(t=o.shared.interleaved)){o=t;do{a|=o.lane,o=o.next}while(o!==t)}else null===i&&(o.shared.lanes=0);ku|=a,e.lanes=a,e.memoizedState=d}}function Gi(e,t,n){if(e=t.effects,t.effects=null,null!==e)for(t=0;t<e.length;t++){var r=e[t],o=r.callback;if(null!==o){if(r.callback=null,r=n,"function"!==typeof o)throw Error(i(191,o));o.call(r)}}}var Fi=(new r.Component).refs;function Ki(e,t,n,r){n=null===(n=n(r,t=e.memoizedState))||void 0===n?t:U({},t,n),e.memoizedState=n,0===e.lanes&&(e.updateQueue.baseState=n)}var Bi={isMounted:function(e){return!!(e=e._reactInternals)&&Be(e)===e},enqueueSetState:function(e,t,n){e=e._reactInternals;var r=ec(),o=tc(e),i=Di(r,o);i.payload=t,void 0!==n&&null!==n&&(i.callback=n),null!==(t=xi(e,i,o))&&(nc(t,e,o,r),ki(t,e,o))},enqueueReplaceState:function(e,t,n){e=e._reactInternals;var r=ec(),o=tc(e),i=Di(r,o);i.tag=1,i.payload=t,void 0!==n&&null!==n&&(i.callback=n),null!==(t=xi(e,i,o))&&(nc(t,e,o,r),ki(t,e,o))},enqueueForceUpdate:function(e,t){e=e._reactInternals;var n=ec(),r=tc(e),o=Di(n,r);o.tag=2,void 0!==t&&null!==t&&(o.callback=t),null!==(t=xi(e,o,r))&&(nc(t,e,r,n),ki(t,e,r))}};function ji(e,t,n,r,o,i,a){return"function"===typeof(e=e.stateNode).shouldComponentUpdate?e.shouldComponentUpdate(r,i,a):!t.prototype||!t.prototype.isPureReactComponent||(!ur(n,r)||!ur(o,i))}function Vi(e,t,n){var r=!1,o=No,i=t.contextType;return"object"===typeof i&&null!==i?i=Ri(i):(o=Mo(t)?Po:bo.current,i=(r=null!==(r=t.contextTypes)&&void 0!==r)?Lo(e,o):No),t=new t(n,i),e.memoizedState=null!==t.state&&void 0!==t.state?t.state:null,t.updater=Bi,e.stateNode=t,t._reactInternals=e,r&&((e=e.stateNode).__reactInternalMemoizedUnmaskedChildContext=o,e.__reactInternalMemoizedMaskedChildContext=i),t}function Hi(e,t,n,r){e=t.state,"function"===typeof t.componentWillReceiveProps&&t.componentWillReceiveProps(n,r),"function"===typeof t.UNSAFE_componentWillReceiveProps&&t.UNSAFE_componentWillReceiveProps(n,r),t.state!==e&&Bi.enqueueReplaceState(t,t.state,null)}function Wi(e,t,n,r){var o=e.stateNode;o.props=n,o.state=e.memoizedState,o.refs=Fi,Li(e);var i=t.contextType;"object"===typeof i&&null!==i?o.context=Ri(i):(i=Mo(t)?Po:bo.current,o.context=Lo(e,i)),o.state=e.memoizedState,"function"===typeof(i=t.getDerivedStateFromProps)&&(Ki(e,t,i,n),o.state=e.memoizedState),"function"===typeof t.getDerivedStateFromProps||"function"===typeof o.getSnapshotBeforeUpdate||"function"!==typeof o.UNSAFE_componentWillMount&&"function"!==typeof o.componentWillMount||(t=o.state,"function"===typeof o.componentWillMount&&o.componentWillMount(),"function"===typeof o.UNSAFE_componentWillMount&&o.UNSAFE_componentWillMount(),t!==o.state&&Bi.enqueueReplaceState(o,o.state,null),Yi(e,n,o,r),o.state=e.memoizedState),"function"===typeof o.componentDidMount&&(e.flags|=4194308)}function Ji(e,t,n){if(null!==(e=n.ref)&&"function"!==typeof e&&"object"!==typeof e){if(n._owner){if(n=n._owner){if(1!==n.tag)throw Error(i(309));var r=n.stateNode}if(!r)throw Error(i(147,e));var o=r,a=""+e;return null!==t&&null!==t.ref&&"function"===typeof t.ref&&t.ref._stringRef===a?t.ref:(t=function(e){var t=o.refs;t===Fi&&(t=o.refs={}),null===e?delete t[a]:t[a]=e},t._stringRef=a,t)}if("string"!==typeof e)throw Error(i(284));if(!n._owner)throw Error(i(290,e))}return e}function zi(e,t){throw e=Object.prototype.toString.call(t),Error(i(31,"[object Object]"===e?"object with keys {"+Object.keys(t).join(", ")+"}":e))}function qi(e){return(0,e._init)(e._payload)}function Qi(e){function t(t,n){if(e){var r=t.deletions;null===r?(t.deletions=[n],t.flags|=16):r.push(n)}}function n(n,r){if(!e)return null;for(;null!==r;)t(n,r),r=r.sibling;return null}function r(e,t){for(e=new Map;null!==t;)null!==t.key?e.set(t.key,t):e.set(t.index,t),t=t.sibling;return e}function o(e,t){return(e=Mc(e,t)).index=0,e.sibling=null,e}function a(t,n,r){return t.index=r,e?null!==(r=t.alternate)?(r=r.index)<n?(t.flags|=2,n):r:(t.flags|=2,n):(t.flags|=1048576,n)}function s(t){return e&&null===t.alternate&&(t.flags|=2),t}function u(e,t,n,r){return null===t||6!==t.tag?((t=Uc(n,e.mode,r)).return=e,t):((t=o(t,n)).return=e,t)}function c(e,t,n,r){var i=n.type;return i===T?d(e,t,n.props.children,r,n.key):null!==t&&(t.elementType===i||"object"===typeof i&&null!==i&&i.$$typeof===L&&qi(i)===t.type)?((r=o(t,n.props)).ref=Ji(e,t,n),r.return=e,r):((r=Dc(n.type,n.key,n.props,null,e.mode,r)).ref=Ji(e,t,n),r.return=e,r)}function l(e,t,n,r){return null===t||4!==t.tag||t.stateNode.containerInfo!==n.containerInfo||t.stateNode.implementation!==n.implementation?((t=Yc(n,e.mode,r)).return=e,t):((t=o(t,n.children||[])).return=e,t)}function d(e,t,n,r,i){return null===t||7!==t.tag?((t=xc(n,e.mode,r,i)).return=e,t):((t=o(t,n)).return=e,t)}function f(e,t,n){if("string"===typeof t&&""!==t||"number"===typeof t)return(t=Uc(""+t,e.mode,n)).return=e,t;if("object"===typeof t&&null!==t){switch(t.$$typeof){case y:return(n=Dc(t.type,t.key,t.props,null,e.mode,n)).ref=Ji(e,null,t),n.return=e,n;case C:return(t=Yc(t,e.mode,n)).return=e,t;case L:return f(e,(0,t._init)(t._payload),n)}if(te(t)||x(t))return(t=xc(t,e.mode,n,null)).return=e,t;zi(e,t)}return null}function p(e,t,n,r){var o=null!==t?t.key:null;if("string"===typeof n&&""!==n||"number"===typeof n)return null!==o?null:u(e,t,""+n,r);if("object"===typeof n&&null!==n){switch(n.$$typeof){case y:return n.key===o?c(e,t,n,r):null;case C:return n.key===o?l(e,t,n,r):null;case L:return p(e,t,(o=n._init)(n._payload),r)}if(te(n)||x(n))return null!==o?null:d(e,t,n,r,null);zi(e,n)}return null}function h(e,t,n,r,o){if("string"===typeof r&&""!==r||"number"===typeof r)return u(t,e=e.get(n)||null,""+r,o);if("object"===typeof r&&null!==r){switch(r.$$typeof){case y:return c(t,e=e.get(null===r.key?n:r.key)||null,r,o);case C:return l(t,e=e.get(null===r.key?n:r.key)||null,r,o);case L:return h(e,t,n,(0,r._init)(r._payload),o)}if(te(r)||x(r))return d(t,e=e.get(n)||null,r,o,null);zi(t,r)}return null}function E(o,i,s,u){for(var c=null,l=null,d=i,E=i=0,g=null;null!==d&&E<s.length;E++){d.index>E?(g=d,d=null):g=d.sibling;var v=p(o,d,s[E],u);if(null===v){null===d&&(d=g);break}e&&d&&null===v.alternate&&t(o,d),i=a(v,i,E),null===l?c=v:l.sibling=v,l=v,d=g}if(E===s.length)return n(o,d),ii&&Zo(o,E),c;if(null===d){for(;E<s.length;E++)null!==(d=f(o,s[E],u))&&(i=a(d,i,E),null===l?c=d:l.sibling=d,l=d);return ii&&Zo(o,E),c}for(d=r(o,d);E<s.length;E++)null!==(g=h(d,o,E,s[E],u))&&(e&&null!==g.alternate&&d.delete(null===g.key?E:g.key),i=a(g,i,E),null===l?c=g:l.sibling=g,l=g);return e&&d.forEach((function(e){return t(o,e)})),ii&&Zo(o,E),c}function g(o,s,u,c){var l=x(u);if("function"!==typeof l)throw Error(i(150));if(null==(u=l.call(u)))throw Error(i(151));for(var d=l=null,E=s,g=s=0,v=null,m=u.next();null!==E&&!m.done;g++,m=u.next()){E.index>g?(v=E,E=null):v=E.sibling;var _=p(o,E,m.value,c);if(null===_){null===E&&(E=v);break}e&&E&&null===_.alternate&&t(o,E),s=a(_,s,g),null===d?l=_:d.sibling=_,d=_,E=v}if(m.done)return n(o,E),ii&&Zo(o,g),l;if(null===E){for(;!m.done;g++,m=u.next())null!==(m=f(o,m.value,c))&&(s=a(m,s,g),null===d?l=m:d.sibling=m,d=m);return ii&&Zo(o,g),l}for(E=r(o,E);!m.done;g++,m=u.next())null!==(m=h(E,o,g,m.value,c))&&(e&&null!==m.alternate&&E.delete(null===m.key?g:m.key),s=a(m,s,g),null===d?l=m:d.sibling=m,d=m);return e&&E.forEach((function(e){return t(o,e)})),ii&&Zo(o,g),l}return function e(r,i,a,u){if("object"===typeof a&&null!==a&&a.type===T&&null===a.key&&(a=a.props.children),"object"===typeof a&&null!==a){switch(a.$$typeof){case y:e:{for(var c=a.key,l=i;null!==l;){if(l.key===c){if((c=a.type)===T){if(7===l.tag){n(r,l.sibling),(i=o(l,a.props.children)).return=r,r=i;break e}}else if(l.elementType===c||"object"===typeof c&&null!==c&&c.$$typeof===L&&qi(c)===l.type){n(r,l.sibling),(i=o(l,a.props)).ref=Ji(r,l,a),i.return=r,r=i;break e}n(r,l);break}t(r,l),l=l.sibling}a.type===T?((i=xc(a.props.children,r.mode,u,a.key)).return=r,r=i):((u=Dc(a.type,a.key,a.props,null,r.mode,u)).ref=Ji(r,i,a),u.return=r,r=u)}return s(r);case C:e:{for(l=a.key;null!==i;){if(i.key===l){if(4===i.tag&&i.stateNode.containerInfo===a.containerInfo&&i.stateNode.implementation===a.implementation){n(r,i.sibling),(i=o(i,a.children||[])).return=r,r=i;break e}n(r,i);break}t(r,i),i=i.sibling}(i=Yc(a,r.mode,u)).return=r,r=i}return s(r);case L:return e(r,i,(l=a._init)(a._payload),u)}if(te(a))return E(r,i,a,u);if(x(a))return g(r,i,a,u);zi(r,a)}return"string"===typeof a&&""!==a||"number"===typeof a?(a=""+a,null!==i&&6===i.tag?(n(r,i.sibling),(i=o(i,a)).return=r,r=i):(n(r,i),(i=Uc(a,r.mode,u)).return=r,r=i),s(r)):n(r,i)}}var Xi=Qi(!0),$i=Qi(!1),Zi={},ea=Ao(Zi),ta=Ao(Zi),na=Ao(Zi);function ra(e){if(e===Zi)throw Error(i(174));return e}function oa(e,t){switch(Oo(na,t),Oo(ta,e),Oo(ea,Zi),e=t.nodeType){case 9:case 11:t=(t=t.documentElement)?t.namespaceURI:ue(null,"");break;default:t=ue(t=(e=8===e?t.parentNode:t).namespaceURI||null,e=e.tagName)}Ro(ea),Oo(ea,t)}function ia(){Ro(ea),Ro(ta),Ro(na)}function aa(e){ra(na.current);var t=ra(ea.current),n=ue(t,e.type);t!==n&&(Oo(ta,e),Oo(ea,n))}function sa(e){ta.current===e&&(Ro(ea),Ro(ta))}var ua=Ao(0);function ca(e){for(var t=e;null!==t;){if(13===t.tag){var n=t.memoizedState;if(null!==n&&(null===(n=n.dehydrated)||"$?"===n.data||"$!"===n.data))return t}else if(19===t.tag&&void 0!==t.memoizedProps.revealOrder){if(0!==(128&t.flags))return t}else if(null!==t.child){t.child.return=t,t=t.child;continue}if(t===e)break;for(;null===t.sibling;){if(null===t.return||t.return===e)return null;t=t.return}t.sibling.return=t.return,t=t.sibling}return null}var la=[];function da(){for(var e=0;e<la.length;e++)la[e]._workInProgressVersionPrimary=null;la.length=0}var fa=S.ReactCurrentDispatcher,pa=S.ReactCurrentBatchConfig,ha=0,Ea=null,ga=null,va=null,ma=!1,_a=!1,Sa=0,ya=0;function Ca(){throw Error(i(321))}function Ta(e,t){if(null===t)return!1;for(var n=0;n<t.length&&n<e.length;n++)if(!sr(e[n],t[n]))return!1;return!0}function Ia(e,t,n,r,o,a){if(ha=a,Ea=t,t.memoizedState=null,t.updateQueue=null,t.lanes=0,fa.current=null===e||null===e.memoizedState?ss:us,e=n(r,o),_a){a=0;do{if(_a=!1,Sa=0,25<=a)throw Error(i(301));a+=1,va=ga=null,t.updateQueue=null,fa.current=cs,e=n(r,o)}while(_a)}if(fa.current=as,t=null!==ga&&null!==ga.next,ha=0,va=ga=Ea=null,ma=!1,t)throw Error(i(300));return e}function Aa(){var e=0!==Sa;return Sa=0,e}function Ra(){var e={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return null===va?Ea.memoizedState=va=e:va=va.next=e,va}function Oa(){if(null===ga){var e=Ea.alternate;e=null!==e?e.memoizedState:null}else e=ga.next;var t=null===va?Ea.memoizedState:va.next;if(null!==t)va=t,ga=e;else{if(null===e)throw Error(i(310));e={memoizedState:(ga=e).memoizedState,baseState:ga.baseState,baseQueue:ga.baseQueue,queue:ga.queue,next:null},null===va?Ea.memoizedState=va=e:va=va.next=e}return va}function Na(e,t){return"function"===typeof t?t(e):t}function ba(e){var t=Oa(),n=t.queue;if(null===n)throw Error(i(311));n.lastRenderedReducer=e;var r=ga,o=r.baseQueue,a=n.pending;if(null!==a){if(null!==o){var s=o.next;o.next=a.next,a.next=s}r.baseQueue=o=a,n.pending=null}if(null!==o){a=o.next,r=r.baseState;var u=s=null,c=null,l=a;do{var d=l.lane;if((ha&d)===d)null!==c&&(c=c.next={lane:0,action:l.action,hasEagerState:l.hasEagerState,eagerState:l.eagerState,next:null}),r=l.hasEagerState?l.eagerState:e(r,l.action);else{var f={lane:d,action:l.action,hasEagerState:l.hasEagerState,eagerState:l.eagerState,next:null};null===c?(u=c=f,s=r):c=c.next=f,Ea.lanes|=d,ku|=d}l=l.next}while(null!==l&&l!==a);null===c?s=r:c.next=u,sr(r,t.memoizedState)||(Ss=!0),t.memoizedState=r,t.baseState=s,t.baseQueue=c,n.lastRenderedState=r}if(null!==(e=n.interleaved)){o=e;do{a=o.lane,Ea.lanes|=a,ku|=a,o=o.next}while(o!==e)}else null===o&&(n.lanes=0);return[t.memoizedState,n.dispatch]}function wa(e){var t=Oa(),n=t.queue;if(null===n)throw Error(i(311));n.lastRenderedReducer=e;var r=n.dispatch,o=n.pending,a=t.memoizedState;if(null!==o){n.pending=null;var s=o=o.next;do{a=e(a,s.action),s=s.next}while(s!==o);sr(a,t.memoizedState)||(Ss=!0),t.memoizedState=a,null===t.baseQueue&&(t.baseState=a),n.lastRenderedState=a}return[a,r]}function Pa(){}function La(e,t){var n=Ea,r=Oa(),o=t(),a=!sr(r.memoizedState,o);if(a&&(r.memoizedState=o,Ss=!0),r=r.queue,Va(xa.bind(null,n,r,e),[e]),r.getSnapshot!==t||a||null!==va&&1&va.memoizedState.tag){if(n.flags|=2048,Ga(9,Da.bind(null,n,r,o,t),void 0,null),null===bu)throw Error(i(349));0!==(30&ha)||Ma(n,t,o)}return o}function Ma(e,t,n){e.flags|=16384,e={getSnapshot:t,value:n},null===(t=Ea.updateQueue)?(t={lastEffect:null,stores:null},Ea.updateQueue=t,t.stores=[e]):null===(n=t.stores)?t.stores=[e]:n.push(e)}function Da(e,t,n,r){t.value=n,t.getSnapshot=r,ka(t)&&Ua(e)}function xa(e,t,n){return n((function(){ka(t)&&Ua(e)}))}function ka(e){var t=e.getSnapshot;e=e.value;try{var n=t();return!sr(e,n)}catch(r){return!0}}function Ua(e){var t=wi(e,1);null!==t&&nc(t,e,1,-1)}function Ya(e){var t=Ra();return"function"===typeof e&&(e=e()),t.memoizedState=t.baseState=e,e={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:Na,lastRenderedState:e},t.queue=e,e=e.dispatch=ns.bind(null,Ea,e),[t.memoizedState,e]}function Ga(e,t,n,r){return e={tag:e,create:t,destroy:n,deps:r,next:null},null===(t=Ea.updateQueue)?(t={lastEffect:null,stores:null},Ea.updateQueue=t,t.lastEffect=e.next=e):null===(n=t.lastEffect)?t.lastEffect=e.next=e:(r=n.next,n.next=e,e.next=r,t.lastEffect=e),e}function Fa(){return Oa().memoizedState}function Ka(e,t,n,r){var o=Ra();Ea.flags|=e,o.memoizedState=Ga(1|t,n,void 0,void 0===r?null:r)}function Ba(e,t,n,r){var o=Oa();r=void 0===r?null:r;var i=void 0;if(null!==ga){var a=ga.memoizedState;if(i=a.destroy,null!==r&&Ta(r,a.deps))return void(o.memoizedState=Ga(t,n,i,r))}Ea.flags|=e,o.memoizedState=Ga(1|t,n,i,r)}function ja(e,t){return Ka(8390656,8,e,t)}function Va(e,t){return Ba(2048,8,e,t)}function Ha(e,t){return Ba(4,2,e,t)}function Wa(e,t){return Ba(4,4,e,t)}function Ja(e,t){return"function"===typeof t?(e=e(),t(e),function(){t(null)}):null!==t&&void 0!==t?(e=e(),t.current=e,function(){t.current=null}):void 0}function za(e,t,n){return n=null!==n&&void 0!==n?n.concat([e]):null,Ba(4,4,Ja.bind(null,t,e),n)}function qa(){}function Qa(e,t){var n=Oa();t=void 0===t?null:t;var r=n.memoizedState;return null!==r&&null!==t&&Ta(t,r[1])?r[0]:(n.memoizedState=[e,t],e)}function Xa(e,t){var n=Oa();t=void 0===t?null:t;var r=n.memoizedState;return null!==r&&null!==t&&Ta(t,r[1])?r[0]:(e=e(),n.memoizedState=[e,t],e)}function $a(e,t,n){return 0===(21&ha)?(e.baseState&&(e.baseState=!1,Ss=!0),e.memoizedState=n):(sr(n,t)||(n=Et(),Ea.lanes|=n,ku|=n,e.baseState=!0),t)}function Za(e,t){var n=_t;_t=0!==n&&4>n?n:4,e(!0);var r=pa.transition;pa.transition={};try{e(!1),t()}finally{_t=n,pa.transition=r}}function es(){return Oa().memoizedState}function ts(e,t,n){var r=tc(e);if(n={lane:r,action:n,hasEagerState:!1,eagerState:null,next:null},rs(e))os(t,n);else if(null!==(n=bi(e,t,n,r))){nc(n,e,r,ec()),is(n,t,r)}}function ns(e,t,n){var r=tc(e),o={lane:r,action:n,hasEagerState:!1,eagerState:null,next:null};if(rs(e))os(t,o);else{var i=e.alternate;if(0===e.lanes&&(null===i||0===i.lanes)&&null!==(i=t.lastRenderedReducer))try{var a=t.lastRenderedState,s=i(a,n);if(o.hasEagerState=!0,o.eagerState=s,sr(s,a)){var u=t.interleaved;return null===u?(o.next=o,Ni(t)):(o.next=u.next,u.next=o),void(t.interleaved=o)}}catch(c){}null!==(n=bi(e,t,o,r))&&(nc(n,e,r,o=ec()),is(n,t,r))}}function rs(e){var t=e.alternate;return e===Ea||null!==t&&t===Ea}function os(e,t){_a=ma=!0;var n=e.pending;null===n?t.next=t:(t.next=n.next,n.next=t),e.pending=t}function is(e,t,n){if(0!==(4194240&n)){var r=t.lanes;n|=r&=e.pendingLanes,t.lanes=n,mt(e,n)}}var as={readContext:Ri,useCallback:Ca,useContext:Ca,useEffect:Ca,useImperativeHandle:Ca,useInsertionEffect:Ca,useLayoutEffect:Ca,useMemo:Ca,useReducer:Ca,useRef:Ca,useState:Ca,useDebugValue:Ca,useDeferredValue:Ca,useTransition:Ca,useMutableSource:Ca,useSyncExternalStore:Ca,useId:Ca,unstable_isNewReconciler:!1},ss={readContext:Ri,useCallback:function(e,t){return Ra().memoizedState=[e,void 0===t?null:t],e},useContext:Ri,useEffect:ja,useImperativeHandle:function(e,t,n){return n=null!==n&&void 0!==n?n.concat([e]):null,Ka(4194308,4,Ja.bind(null,t,e),n)},useLayoutEffect:function(e,t){return Ka(4194308,4,e,t)},useInsertionEffect:function(e,t){return Ka(4,2,e,t)},useMemo:function(e,t){var n=Ra();return t=void 0===t?null:t,e=e(),n.memoizedState=[e,t],e},useReducer:function(e,t,n){var r=Ra();return t=void 0!==n?n(t):t,r.memoizedState=r.baseState=t,e={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:e,lastRenderedState:t},r.queue=e,e=e.dispatch=ts.bind(null,Ea,e),[r.memoizedState,e]},useRef:function(e){return e={current:e},Ra().memoizedState=e},useState:Ya,useDebugValue:qa,useDeferredValue:function(e){return Ra().memoizedState=e},useTransition:function(){var e=Ya(!1),t=e[0];return e=Za.bind(null,e[1]),Ra().memoizedState=e,[t,e]},useMutableSource:function(){},useSyncExternalStore:function(e,t,n){var r=Ea,o=Ra();if(ii){if(void 0===n)throw Error(i(407));n=n()}else{if(n=t(),null===bu)throw Error(i(349));0!==(30&ha)||Ma(r,t,n)}o.memoizedState=n;var a={value:n,getSnapshot:t};return o.queue=a,ja(xa.bind(null,r,a,e),[e]),r.flags|=2048,Ga(9,Da.bind(null,r,a,n,t),void 0,null),n},useId:function(){var e=Ra(),t=bu.identifierPrefix;if(ii){var n=$o;t=":"+t+"R"+(n=(Xo&~(1<<32-at(Xo)-1)).toString(32)+n),0<(n=Sa++)&&(t+="H"+n.toString(32)),t+=":"}else t=":"+t+"r"+(n=ya++).toString(32)+":";return e.memoizedState=t},unstable_isNewReconciler:!1},us={readContext:Ri,useCallback:Qa,useContext:Ri,useEffect:Va,useImperativeHandle:za,useInsertionEffect:Ha,useLayoutEffect:Wa,useMemo:Xa,useReducer:ba,useRef:Fa,useState:function(){return ba(Na)},useDebugValue:qa,useDeferredValue:function(e){return $a(Oa(),ga.memoizedState,e)},useTransition:function(){return[ba(Na)[0],Oa().memoizedState]},useMutableSource:Pa,useSyncExternalStore:La,useId:es,unstable_isNewReconciler:!1},cs={readContext:Ri,useCallback:Qa,useContext:Ri,useEffect:Va,useImperativeHandle:za,useInsertionEffect:Ha,useLayoutEffect:Wa,useMemo:Xa,useReducer:wa,useRef:Fa,useState:function(){return wa(Na)},useDebugValue:qa,useDeferredValue:function(e){var t=Oa();return null===ga?t.memoizedState=e:$a(t,ga.memoizedState,e)},useTransition:function(){return[wa(Na)[0],Oa().memoizedState]},useMutableSource:Pa,useSyncExternalStore:La,useId:es,unstable_isNewReconciler:!1};function ls(e,t){try{var n="",r=t;do{n+=K(r),r=r.return}while(r);var o=n}catch(i){o="\nError generating stack: "+i.message+"\n"+i.stack}return{value:e,source:t,stack:o,digest:null}}function ds(e,t,n){return{value:e,source:null,stack:null!=n?n:null,digest:null!=t?t:null}}function fs(e,t){try{console.error(t.value)}catch(n){setTimeout((function(){throw n}))}}var ps="function"===typeof WeakMap?WeakMap:Map;function hs(e,t,n){(n=Di(-1,n)).tag=3,n.payload={element:null};var r=t.value;return n.callback=function(){Vu||(Vu=!0,Hu=r),fs(0,t)},n}function Es(e,t,n){(n=Di(-1,n)).tag=3;var r=e.type.getDerivedStateFromError;if("function"===typeof r){var o=t.value;n.payload=function(){return r(o)},n.callback=function(){fs(0,t)}}var i=e.stateNode;return null!==i&&"function"===typeof i.componentDidCatch&&(n.callback=function(){fs(0,t),"function"!==typeof r&&(null===Wu?Wu=new Set([this]):Wu.add(this));var e=t.stack;this.componentDidCatch(t.value,{componentStack:null!==e?e:""})}),n}function gs(e,t,n){var r=e.pingCache;if(null===r){r=e.pingCache=new ps;var o=new Set;r.set(t,o)}else void 0===(o=r.get(t))&&(o=new Set,r.set(t,o));o.has(n)||(o.add(n),e=Ac.bind(null,e,t,n),t.then(e,e))}function vs(e){do{var t;if((t=13===e.tag)&&(t=null===(t=e.memoizedState)||null!==t.dehydrated),t)return e;e=e.return}while(null!==e);return null}function ms(e,t,n,r,o){return 0===(1&e.mode)?(e===t?e.flags|=65536:(e.flags|=128,n.flags|=131072,n.flags&=-52805,1===n.tag&&(null===n.alternate?n.tag=17:((t=Di(-1,1)).tag=2,xi(n,t,1))),n.lanes|=1),e):(e.flags|=65536,e.lanes=o,e)}var _s=S.ReactCurrentOwner,Ss=!1;function ys(e,t,n,r){t.child=null===e?$i(t,null,n,r):Xi(t,e.child,n,r)}function Cs(e,t,n,r,o){n=n.render;var i=t.ref;return Ai(t,o),r=Ia(e,t,n,r,i,o),n=Aa(),null===e||Ss?(ii&&n&&ti(t),t.flags|=1,ys(e,t,r,o),t.child):(t.updateQueue=e.updateQueue,t.flags&=-2053,e.lanes&=~o,Vs(e,t,o))}function Ts(e,t,n,r,o){if(null===e){var i=n.type;return"function"!==typeof i||Lc(i)||void 0!==i.defaultProps||null!==n.compare||void 0!==n.defaultProps?((e=Dc(n.type,null,r,t,t.mode,o)).ref=t.ref,e.return=t,t.child=e):(t.tag=15,t.type=i,Is(e,t,i,r,o))}if(i=e.child,0===(e.lanes&o)){var a=i.memoizedProps;if((n=null!==(n=n.compare)?n:ur)(a,r)&&e.ref===t.ref)return Vs(e,t,o)}return t.flags|=1,(e=Mc(i,r)).ref=t.ref,e.return=t,t.child=e}function Is(e,t,n,r,o){if(null!==e){var i=e.memoizedProps;if(ur(i,r)&&e.ref===t.ref){if(Ss=!1,t.pendingProps=r=i,0===(e.lanes&o))return t.lanes=e.lanes,Vs(e,t,o);0!==(131072&e.flags)&&(Ss=!0)}}return Os(e,t,n,r,o)}function As(e,t,n){var r=t.pendingProps,o=r.children,i=null!==e?e.memoizedState:null;if("hidden"===r.mode)if(0===(1&t.mode))t.memoizedState={baseLanes:0,cachePool:null,transitions:null},Oo(Mu,Lu),Lu|=n;else{if(0===(1073741824&n))return e=null!==i?i.baseLanes|n:n,t.lanes=t.childLanes=1073741824,t.memoizedState={baseLanes:e,cachePool:null,transitions:null},t.updateQueue=null,Oo(Mu,Lu),Lu|=e,null;t.memoizedState={baseLanes:0,cachePool:null,transitions:null},r=null!==i?i.baseLanes:n,Oo(Mu,Lu),Lu|=r}else null!==i?(r=i.baseLanes|n,t.memoizedState=null):r=n,Oo(Mu,Lu),Lu|=r;return ys(e,t,o,n),t.child}function Rs(e,t){var n=t.ref;(null===e&&null!==n||null!==e&&e.ref!==n)&&(t.flags|=512,t.flags|=2097152)}function Os(e,t,n,r,o){var i=Mo(n)?Po:bo.current;return i=Lo(t,i),Ai(t,o),n=Ia(e,t,n,r,i,o),r=Aa(),null===e||Ss?(ii&&r&&ti(t),t.flags|=1,ys(e,t,n,o),t.child):(t.updateQueue=e.updateQueue,t.flags&=-2053,e.lanes&=~o,Vs(e,t,o))}function Ns(e,t,n,r,o){if(Mo(n)){var i=!0;Uo(t)}else i=!1;if(Ai(t,o),null===t.stateNode)js(e,t),Vi(t,n,r),Wi(t,n,r,o),r=!0;else if(null===e){var a=t.stateNode,s=t.memoizedProps;a.props=s;var u=a.context,c=n.contextType;"object"===typeof c&&null!==c?c=Ri(c):c=Lo(t,c=Mo(n)?Po:bo.current);var l=n.getDerivedStateFromProps,d="function"===typeof l||"function"===typeof a.getSnapshotBeforeUpdate;d||"function"!==typeof a.UNSAFE_componentWillReceiveProps&&"function"!==typeof a.componentWillReceiveProps||(s!==r||u!==c)&&Hi(t,a,r,c),Pi=!1;var f=t.memoizedState;a.state=f,Yi(t,r,a,o),u=t.memoizedState,s!==r||f!==u||wo.current||Pi?("function"===typeof l&&(Ki(t,n,l,r),u=t.memoizedState),(s=Pi||ji(t,n,s,r,f,u,c))?(d||"function"!==typeof a.UNSAFE_componentWillMount&&"function"!==typeof a.componentWillMount||("function"===typeof a.componentWillMount&&a.componentWillMount(),"function"===typeof a.UNSAFE_componentWillMount&&a.UNSAFE_componentWillMount()),"function"===typeof a.componentDidMount&&(t.flags|=4194308)):("function"===typeof a.componentDidMount&&(t.flags|=4194308),t.memoizedProps=r,t.memoizedState=u),a.props=r,a.state=u,a.context=c,r=s):("function"===typeof a.componentDidMount&&(t.flags|=4194308),r=!1)}else{a=t.stateNode,Mi(e,t),s=t.memoizedProps,c=t.type===t.elementType?s:vi(t.type,s),a.props=c,d=t.pendingProps,f=a.context,"object"===typeof(u=n.contextType)&&null!==u?u=Ri(u):u=Lo(t,u=Mo(n)?Po:bo.current);var p=n.getDerivedStateFromProps;(l="function"===typeof p||"function"===typeof a.getSnapshotBeforeUpdate)||"function"!==typeof a.UNSAFE_componentWillReceiveProps&&"function"!==typeof a.componentWillReceiveProps||(s!==d||f!==u)&&Hi(t,a,r,u),Pi=!1,f=t.memoizedState,a.state=f,Yi(t,r,a,o);var h=t.memoizedState;s!==d||f!==h||wo.current||Pi?("function"===typeof p&&(Ki(t,n,p,r),h=t.memoizedState),(c=Pi||ji(t,n,c,r,f,h,u)||!1)?(l||"function"!==typeof a.UNSAFE_componentWillUpdate&&"function"!==typeof a.componentWillUpdate||("function"===typeof a.componentWillUpdate&&a.componentWillUpdate(r,h,u),"function"===typeof a.UNSAFE_componentWillUpdate&&a.UNSAFE_componentWillUpdate(r,h,u)),"function"===typeof a.componentDidUpdate&&(t.flags|=4),"function"===typeof a.getSnapshotBeforeUpdate&&(t.flags|=1024)):("function"!==typeof a.componentDidUpdate||s===e.memoizedProps&&f===e.memoizedState||(t.flags|=4),"function"!==typeof a.getSnapshotBeforeUpdate||s===e.memoizedProps&&f===e.memoizedState||(t.flags|=1024),t.memoizedProps=r,t.memoizedState=h),a.props=r,a.state=h,a.context=u,r=c):("function"!==typeof a.componentDidUpdate||s===e.memoizedProps&&f===e.memoizedState||(t.flags|=4),"function"!==typeof a.getSnapshotBeforeUpdate||s===e.memoizedProps&&f===e.memoizedState||(t.flags|=1024),r=!1)}return bs(e,t,n,r,i,o)}function bs(e,t,n,r,o,i){Rs(e,t);var a=0!==(128&t.flags);if(!r&&!a)return o&&Yo(t,n,!1),Vs(e,t,i);r=t.stateNode,_s.current=t;var s=a&&"function"!==typeof n.getDerivedStateFromError?null:r.render();return t.flags|=1,null!==e&&a?(t.child=Xi(t,e.child,null,i),t.child=Xi(t,null,s,i)):ys(e,t,s,i),t.memoizedState=r.state,o&&Yo(t,n,!0),t.child}function ws(e){var t=e.stateNode;t.pendingContext?xo(0,t.pendingContext,t.pendingContext!==t.context):t.context&&xo(0,t.context,!1),oa(e,t.containerInfo)}function Ps(e,t,n,r,o){return hi(),Ei(o),t.flags|=256,ys(e,t,n,r),t.child}var Ls,Ms,Ds,xs={dehydrated:null,treeContext:null,retryLane:0};function ks(e){return{baseLanes:e,cachePool:null,transitions:null}}function Us(e,t,n){var r,o=t.pendingProps,a=ua.current,s=!1,u=0!==(128&t.flags);if((r=u)||(r=(null===e||null!==e.memoizedState)&&0!==(2&a)),r?(s=!0,t.flags&=-129):null!==e&&null===e.memoizedState||(a|=1),Oo(ua,1&a),null===e)return li(t),null!==(e=t.memoizedState)&&null!==(e=e.dehydrated)?(0===(1&t.mode)?t.lanes=1:"$!"===e.data?t.lanes=8:t.lanes=1073741824,null):(u=o.children,e=o.fallback,s?(o=t.mode,s=t.child,u={mode:"hidden",children:u},0===(1&o)&&null!==s?(s.childLanes=0,s.pendingProps=u):s=kc(u,o,0,null),e=xc(e,o,n,null),s.return=t,e.return=t,s.sibling=e,t.child=s,t.child.memoizedState=ks(n),t.memoizedState=xs,e):Ys(t,u));if(null!==(a=e.memoizedState)&&null!==(r=a.dehydrated))return function(e,t,n,r,o,a,s){if(n)return 256&t.flags?(t.flags&=-257,Gs(e,t,s,r=ds(Error(i(422))))):null!==t.memoizedState?(t.child=e.child,t.flags|=128,null):(a=r.fallback,o=t.mode,r=kc({mode:"visible",children:r.children},o,0,null),(a=xc(a,o,s,null)).flags|=2,r.return=t,a.return=t,r.sibling=a,t.child=r,0!==(1&t.mode)&&Xi(t,e.child,null,s),t.child.memoizedState=ks(s),t.memoizedState=xs,a);if(0===(1&t.mode))return Gs(e,t,s,null);if("$!"===o.data){if(r=o.nextSibling&&o.nextSibling.dataset)var u=r.dgst;return r=u,Gs(e,t,s,r=ds(a=Error(i(419)),r,void 0))}if(u=0!==(s&e.childLanes),Ss||u){if(null!==(r=bu)){switch(s&-s){case 4:o=2;break;case 16:o=8;break;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:o=32;break;case 536870912:o=268435456;break;default:o=0}0!==(o=0!==(o&(r.suspendedLanes|s))?0:o)&&o!==a.retryLane&&(a.retryLane=o,wi(e,o),nc(r,e,o,-1))}return Ec(),Gs(e,t,s,r=ds(Error(i(421))))}return"$?"===o.data?(t.flags|=128,t.child=e.child,t=Oc.bind(null,e),o._reactRetry=t,null):(e=a.treeContext,oi=co(o.nextSibling),ri=t,ii=!0,ai=null,null!==e&&(zo[qo++]=Xo,zo[qo++]=$o,zo[qo++]=Qo,Xo=e.id,$o=e.overflow,Qo=t),(t=Ys(t,r.children)).flags|=4096,t)}(e,t,u,o,r,a,n);if(s){s=o.fallback,u=t.mode,r=(a=e.child).sibling;var c={mode:"hidden",children:o.children};return 0===(1&u)&&t.child!==a?((o=t.child).childLanes=0,o.pendingProps=c,t.deletions=null):(o=Mc(a,c)).subtreeFlags=14680064&a.subtreeFlags,null!==r?s=Mc(r,s):(s=xc(s,u,n,null)).flags|=2,s.return=t,o.return=t,o.sibling=s,t.child=o,o=s,s=t.child,u=null===(u=e.child.memoizedState)?ks(n):{baseLanes:u.baseLanes|n,cachePool:null,transitions:u.transitions},s.memoizedState=u,s.childLanes=e.childLanes&~n,t.memoizedState=xs,o}return e=(s=e.child).sibling,o=Mc(s,{mode:"visible",children:o.children}),0===(1&t.mode)&&(o.lanes=n),o.return=t,o.sibling=null,null!==e&&(null===(n=t.deletions)?(t.deletions=[e],t.flags|=16):n.push(e)),t.child=o,t.memoizedState=null,o}function Ys(e,t){return(t=kc({mode:"visible",children:t},e.mode,0,null)).return=e,e.child=t}function Gs(e,t,n,r){return null!==r&&Ei(r),Xi(t,e.child,null,n),(e=Ys(t,t.pendingProps.children)).flags|=2,t.memoizedState=null,e}function Fs(e,t,n){e.lanes|=t;var r=e.alternate;null!==r&&(r.lanes|=t),Ii(e.return,t,n)}function Ks(e,t,n,r,o){var i=e.memoizedState;null===i?e.memoizedState={isBackwards:t,rendering:null,renderingStartTime:0,last:r,tail:n,tailMode:o}:(i.isBackwards=t,i.rendering=null,i.renderingStartTime=0,i.last=r,i.tail=n,i.tailMode=o)}function Bs(e,t,n){var r=t.pendingProps,o=r.revealOrder,i=r.tail;if(ys(e,t,r.children,n),0!==(2&(r=ua.current)))r=1&r|2,t.flags|=128;else{if(null!==e&&0!==(128&e.flags))e:for(e=t.child;null!==e;){if(13===e.tag)null!==e.memoizedState&&Fs(e,n,t);else if(19===e.tag)Fs(e,n,t);else if(null!==e.child){e.child.return=e,e=e.child;continue}if(e===t)break e;for(;null===e.sibling;){if(null===e.return||e.return===t)break e;e=e.return}e.sibling.return=e.return,e=e.sibling}r&=1}if(Oo(ua,r),0===(1&t.mode))t.memoizedState=null;else switch(o){case"forwards":for(n=t.child,o=null;null!==n;)null!==(e=n.alternate)&&null===ca(e)&&(o=n),n=n.sibling;null===(n=o)?(o=t.child,t.child=null):(o=n.sibling,n.sibling=null),Ks(t,!1,o,n,i);break;case"backwards":for(n=null,o=t.child,t.child=null;null!==o;){if(null!==(e=o.alternate)&&null===ca(e)){t.child=o;break}e=o.sibling,o.sibling=n,n=o,o=e}Ks(t,!0,n,null,i);break;case"together":Ks(t,!1,null,null,void 0);break;default:t.memoizedState=null}return t.child}function js(e,t){0===(1&t.mode)&&null!==e&&(e.alternate=null,t.alternate=null,t.flags|=2)}function Vs(e,t,n){if(null!==e&&(t.dependencies=e.dependencies),ku|=t.lanes,0===(n&t.childLanes))return null;if(null!==e&&t.child!==e.child)throw Error(i(153));if(null!==t.child){for(n=Mc(e=t.child,e.pendingProps),t.child=n,n.return=t;null!==e.sibling;)e=e.sibling,(n=n.sibling=Mc(e,e.pendingProps)).return=t;n.sibling=null}return t.child}function Hs(e,t){if(!ii)switch(e.tailMode){case"hidden":t=e.tail;for(var n=null;null!==t;)null!==t.alternate&&(n=t),t=t.sibling;null===n?e.tail=null:n.sibling=null;break;case"collapsed":n=e.tail;for(var r=null;null!==n;)null!==n.alternate&&(r=n),n=n.sibling;null===r?t||null===e.tail?e.tail=null:e.tail.sibling=null:r.sibling=null}}function Ws(e){var t=null!==e.alternate&&e.alternate.child===e.child,n=0,r=0;if(t)for(var o=e.child;null!==o;)n|=o.lanes|o.childLanes,r|=14680064&o.subtreeFlags,r|=14680064&o.flags,o.return=e,o=o.sibling;else for(o=e.child;null!==o;)n|=o.lanes|o.childLanes,r|=o.subtreeFlags,r|=o.flags,o.return=e,o=o.sibling;return e.subtreeFlags|=r,e.childLanes=n,t}function Js(e,t,n){var r=t.pendingProps;switch(ni(t),t.tag){case 2:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return Ws(t),null;case 1:case 17:return Mo(t.type)&&Do(),Ws(t),null;case 3:return r=t.stateNode,ia(),Ro(wo),Ro(bo),da(),r.pendingContext&&(r.context=r.pendingContext,r.pendingContext=null),null!==e&&null!==e.child||(fi(t)?t.flags|=4:null===e||e.memoizedState.isDehydrated&&0===(256&t.flags)||(t.flags|=1024,null!==ai&&(ac(ai),ai=null))),Ws(t),null;case 5:sa(t);var o=ra(na.current);if(n=t.type,null!==e&&null!=t.stateNode)Ms(e,t,n,r),e.ref!==t.ref&&(t.flags|=512,t.flags|=2097152);else{if(!r){if(null===t.stateNode)throw Error(i(166));return Ws(t),null}if(e=ra(ea.current),fi(t)){r=t.stateNode,n=t.type;var a=t.memoizedProps;switch(r[po]=t,r[ho]=a,e=0!==(1&t.mode),n){case"dialog":Gr("cancel",r),Gr("close",r);break;case"iframe":case"object":case"embed":Gr("load",r);break;case"video":case"audio":for(o=0;o<xr.length;o++)Gr(xr[o],r);break;case"source":Gr("error",r);break;case"img":case"image":case"link":Gr("error",r),Gr("load",r);break;case"details":Gr("toggle",r);break;case"input":Q(r,a),Gr("invalid",r);break;case"select":r._wrapperState={wasMultiple:!!a.multiple},Gr("invalid",r);break;case"textarea":oe(r,a),Gr("invalid",r)}for(var u in me(n,a),o=null,a)if(a.hasOwnProperty(u)){var c=a[u];"children"===u?"string"===typeof c?r.textContent!==c&&(!0!==a.suppressHydrationWarning&&$r(r.textContent,c,e),o=["children",c]):"number"===typeof c&&r.textContent!==""+c&&(!0!==a.suppressHydrationWarning&&$r(r.textContent,c,e),o=["children",""+c]):s.hasOwnProperty(u)&&null!=c&&"onScroll"===u&&Gr("scroll",r)}switch(n){case"input":W(r),Z(r,a,!0);break;case"textarea":W(r),ae(r);break;case"select":case"option":break;default:"function"===typeof a.onClick&&(r.onclick=Zr)}r=o,t.updateQueue=r,null!==r&&(t.flags|=4)}else{u=9===o.nodeType?o:o.ownerDocument,"http://www.w3.org/1999/xhtml"===e&&(e=se(n)),"http://www.w3.org/1999/xhtml"===e?"script"===n?((e=u.createElement("div")).innerHTML="<script><\/script>",e=e.removeChild(e.firstChild)):"string"===typeof r.is?e=u.createElement(n,{is:r.is}):(e=u.createElement(n),"select"===n&&(u=e,r.multiple?u.multiple=!0:r.size&&(u.size=r.size))):e=u.createElementNS(e,n),e[po]=t,e[ho]=r,Ls(e,t),t.stateNode=e;e:{switch(u=_e(n,r),n){case"dialog":Gr("cancel",e),Gr("close",e),o=r;break;case"iframe":case"object":case"embed":Gr("load",e),o=r;break;case"video":case"audio":for(o=0;o<xr.length;o++)Gr(xr[o],e);o=r;break;case"source":Gr("error",e),o=r;break;case"img":case"image":case"link":Gr("error",e),Gr("load",e),o=r;break;case"details":Gr("toggle",e),o=r;break;case"input":Q(e,r),o=q(e,r),Gr("invalid",e);break;case"option":default:o=r;break;case"select":e._wrapperState={wasMultiple:!!r.multiple},o=U({},r,{value:void 0}),Gr("invalid",e);break;case"textarea":oe(e,r),o=re(e,r),Gr("invalid",e)}for(a in me(n,o),c=o)if(c.hasOwnProperty(a)){var l=c[a];"style"===a?ge(e,l):"dangerouslySetInnerHTML"===a?null!=(l=l?l.__html:void 0)&&de(e,l):"children"===a?"string"===typeof l?("textarea"!==n||""!==l)&&fe(e,l):"number"===typeof l&&fe(e,""+l):"suppressContentEditableWarning"!==a&&"suppressHydrationWarning"!==a&&"autoFocus"!==a&&(s.hasOwnProperty(a)?null!=l&&"onScroll"===a&&Gr("scroll",e):null!=l&&_(e,a,l,u))}switch(n){case"input":W(e),Z(e,r,!1);break;case"textarea":W(e),ae(e);break;case"option":null!=r.value&&e.setAttribute("value",""+V(r.value));break;case"select":e.multiple=!!r.multiple,null!=(a=r.value)?ne(e,!!r.multiple,a,!1):null!=r.defaultValue&&ne(e,!!r.multiple,r.defaultValue,!0);break;default:"function"===typeof o.onClick&&(e.onclick=Zr)}switch(n){case"button":case"input":case"select":case"textarea":r=!!r.autoFocus;break e;case"img":r=!0;break e;default:r=!1}}r&&(t.flags|=4)}null!==t.ref&&(t.flags|=512,t.flags|=2097152)}return Ws(t),null;case 6:if(e&&null!=t.stateNode)Ds(0,t,e.memoizedProps,r);else{if("string"!==typeof r&&null===t.stateNode)throw Error(i(166));if(n=ra(na.current),ra(ea.current),fi(t)){if(r=t.stateNode,n=t.memoizedProps,r[po]=t,(a=r.nodeValue!==n)&&null!==(e=ri))switch(e.tag){case 3:$r(r.nodeValue,n,0!==(1&e.mode));break;case 5:!0!==e.memoizedProps.suppressHydrationWarning&&$r(r.nodeValue,n,0!==(1&e.mode))}a&&(t.flags|=4)}else(r=(9===n.nodeType?n:n.ownerDocument).createTextNode(r))[po]=t,t.stateNode=r}return Ws(t),null;case 13:if(Ro(ua),r=t.memoizedState,null===e||null!==e.memoizedState&&null!==e.memoizedState.dehydrated){if(ii&&null!==oi&&0!==(1&t.mode)&&0===(128&t.flags))pi(),hi(),t.flags|=98560,a=!1;else if(a=fi(t),null!==r&&null!==r.dehydrated){if(null===e){if(!a)throw Error(i(318));if(!(a=null!==(a=t.memoizedState)?a.dehydrated:null))throw Error(i(317));a[po]=t}else hi(),0===(128&t.flags)&&(t.memoizedState=null),t.flags|=4;Ws(t),a=!1}else null!==ai&&(ac(ai),ai=null),a=!0;if(!a)return 65536&t.flags?t:null}return 0!==(128&t.flags)?(t.lanes=n,t):((r=null!==r)!==(null!==e&&null!==e.memoizedState)&&r&&(t.child.flags|=8192,0!==(1&t.mode)&&(null===e||0!==(1&ua.current)?0===Du&&(Du=3):Ec())),null!==t.updateQueue&&(t.flags|=4),Ws(t),null);case 4:return ia(),null===e&&Br(t.stateNode.containerInfo),Ws(t),null;case 10:return Ti(t.type._context),Ws(t),null;case 19:if(Ro(ua),null===(a=t.memoizedState))return Ws(t),null;if(r=0!==(128&t.flags),null===(u=a.rendering))if(r)Hs(a,!1);else{if(0!==Du||null!==e&&0!==(128&e.flags))for(e=t.child;null!==e;){if(null!==(u=ca(e))){for(t.flags|=128,Hs(a,!1),null!==(r=u.updateQueue)&&(t.updateQueue=r,t.flags|=4),t.subtreeFlags=0,r=n,n=t.child;null!==n;)e=r,(a=n).flags&=14680066,null===(u=a.alternate)?(a.childLanes=0,a.lanes=e,a.child=null,a.subtreeFlags=0,a.memoizedProps=null,a.memoizedState=null,a.updateQueue=null,a.dependencies=null,a.stateNode=null):(a.childLanes=u.childLanes,a.lanes=u.lanes,a.child=u.child,a.subtreeFlags=0,a.deletions=null,a.memoizedProps=u.memoizedProps,a.memoizedState=u.memoizedState,a.updateQueue=u.updateQueue,a.type=u.type,e=u.dependencies,a.dependencies=null===e?null:{lanes:e.lanes,firstContext:e.firstContext}),n=n.sibling;return Oo(ua,1&ua.current|2),t.child}e=e.sibling}null!==a.tail&&Xe()>Bu&&(t.flags|=128,r=!0,Hs(a,!1),t.lanes=4194304)}else{if(!r)if(null!==(e=ca(u))){if(t.flags|=128,r=!0,null!==(n=e.updateQueue)&&(t.updateQueue=n,t.flags|=4),Hs(a,!0),null===a.tail&&"hidden"===a.tailMode&&!u.alternate&&!ii)return Ws(t),null}else 2*Xe()-a.renderingStartTime>Bu&&1073741824!==n&&(t.flags|=128,r=!0,Hs(a,!1),t.lanes=4194304);a.isBackwards?(u.sibling=t.child,t.child=u):(null!==(n=a.last)?n.sibling=u:t.child=u,a.last=u)}return null!==a.tail?(t=a.tail,a.rendering=t,a.tail=t.sibling,a.renderingStartTime=Xe(),t.sibling=null,n=ua.current,Oo(ua,r?1&n|2:1&n),t):(Ws(t),null);case 22:case 23:return dc(),r=null!==t.memoizedState,null!==e&&null!==e.memoizedState!==r&&(t.flags|=8192),r&&0!==(1&t.mode)?0!==(1073741824&Lu)&&(Ws(t),6&t.subtreeFlags&&(t.flags|=8192)):Ws(t),null;case 24:case 25:return null}throw Error(i(156,t.tag))}function zs(e,t){switch(ni(t),t.tag){case 1:return Mo(t.type)&&Do(),65536&(e=t.flags)?(t.flags=-65537&e|128,t):null;case 3:return ia(),Ro(wo),Ro(bo),da(),0!==(65536&(e=t.flags))&&0===(128&e)?(t.flags=-65537&e|128,t):null;case 5:return sa(t),null;case 13:if(Ro(ua),null!==(e=t.memoizedState)&&null!==e.dehydrated){if(null===t.alternate)throw Error(i(340));hi()}return 65536&(e=t.flags)?(t.flags=-65537&e|128,t):null;case 19:return Ro(ua),null;case 4:return ia(),null;case 10:return Ti(t.type._context),null;case 22:case 23:return dc(),null;default:return null}}Ls=function(e,t){for(var n=t.child;null!==n;){if(5===n.tag||6===n.tag)e.appendChild(n.stateNode);else if(4!==n.tag&&null!==n.child){n.child.return=n,n=n.child;continue}if(n===t)break;for(;null===n.sibling;){if(null===n.return||n.return===t)return;n=n.return}n.sibling.return=n.return,n=n.sibling}},Ms=function(e,t,n,r){var o=e.memoizedProps;if(o!==r){e=t.stateNode,ra(ea.current);var i,a=null;switch(n){case"input":o=q(e,o),r=q(e,r),a=[];break;case"select":o=U({},o,{value:void 0}),r=U({},r,{value:void 0}),a=[];break;case"textarea":o=re(e,o),r=re(e,r),a=[];break;default:"function"!==typeof o.onClick&&"function"===typeof r.onClick&&(e.onclick=Zr)}for(l in me(n,r),n=null,o)if(!r.hasOwnProperty(l)&&o.hasOwnProperty(l)&&null!=o[l])if("style"===l){var u=o[l];for(i in u)u.hasOwnProperty(i)&&(n||(n={}),n[i]="")}else"dangerouslySetInnerHTML"!==l&&"children"!==l&&"suppressContentEditableWarning"!==l&&"suppressHydrationWarning"!==l&&"autoFocus"!==l&&(s.hasOwnProperty(l)?a||(a=[]):(a=a||[]).push(l,null));for(l in r){var c=r[l];if(u=null!=o?o[l]:void 0,r.hasOwnProperty(l)&&c!==u&&(null!=c||null!=u))if("style"===l)if(u){for(i in u)!u.hasOwnProperty(i)||c&&c.hasOwnProperty(i)||(n||(n={}),n[i]="");for(i in c)c.hasOwnProperty(i)&&u[i]!==c[i]&&(n||(n={}),n[i]=c[i])}else n||(a||(a=[]),a.push(l,n)),n=c;else"dangerouslySetInnerHTML"===l?(c=c?c.__html:void 0,u=u?u.__html:void 0,null!=c&&u!==c&&(a=a||[]).push(l,c)):"children"===l?"string"!==typeof c&&"number"!==typeof c||(a=a||[]).push(l,""+c):"suppressContentEditableWarning"!==l&&"suppressHydrationWarning"!==l&&(s.hasOwnProperty(l)?(null!=c&&"onScroll"===l&&Gr("scroll",e),a||u===c||(a=[])):(a=a||[]).push(l,c))}n&&(a=a||[]).push("style",n);var l=a;(t.updateQueue=l)&&(t.flags|=4)}},Ds=function(e,t,n,r){n!==r&&(t.flags|=4)};var qs=!1,Qs=!1,Xs="function"===typeof WeakSet?WeakSet:Set,$s=null;function Zs(e,t){var n=e.ref;if(null!==n)if("function"===typeof n)try{n(null)}catch(r){Ic(e,t,r)}else n.current=null}function eu(e,t,n){try{n()}catch(r){Ic(e,t,r)}}var tu=!1;function nu(e,t,n){var r=t.updateQueue;if(null!==(r=null!==r?r.lastEffect:null)){var o=r=r.next;do{if((o.tag&e)===e){var i=o.destroy;o.destroy=void 0,void 0!==i&&eu(t,n,i)}o=o.next}while(o!==r)}}function ru(e,t){if(null!==(t=null!==(t=t.updateQueue)?t.lastEffect:null)){var n=t=t.next;do{if((n.tag&e)===e){var r=n.create;n.destroy=r()}n=n.next}while(n!==t)}}function ou(e){var t=e.ref;if(null!==t){var n=e.stateNode;e.tag,e=n,"function"===typeof t?t(e):t.current=e}}function iu(e){var t=e.alternate;null!==t&&(e.alternate=null,iu(t)),e.child=null,e.deletions=null,e.sibling=null,5===e.tag&&(null!==(t=e.stateNode)&&(delete t[po],delete t[ho],delete t[go],delete t[vo],delete t[mo])),e.stateNode=null,e.return=null,e.dependencies=null,e.memoizedProps=null,e.memoizedState=null,e.pendingProps=null,e.stateNode=null,e.updateQueue=null}function au(e){return 5===e.tag||3===e.tag||4===e.tag}function su(e){e:for(;;){for(;null===e.sibling;){if(null===e.return||au(e.return))return null;e=e.return}for(e.sibling.return=e.return,e=e.sibling;5!==e.tag&&6!==e.tag&&18!==e.tag;){if(2&e.flags)continue e;if(null===e.child||4===e.tag)continue e;e.child.return=e,e=e.child}if(!(2&e.flags))return e.stateNode}}function uu(e,t,n){var r=e.tag;if(5===r||6===r)e=e.stateNode,t?8===n.nodeType?n.parentNode.insertBefore(e,t):n.insertBefore(e,t):(8===n.nodeType?(t=n.parentNode).insertBefore(e,n):(t=n).appendChild(e),null!==(n=n._reactRootContainer)&&void 0!==n||null!==t.onclick||(t.onclick=Zr));else if(4!==r&&null!==(e=e.child))for(uu(e,t,n),e=e.sibling;null!==e;)uu(e,t,n),e=e.sibling}function cu(e,t,n){var r=e.tag;if(5===r||6===r)e=e.stateNode,t?n.insertBefore(e,t):n.appendChild(e);else if(4!==r&&null!==(e=e.child))for(cu(e,t,n),e=e.sibling;null!==e;)cu(e,t,n),e=e.sibling}var lu=null,du=!1;function fu(e,t,n){for(n=n.child;null!==n;)pu(e,t,n),n=n.sibling}function pu(e,t,n){if(it&&"function"===typeof it.onCommitFiberUnmount)try{it.onCommitFiberUnmount(ot,n)}catch(s){}switch(n.tag){case 5:Qs||Zs(n,t);case 6:var r=lu,o=du;lu=null,fu(e,t,n),du=o,null!==(lu=r)&&(du?(e=lu,n=n.stateNode,8===e.nodeType?e.parentNode.removeChild(n):e.removeChild(n)):lu.removeChild(n.stateNode));break;case 18:null!==lu&&(du?(e=lu,n=n.stateNode,8===e.nodeType?uo(e.parentNode,n):1===e.nodeType&&uo(e,n),Bt(e)):uo(lu,n.stateNode));break;case 4:r=lu,o=du,lu=n.stateNode.containerInfo,du=!0,fu(e,t,n),lu=r,du=o;break;case 0:case 11:case 14:case 15:if(!Qs&&(null!==(r=n.updateQueue)&&null!==(r=r.lastEffect))){o=r=r.next;do{var i=o,a=i.destroy;i=i.tag,void 0!==a&&(0!==(2&i)||0!==(4&i))&&eu(n,t,a),o=o.next}while(o!==r)}fu(e,t,n);break;case 1:if(!Qs&&(Zs(n,t),"function"===typeof(r=n.stateNode).componentWillUnmount))try{r.props=n.memoizedProps,r.state=n.memoizedState,r.componentWillUnmount()}catch(s){Ic(n,t,s)}fu(e,t,n);break;case 21:fu(e,t,n);break;case 22:1&n.mode?(Qs=(r=Qs)||null!==n.memoizedState,fu(e,t,n),Qs=r):fu(e,t,n);break;default:fu(e,t,n)}}function hu(e){var t=e.updateQueue;if(null!==t){e.updateQueue=null;var n=e.stateNode;null===n&&(n=e.stateNode=new Xs),t.forEach((function(t){var r=Nc.bind(null,e,t);n.has(t)||(n.add(t),t.then(r,r))}))}}function Eu(e,t){var n=t.deletions;if(null!==n)for(var r=0;r<n.length;r++){var o=n[r];try{var a=e,s=t,u=s;e:for(;null!==u;){switch(u.tag){case 5:lu=u.stateNode,du=!1;break e;case 3:case 4:lu=u.stateNode.containerInfo,du=!0;break e}u=u.return}if(null===lu)throw Error(i(160));pu(a,s,o),lu=null,du=!1;var c=o.alternate;null!==c&&(c.return=null),o.return=null}catch(l){Ic(o,t,l)}}if(12854&t.subtreeFlags)for(t=t.child;null!==t;)gu(t,e),t=t.sibling}function gu(e,t){var n=e.alternate,r=e.flags;switch(e.tag){case 0:case 11:case 14:case 15:if(Eu(t,e),vu(e),4&r){try{nu(3,e,e.return),ru(3,e)}catch(g){Ic(e,e.return,g)}try{nu(5,e,e.return)}catch(g){Ic(e,e.return,g)}}break;case 1:Eu(t,e),vu(e),512&r&&null!==n&&Zs(n,n.return);break;case 5:if(Eu(t,e),vu(e),512&r&&null!==n&&Zs(n,n.return),32&e.flags){var o=e.stateNode;try{fe(o,"")}catch(g){Ic(e,e.return,g)}}if(4&r&&null!=(o=e.stateNode)){var a=e.memoizedProps,s=null!==n?n.memoizedProps:a,u=e.type,c=e.updateQueue;if(e.updateQueue=null,null!==c)try{"input"===u&&"radio"===a.type&&null!=a.name&&X(o,a),_e(u,s);var l=_e(u,a);for(s=0;s<c.length;s+=2){var d=c[s],f=c[s+1];"style"===d?ge(o,f):"dangerouslySetInnerHTML"===d?de(o,f):"children"===d?fe(o,f):_(o,d,f,l)}switch(u){case"input":$(o,a);break;case"textarea":ie(o,a);break;case"select":var p=o._wrapperState.wasMultiple;o._wrapperState.wasMultiple=!!a.multiple;var h=a.value;null!=h?ne(o,!!a.multiple,h,!1):p!==!!a.multiple&&(null!=a.defaultValue?ne(o,!!a.multiple,a.defaultValue,!0):ne(o,!!a.multiple,a.multiple?[]:"",!1))}o[ho]=a}catch(g){Ic(e,e.return,g)}}break;case 6:if(Eu(t,e),vu(e),4&r){if(null===e.stateNode)throw Error(i(162));o=e.stateNode,a=e.memoizedProps;try{o.nodeValue=a}catch(g){Ic(e,e.return,g)}}break;case 3:if(Eu(t,e),vu(e),4&r&&null!==n&&n.memoizedState.isDehydrated)try{Bt(t.containerInfo)}catch(g){Ic(e,e.return,g)}break;case 4:default:Eu(t,e),vu(e);break;case 13:Eu(t,e),vu(e),8192&(o=e.child).flags&&(a=null!==o.memoizedState,o.stateNode.isHidden=a,!a||null!==o.alternate&&null!==o.alternate.memoizedState||(Ku=Xe())),4&r&&hu(e);break;case 22:if(d=null!==n&&null!==n.memoizedState,1&e.mode?(Qs=(l=Qs)||d,Eu(t,e),Qs=l):Eu(t,e),vu(e),8192&r){if(l=null!==e.memoizedState,(e.stateNode.isHidden=l)&&!d&&0!==(1&e.mode))for($s=e,d=e.child;null!==d;){for(f=$s=d;null!==$s;){switch(h=(p=$s).child,p.tag){case 0:case 11:case 14:case 15:nu(4,p,p.return);break;case 1:Zs(p,p.return);var E=p.stateNode;if("function"===typeof E.componentWillUnmount){r=p,n=p.return;try{t=r,E.props=t.memoizedProps,E.state=t.memoizedState,E.componentWillUnmount()}catch(g){Ic(r,n,g)}}break;case 5:Zs(p,p.return);break;case 22:if(null!==p.memoizedState){yu(f);continue}}null!==h?(h.return=p,$s=h):yu(f)}d=d.sibling}e:for(d=null,f=e;;){if(5===f.tag){if(null===d){d=f;try{o=f.stateNode,l?"function"===typeof(a=o.style).setProperty?a.setProperty("display","none","important"):a.display="none":(u=f.stateNode,s=void 0!==(c=f.memoizedProps.style)&&null!==c&&c.hasOwnProperty("display")?c.display:null,u.style.display=Ee("display",s))}catch(g){Ic(e,e.return,g)}}}else if(6===f.tag){if(null===d)try{f.stateNode.nodeValue=l?"":f.memoizedProps}catch(g){Ic(e,e.return,g)}}else if((22!==f.tag&&23!==f.tag||null===f.memoizedState||f===e)&&null!==f.child){f.child.return=f,f=f.child;continue}if(f===e)break e;for(;null===f.sibling;){if(null===f.return||f.return===e)break e;d===f&&(d=null),f=f.return}d===f&&(d=null),f.sibling.return=f.return,f=f.sibling}}break;case 19:Eu(t,e),vu(e),4&r&&hu(e);case 21:}}function vu(e){var t=e.flags;if(2&t){try{e:{for(var n=e.return;null!==n;){if(au(n)){var r=n;break e}n=n.return}throw Error(i(160))}switch(r.tag){case 5:var o=r.stateNode;32&r.flags&&(fe(o,""),r.flags&=-33),cu(e,su(e),o);break;case 3:case 4:var a=r.stateNode.containerInfo;uu(e,su(e),a);break;default:throw Error(i(161))}}catch(s){Ic(e,e.return,s)}e.flags&=-3}4096&t&&(e.flags&=-4097)}function mu(e,t,n){$s=e,_u(e,t,n)}function _u(e,t,n){for(var r=0!==(1&e.mode);null!==$s;){var o=$s,i=o.child;if(22===o.tag&&r){var a=null!==o.memoizedState||qs;if(!a){var s=o.alternate,u=null!==s&&null!==s.memoizedState||Qs;s=qs;var c=Qs;if(qs=a,(Qs=u)&&!c)for($s=o;null!==$s;)u=(a=$s).child,22===a.tag&&null!==a.memoizedState?Cu(o):null!==u?(u.return=a,$s=u):Cu(o);for(;null!==i;)$s=i,_u(i,t,n),i=i.sibling;$s=o,qs=s,Qs=c}Su(e)}else 0!==(8772&o.subtreeFlags)&&null!==i?(i.return=o,$s=i):Su(e)}}function Su(e){for(;null!==$s;){var t=$s;if(0!==(8772&t.flags)){var n=t.alternate;try{if(0!==(8772&t.flags))switch(t.tag){case 0:case 11:case 15:Qs||ru(5,t);break;case 1:var r=t.stateNode;if(4&t.flags&&!Qs)if(null===n)r.componentDidMount();else{var o=t.elementType===t.type?n.memoizedProps:vi(t.type,n.memoizedProps);r.componentDidUpdate(o,n.memoizedState,r.__reactInternalSnapshotBeforeUpdate)}var a=t.updateQueue;null!==a&&Gi(t,a,r);break;case 3:var s=t.updateQueue;if(null!==s){if(n=null,null!==t.child)switch(t.child.tag){case 5:case 1:n=t.child.stateNode}Gi(t,s,n)}break;case 5:var u=t.stateNode;if(null===n&&4&t.flags){n=u;var c=t.memoizedProps;switch(t.type){case"button":case"input":case"select":case"textarea":c.autoFocus&&n.focus();break;case"img":c.src&&(n.src=c.src)}}break;case 6:case 4:case 12:case 19:case 17:case 21:case 22:case 23:case 25:break;case 13:if(null===t.memoizedState){var l=t.alternate;if(null!==l){var d=l.memoizedState;if(null!==d){var f=d.dehydrated;null!==f&&Bt(f)}}}break;default:throw Error(i(163))}Qs||512&t.flags&&ou(t)}catch(p){Ic(t,t.return,p)}}if(t===e){$s=null;break}if(null!==(n=t.sibling)){n.return=t.return,$s=n;break}$s=t.return}}function yu(e){for(;null!==$s;){var t=$s;if(t===e){$s=null;break}var n=t.sibling;if(null!==n){n.return=t.return,$s=n;break}$s=t.return}}function Cu(e){for(;null!==$s;){var t=$s;try{switch(t.tag){case 0:case 11:case 15:var n=t.return;try{ru(4,t)}catch(u){Ic(t,n,u)}break;case 1:var r=t.stateNode;if("function"===typeof r.componentDidMount){var o=t.return;try{r.componentDidMount()}catch(u){Ic(t,o,u)}}var i=t.return;try{ou(t)}catch(u){Ic(t,i,u)}break;case 5:var a=t.return;try{ou(t)}catch(u){Ic(t,a,u)}}}catch(u){Ic(t,t.return,u)}if(t===e){$s=null;break}var s=t.sibling;if(null!==s){s.return=t.return,$s=s;break}$s=t.return}}var Tu,Iu=Math.ceil,Au=S.ReactCurrentDispatcher,Ru=S.ReactCurrentOwner,Ou=S.ReactCurrentBatchConfig,Nu=0,bu=null,wu=null,Pu=0,Lu=0,Mu=Ao(0),Du=0,xu=null,ku=0,Uu=0,Yu=0,Gu=null,Fu=null,Ku=0,Bu=1/0,ju=null,Vu=!1,Hu=null,Wu=null,Ju=!1,zu=null,qu=0,Qu=0,Xu=null,$u=-1,Zu=0;function ec(){return 0!==(6&Nu)?Xe():-1!==$u?$u:$u=Xe()}function tc(e){return 0===(1&e.mode)?1:0!==(2&Nu)&&0!==Pu?Pu&-Pu:null!==gi.transition?(0===Zu&&(Zu=Et()),Zu):0!==(e=_t)?e:e=void 0===(e=window.event)?16:Qt(e.type)}function nc(e,t,n,r){if(50<Qu)throw Qu=0,Xu=null,Error(i(185));vt(e,n,r),0!==(2&Nu)&&e===bu||(e===bu&&(0===(2&Nu)&&(Uu|=n),4===Du&&sc(e,Pu)),rc(e,r),1===n&&0===Nu&&0===(1&t.mode)&&(Bu=Xe()+500,Fo&&jo()))}function rc(e,t){var n=e.callbackNode;!function(e,t){for(var n=e.suspendedLanes,r=e.pingedLanes,o=e.expirationTimes,i=e.pendingLanes;0<i;){var a=31-at(i),s=1<<a,u=o[a];-1===u?0!==(s&n)&&0===(s&r)||(o[a]=pt(s,t)):u<=t&&(e.expiredLanes|=s),i&=~s}}(e,t);var r=ft(e,e===bu?Pu:0);if(0===r)null!==n&&ze(n),e.callbackNode=null,e.callbackPriority=0;else if(t=r&-r,e.callbackPriority!==t){if(null!=n&&ze(n),1===t)0===e.tag?function(e){Fo=!0,Bo(e)}(uc.bind(null,e)):Bo(uc.bind(null,e)),ao((function(){0===(6&Nu)&&jo()})),n=null;else{switch(St(r)){case 1:n=Ze;break;case 4:n=et;break;case 16:default:n=tt;break;case 536870912:n=rt}n=bc(n,oc.bind(null,e))}e.callbackPriority=t,e.callbackNode=n}}function oc(e,t){if($u=-1,Zu=0,0!==(6&Nu))throw Error(i(327));var n=e.callbackNode;if(Cc()&&e.callbackNode!==n)return null;var r=ft(e,e===bu?Pu:0);if(0===r)return null;if(0!==(30&r)||0!==(r&e.expiredLanes)||t)t=gc(e,r);else{t=r;var o=Nu;Nu|=2;var a=hc();for(bu===e&&Pu===t||(ju=null,Bu=Xe()+500,fc(e,t));;)try{mc();break}catch(u){pc(e,u)}Ci(),Au.current=a,Nu=o,null!==wu?t=0:(bu=null,Pu=0,t=Du)}if(0!==t){if(2===t&&(0!==(o=ht(e))&&(r=o,t=ic(e,o))),1===t)throw n=xu,fc(e,0),sc(e,r),rc(e,Xe()),n;if(6===t)sc(e,r);else{if(o=e.current.alternate,0===(30&r)&&!function(e){for(var t=e;;){if(16384&t.flags){var n=t.updateQueue;if(null!==n&&null!==(n=n.stores))for(var r=0;r<n.length;r++){var o=n[r],i=o.getSnapshot;o=o.value;try{if(!sr(i(),o))return!1}catch(s){return!1}}}if(n=t.child,16384&t.subtreeFlags&&null!==n)n.return=t,t=n;else{if(t===e)break;for(;null===t.sibling;){if(null===t.return||t.return===e)return!0;t=t.return}t.sibling.return=t.return,t=t.sibling}}return!0}(o)&&(2===(t=gc(e,r))&&(0!==(a=ht(e))&&(r=a,t=ic(e,a))),1===t))throw n=xu,fc(e,0),sc(e,r),rc(e,Xe()),n;switch(e.finishedWork=o,e.finishedLanes=r,t){case 0:case 1:throw Error(i(345));case 2:case 5:yc(e,Fu,ju);break;case 3:if(sc(e,r),(130023424&r)===r&&10<(t=Ku+500-Xe())){if(0!==ft(e,0))break;if(((o=e.suspendedLanes)&r)!==r){ec(),e.pingedLanes|=e.suspendedLanes&o;break}e.timeoutHandle=ro(yc.bind(null,e,Fu,ju),t);break}yc(e,Fu,ju);break;case 4:if(sc(e,r),(4194240&r)===r)break;for(t=e.eventTimes,o=-1;0<r;){var s=31-at(r);a=1<<s,(s=t[s])>o&&(o=s),r&=~a}if(r=o,10<(r=(120>(r=Xe()-r)?120:480>r?480:1080>r?1080:1920>r?1920:3e3>r?3e3:4320>r?4320:1960*Iu(r/1960))-r)){e.timeoutHandle=ro(yc.bind(null,e,Fu,ju),r);break}yc(e,Fu,ju);break;default:throw Error(i(329))}}}return rc(e,Xe()),e.callbackNode===n?oc.bind(null,e):null}function ic(e,t){var n=Gu;return e.current.memoizedState.isDehydrated&&(fc(e,t).flags|=256),2!==(e=gc(e,t))&&(t=Fu,Fu=n,null!==t&&ac(t)),e}function ac(e){null===Fu?Fu=e:Fu.push.apply(Fu,e)}function sc(e,t){for(t&=~Yu,t&=~Uu,e.suspendedLanes|=t,e.pingedLanes&=~t,e=e.expirationTimes;0<t;){var n=31-at(t),r=1<<n;e[n]=-1,t&=~r}}function uc(e){if(0!==(6&Nu))throw Error(i(327));Cc();var t=ft(e,0);if(0===(1&t))return rc(e,Xe()),null;var n=gc(e,t);if(0!==e.tag&&2===n){var r=ht(e);0!==r&&(t=r,n=ic(e,r))}if(1===n)throw n=xu,fc(e,0),sc(e,t),rc(e,Xe()),n;if(6===n)throw Error(i(345));return e.finishedWork=e.current.alternate,e.finishedLanes=t,yc(e,Fu,ju),rc(e,Xe()),null}function cc(e,t){var n=Nu;Nu|=1;try{return e(t)}finally{0===(Nu=n)&&(Bu=Xe()+500,Fo&&jo())}}function lc(e){null!==zu&&0===zu.tag&&0===(6&Nu)&&Cc();var t=Nu;Nu|=1;var n=Ou.transition,r=_t;try{if(Ou.transition=null,_t=1,e)return e()}finally{_t=r,Ou.transition=n,0===(6&(Nu=t))&&jo()}}function dc(){Lu=Mu.current,Ro(Mu)}function fc(e,t){e.finishedWork=null,e.finishedLanes=0;var n=e.timeoutHandle;if(-1!==n&&(e.timeoutHandle=-1,oo(n)),null!==wu)for(n=wu.return;null!==n;){var r=n;switch(ni(r),r.tag){case 1:null!==(r=r.type.childContextTypes)&&void 0!==r&&Do();break;case 3:ia(),Ro(wo),Ro(bo),da();break;case 5:sa(r);break;case 4:ia();break;case 13:case 19:Ro(ua);break;case 10:Ti(r.type._context);break;case 22:case 23:dc()}n=n.return}if(bu=e,wu=e=Mc(e.current,null),Pu=Lu=t,Du=0,xu=null,Yu=Uu=ku=0,Fu=Gu=null,null!==Oi){for(t=0;t<Oi.length;t++)if(null!==(r=(n=Oi[t]).interleaved)){n.interleaved=null;var o=r.next,i=n.pending;if(null!==i){var a=i.next;i.next=o,r.next=a}n.pending=r}Oi=null}return e}function pc(e,t){for(;;){var n=wu;try{if(Ci(),fa.current=as,ma){for(var r=Ea.memoizedState;null!==r;){var o=r.queue;null!==o&&(o.pending=null),r=r.next}ma=!1}if(ha=0,va=ga=Ea=null,_a=!1,Sa=0,Ru.current=null,null===n||null===n.return){Du=1,xu=t,wu=null;break}e:{var a=e,s=n.return,u=n,c=t;if(t=Pu,u.flags|=32768,null!==c&&"object"===typeof c&&"function"===typeof c.then){var l=c,d=u,f=d.tag;if(0===(1&d.mode)&&(0===f||11===f||15===f)){var p=d.alternate;p?(d.updateQueue=p.updateQueue,d.memoizedState=p.memoizedState,d.lanes=p.lanes):(d.updateQueue=null,d.memoizedState=null)}var h=vs(s);if(null!==h){h.flags&=-257,ms(h,s,u,0,t),1&h.mode&&gs(a,l,t),c=l;var E=(t=h).updateQueue;if(null===E){var g=new Set;g.add(c),t.updateQueue=g}else E.add(c);break e}if(0===(1&t)){gs(a,l,t),Ec();break e}c=Error(i(426))}else if(ii&&1&u.mode){var v=vs(s);if(null!==v){0===(65536&v.flags)&&(v.flags|=256),ms(v,s,u,0,t),Ei(ls(c,u));break e}}a=c=ls(c,u),4!==Du&&(Du=2),null===Gu?Gu=[a]:Gu.push(a),a=s;do{switch(a.tag){case 3:a.flags|=65536,t&=-t,a.lanes|=t,Ui(a,hs(0,c,t));break e;case 1:u=c;var m=a.type,_=a.stateNode;if(0===(128&a.flags)&&("function"===typeof m.getDerivedStateFromError||null!==_&&"function"===typeof _.componentDidCatch&&(null===Wu||!Wu.has(_)))){a.flags|=65536,t&=-t,a.lanes|=t,Ui(a,Es(a,u,t));break e}}a=a.return}while(null!==a)}Sc(n)}catch(S){t=S,wu===n&&null!==n&&(wu=n=n.return);continue}break}}function hc(){var e=Au.current;return Au.current=as,null===e?as:e}function Ec(){0!==Du&&3!==Du&&2!==Du||(Du=4),null===bu||0===(268435455&ku)&&0===(268435455&Uu)||sc(bu,Pu)}function gc(e,t){var n=Nu;Nu|=2;var r=hc();for(bu===e&&Pu===t||(ju=null,fc(e,t));;)try{vc();break}catch(o){pc(e,o)}if(Ci(),Nu=n,Au.current=r,null!==wu)throw Error(i(261));return bu=null,Pu=0,Du}function vc(){for(;null!==wu;)_c(wu)}function mc(){for(;null!==wu&&!qe();)_c(wu)}function _c(e){var t=Tu(e.alternate,e,Lu);e.memoizedProps=e.pendingProps,null===t?Sc(e):wu=t,Ru.current=null}function Sc(e){var t=e;do{var n=t.alternate;if(e=t.return,0===(32768&t.flags)){if(null!==(n=Js(n,t,Lu)))return void(wu=n)}else{if(null!==(n=zs(n,t)))return n.flags&=32767,void(wu=n);if(null===e)return Du=6,void(wu=null);e.flags|=32768,e.subtreeFlags=0,e.deletions=null}if(null!==(t=t.sibling))return void(wu=t);wu=t=e}while(null!==t);0===Du&&(Du=5)}function yc(e,t,n){var r=_t,o=Ou.transition;try{Ou.transition=null,_t=1,function(e,t,n,r){do{Cc()}while(null!==zu);if(0!==(6&Nu))throw Error(i(327));n=e.finishedWork;var o=e.finishedLanes;if(null===n)return null;if(e.finishedWork=null,e.finishedLanes=0,n===e.current)throw Error(i(177));e.callbackNode=null,e.callbackPriority=0;var a=n.lanes|n.childLanes;if(function(e,t){var n=e.pendingLanes&~t;e.pendingLanes=t,e.suspendedLanes=0,e.pingedLanes=0,e.expiredLanes&=t,e.mutableReadLanes&=t,e.entangledLanes&=t,t=e.entanglements;var r=e.eventTimes;for(e=e.expirationTimes;0<n;){var o=31-at(n),i=1<<o;t[o]=0,r[o]=-1,e[o]=-1,n&=~i}}(e,a),e===bu&&(wu=bu=null,Pu=0),0===(2064&n.subtreeFlags)&&0===(2064&n.flags)||Ju||(Ju=!0,bc(tt,(function(){return Cc(),null}))),a=0!==(15990&n.flags),0!==(15990&n.subtreeFlags)||a){a=Ou.transition,Ou.transition=null;var s=_t;_t=1;var u=Nu;Nu|=4,Ru.current=null,function(e,t){if(eo=Vt,pr(e=fr())){if("selectionStart"in e)var n={start:e.selectionStart,end:e.selectionEnd};else e:{var r=(n=(n=e.ownerDocument)&&n.defaultView||window).getSelection&&n.getSelection();if(r&&0!==r.rangeCount){n=r.anchorNode;var o=r.anchorOffset,a=r.focusNode;r=r.focusOffset;try{n.nodeType,a.nodeType}catch(y){n=null;break e}var s=0,u=-1,c=-1,l=0,d=0,f=e,p=null;t:for(;;){for(var h;f!==n||0!==o&&3!==f.nodeType||(u=s+o),f!==a||0!==r&&3!==f.nodeType||(c=s+r),3===f.nodeType&&(s+=f.nodeValue.length),null!==(h=f.firstChild);)p=f,f=h;for(;;){if(f===e)break t;if(p===n&&++l===o&&(u=s),p===a&&++d===r&&(c=s),null!==(h=f.nextSibling))break;p=(f=p).parentNode}f=h}n=-1===u||-1===c?null:{start:u,end:c}}else n=null}n=n||{start:0,end:0}}else n=null;for(to={focusedElem:e,selectionRange:n},Vt=!1,$s=t;null!==$s;)if(e=(t=$s).child,0!==(1028&t.subtreeFlags)&&null!==e)e.return=t,$s=e;else for(;null!==$s;){t=$s;try{var E=t.alternate;if(0!==(1024&t.flags))switch(t.tag){case 0:case 11:case 15:case 5:case 6:case 4:case 17:break;case 1:if(null!==E){var g=E.memoizedProps,v=E.memoizedState,m=t.stateNode,_=m.getSnapshotBeforeUpdate(t.elementType===t.type?g:vi(t.type,g),v);m.__reactInternalSnapshotBeforeUpdate=_}break;case 3:var S=t.stateNode.containerInfo;1===S.nodeType?S.textContent="":9===S.nodeType&&S.documentElement&&S.removeChild(S.documentElement);break;default:throw Error(i(163))}}catch(y){Ic(t,t.return,y)}if(null!==(e=t.sibling)){e.return=t.return,$s=e;break}$s=t.return}E=tu,tu=!1}(e,n),gu(n,e),hr(to),Vt=!!eo,to=eo=null,e.current=n,mu(n,e,o),Qe(),Nu=u,_t=s,Ou.transition=a}else e.current=n;if(Ju&&(Ju=!1,zu=e,qu=o),0===(a=e.pendingLanes)&&(Wu=null),function(e){if(it&&"function"===typeof it.onCommitFiberRoot)try{it.onCommitFiberRoot(ot,e,void 0,128===(128&e.current.flags))}catch(t){}}(n.stateNode),rc(e,Xe()),null!==t)for(r=e.onRecoverableError,n=0;n<t.length;n++)r((o=t[n]).value,{componentStack:o.stack,digest:o.digest});if(Vu)throw Vu=!1,e=Hu,Hu=null,e;0!==(1&qu)&&0!==e.tag&&Cc(),0!==(1&(a=e.pendingLanes))?e===Xu?Qu++:(Qu=0,Xu=e):Qu=0,jo()}(e,t,n,r)}finally{Ou.transition=o,_t=r}return null}function Cc(){if(null!==zu){var e=St(qu),t=Ou.transition,n=_t;try{if(Ou.transition=null,_t=16>e?16:e,null===zu)var r=!1;else{if(e=zu,zu=null,qu=0,0!==(6&Nu))throw Error(i(331));var o=Nu;for(Nu|=4,$s=e.current;null!==$s;){var a=$s,s=a.child;if(0!==(16&$s.flags)){var u=a.deletions;if(null!==u){for(var c=0;c<u.length;c++){var l=u[c];for($s=l;null!==$s;){var d=$s;switch(d.tag){case 0:case 11:case 15:nu(8,d,a)}var f=d.child;if(null!==f)f.return=d,$s=f;else for(;null!==$s;){var p=(d=$s).sibling,h=d.return;if(iu(d),d===l){$s=null;break}if(null!==p){p.return=h,$s=p;break}$s=h}}}var E=a.alternate;if(null!==E){var g=E.child;if(null!==g){E.child=null;do{var v=g.sibling;g.sibling=null,g=v}while(null!==g)}}$s=a}}if(0!==(2064&a.subtreeFlags)&&null!==s)s.return=a,$s=s;else e:for(;null!==$s;){if(0!==(2048&(a=$s).flags))switch(a.tag){case 0:case 11:case 15:nu(9,a,a.return)}var m=a.sibling;if(null!==m){m.return=a.return,$s=m;break e}$s=a.return}}var _=e.current;for($s=_;null!==$s;){var S=(s=$s).child;if(0!==(2064&s.subtreeFlags)&&null!==S)S.return=s,$s=S;else e:for(s=_;null!==$s;){if(0!==(2048&(u=$s).flags))try{switch(u.tag){case 0:case 11:case 15:ru(9,u)}}catch(C){Ic(u,u.return,C)}if(u===s){$s=null;break e}var y=u.sibling;if(null!==y){y.return=u.return,$s=y;break e}$s=u.return}}if(Nu=o,jo(),it&&"function"===typeof it.onPostCommitFiberRoot)try{it.onPostCommitFiberRoot(ot,e)}catch(C){}r=!0}return r}finally{_t=n,Ou.transition=t}}return!1}function Tc(e,t,n){e=xi(e,t=hs(0,t=ls(n,t),1),1),t=ec(),null!==e&&(vt(e,1,t),rc(e,t))}function Ic(e,t,n){if(3===e.tag)Tc(e,e,n);else for(;null!==t;){if(3===t.tag){Tc(t,e,n);break}if(1===t.tag){var r=t.stateNode;if("function"===typeof t.type.getDerivedStateFromError||"function"===typeof r.componentDidCatch&&(null===Wu||!Wu.has(r))){t=xi(t,e=Es(t,e=ls(n,e),1),1),e=ec(),null!==t&&(vt(t,1,e),rc(t,e));break}}t=t.return}}function Ac(e,t,n){var r=e.pingCache;null!==r&&r.delete(t),t=ec(),e.pingedLanes|=e.suspendedLanes&n,bu===e&&(Pu&n)===n&&(4===Du||3===Du&&(130023424&Pu)===Pu&&500>Xe()-Ku?fc(e,0):Yu|=n),rc(e,t)}function Rc(e,t){0===t&&(0===(1&e.mode)?t=1:(t=lt,0===(130023424&(lt<<=1))&&(lt=4194304)));var n=ec();null!==(e=wi(e,t))&&(vt(e,t,n),rc(e,n))}function Oc(e){var t=e.memoizedState,n=0;null!==t&&(n=t.retryLane),Rc(e,n)}function Nc(e,t){var n=0;switch(e.tag){case 13:var r=e.stateNode,o=e.memoizedState;null!==o&&(n=o.retryLane);break;case 19:r=e.stateNode;break;default:throw Error(i(314))}null!==r&&r.delete(t),Rc(e,n)}function bc(e,t){return Je(e,t)}function wc(e,t,n,r){this.tag=e,this.key=n,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.ref=null,this.pendingProps=t,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=r,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function Pc(e,t,n,r){return new wc(e,t,n,r)}function Lc(e){return!(!(e=e.prototype)||!e.isReactComponent)}function Mc(e,t){var n=e.alternate;return null===n?((n=Pc(e.tag,t,e.key,e.mode)).elementType=e.elementType,n.type=e.type,n.stateNode=e.stateNode,n.alternate=e,e.alternate=n):(n.pendingProps=t,n.type=e.type,n.flags=0,n.subtreeFlags=0,n.deletions=null),n.flags=14680064&e.flags,n.childLanes=e.childLanes,n.lanes=e.lanes,n.child=e.child,n.memoizedProps=e.memoizedProps,n.memoizedState=e.memoizedState,n.updateQueue=e.updateQueue,t=e.dependencies,n.dependencies=null===t?null:{lanes:t.lanes,firstContext:t.firstContext},n.sibling=e.sibling,n.index=e.index,n.ref=e.ref,n}function Dc(e,t,n,r,o,a){var s=2;if(r=e,"function"===typeof e)Lc(e)&&(s=1);else if("string"===typeof e)s=5;else e:switch(e){case T:return xc(n.children,o,a,t);case I:s=8,o|=8;break;case A:return(e=Pc(12,n,t,2|o)).elementType=A,e.lanes=a,e;case b:return(e=Pc(13,n,t,o)).elementType=b,e.lanes=a,e;case w:return(e=Pc(19,n,t,o)).elementType=w,e.lanes=a,e;case M:return kc(n,o,a,t);default:if("object"===typeof e&&null!==e)switch(e.$$typeof){case R:s=10;break e;case O:s=9;break e;case N:s=11;break e;case P:s=14;break e;case L:s=16,r=null;break e}throw Error(i(130,null==e?e:typeof e,""))}return(t=Pc(s,n,t,o)).elementType=e,t.type=r,t.lanes=a,t}function xc(e,t,n,r){return(e=Pc(7,e,r,t)).lanes=n,e}function kc(e,t,n,r){return(e=Pc(22,e,r,t)).elementType=M,e.lanes=n,e.stateNode={isHidden:!1},e}function Uc(e,t,n){return(e=Pc(6,e,null,t)).lanes=n,e}function Yc(e,t,n){return(t=Pc(4,null!==e.children?e.children:[],e.key,t)).lanes=n,t.stateNode={containerInfo:e.containerInfo,pendingChildren:null,implementation:e.implementation},t}function Gc(e,t,n,r,o){this.tag=t,this.containerInfo=e,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.pendingContext=this.context=null,this.callbackPriority=0,this.eventTimes=gt(0),this.expirationTimes=gt(-1),this.entangledLanes=this.finishedLanes=this.mutableReadLanes=this.expiredLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=gt(0),this.identifierPrefix=r,this.onRecoverableError=o,this.mutableSourceEagerHydrationData=null}function Fc(e,t,n,r,o,i,a,s,u){return e=new Gc(e,t,n,s,u),1===t?(t=1,!0===i&&(t|=8)):t=0,i=Pc(3,null,null,t),e.current=i,i.stateNode=e,i.memoizedState={element:r,isDehydrated:n,cache:null,transitions:null,pendingSuspenseBoundaries:null},Li(i),e}function Kc(e,t,n){var r=3<arguments.length&&void 0!==arguments[3]?arguments[3]:null;return{$$typeof:C,key:null==r?null:""+r,children:e,containerInfo:t,implementation:n}}function Bc(e){if(!e)return No;e:{if(Be(e=e._reactInternals)!==e||1!==e.tag)throw Error(i(170));var t=e;do{switch(t.tag){case 3:t=t.stateNode.context;break e;case 1:if(Mo(t.type)){t=t.stateNode.__reactInternalMemoizedMergedChildContext;break e}}t=t.return}while(null!==t);throw Error(i(171))}if(1===e.tag){var n=e.type;if(Mo(n))return ko(e,n,t)}return t}function jc(e,t,n,r,o,i,a,s,u){return(e=Fc(n,r,!0,e,0,i,0,s,u)).context=Bc(null),n=e.current,(i=Di(r=ec(),o=tc(n))).callback=void 0!==t&&null!==t?t:null,xi(n,i,o),e.current.lanes=o,vt(e,o,r),rc(e,r),e}function Vc(e,t,n,r){var o=t.current,i=ec(),a=tc(o);return n=Bc(n),null===t.context?t.context=n:t.pendingContext=n,(t=Di(i,a)).payload={element:e},null!==(r=void 0===r?null:r)&&(t.callback=r),null!==(e=xi(o,t,a))&&(nc(e,o,a,i),ki(e,o,a)),a}function Hc(e){return(e=e.current).child?(e.child.tag,e.child.stateNode):null}function Wc(e,t){if(null!==(e=e.memoizedState)&&null!==e.dehydrated){var n=e.retryLane;e.retryLane=0!==n&&n<t?n:t}}function Jc(e,t){Wc(e,t),(e=e.alternate)&&Wc(e,t)}Tu=function(e,t,n){if(null!==e)if(e.memoizedProps!==t.pendingProps||wo.current)Ss=!0;else{if(0===(e.lanes&n)&&0===(128&t.flags))return Ss=!1,function(e,t,n){switch(t.tag){case 3:ws(t),hi();break;case 5:aa(t);break;case 1:Mo(t.type)&&Uo(t);break;case 4:oa(t,t.stateNode.containerInfo);break;case 10:var r=t.type._context,o=t.memoizedProps.value;Oo(mi,r._currentValue),r._currentValue=o;break;case 13:if(null!==(r=t.memoizedState))return null!==r.dehydrated?(Oo(ua,1&ua.current),t.flags|=128,null):0!==(n&t.child.childLanes)?Us(e,t,n):(Oo(ua,1&ua.current),null!==(e=Vs(e,t,n))?e.sibling:null);Oo(ua,1&ua.current);break;case 19:if(r=0!==(n&t.childLanes),0!==(128&e.flags)){if(r)return Bs(e,t,n);t.flags|=128}if(null!==(o=t.memoizedState)&&(o.rendering=null,o.tail=null,o.lastEffect=null),Oo(ua,ua.current),r)break;return null;case 22:case 23:return t.lanes=0,As(e,t,n)}return Vs(e,t,n)}(e,t,n);Ss=0!==(131072&e.flags)}else Ss=!1,ii&&0!==(1048576&t.flags)&&ei(t,Jo,t.index);switch(t.lanes=0,t.tag){case 2:var r=t.type;js(e,t),e=t.pendingProps;var o=Lo(t,bo.current);Ai(t,n),o=Ia(null,t,r,e,o,n);var a=Aa();return t.flags|=1,"object"===typeof o&&null!==o&&"function"===typeof o.render&&void 0===o.$$typeof?(t.tag=1,t.memoizedState=null,t.updateQueue=null,Mo(r)?(a=!0,Uo(t)):a=!1,t.memoizedState=null!==o.state&&void 0!==o.state?o.state:null,Li(t),o.updater=Bi,t.stateNode=o,o._reactInternals=t,Wi(t,r,e,n),t=bs(null,t,r,!0,a,n)):(t.tag=0,ii&&a&&ti(t),ys(null,t,o,n),t=t.child),t;case 16:r=t.elementType;e:{switch(js(e,t),e=t.pendingProps,r=(o=r._init)(r._payload),t.type=r,o=t.tag=function(e){if("function"===typeof e)return Lc(e)?1:0;if(void 0!==e&&null!==e){if((e=e.$$typeof)===N)return 11;if(e===P)return 14}return 2}(r),e=vi(r,e),o){case 0:t=Os(null,t,r,e,n);break e;case 1:t=Ns(null,t,r,e,n);break e;case 11:t=Cs(null,t,r,e,n);break e;case 14:t=Ts(null,t,r,vi(r.type,e),n);break e}throw Error(i(306,r,""))}return t;case 0:return r=t.type,o=t.pendingProps,Os(e,t,r,o=t.elementType===r?o:vi(r,o),n);case 1:return r=t.type,o=t.pendingProps,Ns(e,t,r,o=t.elementType===r?o:vi(r,o),n);case 3:e:{if(ws(t),null===e)throw Error(i(387));r=t.pendingProps,o=(a=t.memoizedState).element,Mi(e,t),Yi(t,r,null,n);var s=t.memoizedState;if(r=s.element,a.isDehydrated){if(a={element:r,isDehydrated:!1,cache:s.cache,pendingSuspenseBoundaries:s.pendingSuspenseBoundaries,transitions:s.transitions},t.updateQueue.baseState=a,t.memoizedState=a,256&t.flags){t=Ps(e,t,r,n,o=ls(Error(i(423)),t));break e}if(r!==o){t=Ps(e,t,r,n,o=ls(Error(i(424)),t));break e}for(oi=co(t.stateNode.containerInfo.firstChild),ri=t,ii=!0,ai=null,n=$i(t,null,r,n),t.child=n;n;)n.flags=-3&n.flags|4096,n=n.sibling}else{if(hi(),r===o){t=Vs(e,t,n);break e}ys(e,t,r,n)}t=t.child}return t;case 5:return aa(t),null===e&&li(t),r=t.type,o=t.pendingProps,a=null!==e?e.memoizedProps:null,s=o.children,no(r,o)?s=null:null!==a&&no(r,a)&&(t.flags|=32),Rs(e,t),ys(e,t,s,n),t.child;case 6:return null===e&&li(t),null;case 13:return Us(e,t,n);case 4:return oa(t,t.stateNode.containerInfo),r=t.pendingProps,null===e?t.child=Xi(t,null,r,n):ys(e,t,r,n),t.child;case 11:return r=t.type,o=t.pendingProps,Cs(e,t,r,o=t.elementType===r?o:vi(r,o),n);case 7:return ys(e,t,t.pendingProps,n),t.child;case 8:case 12:return ys(e,t,t.pendingProps.children,n),t.child;case 10:e:{if(r=t.type._context,o=t.pendingProps,a=t.memoizedProps,s=o.value,Oo(mi,r._currentValue),r._currentValue=s,null!==a)if(sr(a.value,s)){if(a.children===o.children&&!wo.current){t=Vs(e,t,n);break e}}else for(null!==(a=t.child)&&(a.return=t);null!==a;){var u=a.dependencies;if(null!==u){s=a.child;for(var c=u.firstContext;null!==c;){if(c.context===r){if(1===a.tag){(c=Di(-1,n&-n)).tag=2;var l=a.updateQueue;if(null!==l){var d=(l=l.shared).pending;null===d?c.next=c:(c.next=d.next,d.next=c),l.pending=c}}a.lanes|=n,null!==(c=a.alternate)&&(c.lanes|=n),Ii(a.return,n,t),u.lanes|=n;break}c=c.next}}else if(10===a.tag)s=a.type===t.type?null:a.child;else if(18===a.tag){if(null===(s=a.return))throw Error(i(341));s.lanes|=n,null!==(u=s.alternate)&&(u.lanes|=n),Ii(s,n,t),s=a.sibling}else s=a.child;if(null!==s)s.return=a;else for(s=a;null!==s;){if(s===t){s=null;break}if(null!==(a=s.sibling)){a.return=s.return,s=a;break}s=s.return}a=s}ys(e,t,o.children,n),t=t.child}return t;case 9:return o=t.type,r=t.pendingProps.children,Ai(t,n),r=r(o=Ri(o)),t.flags|=1,ys(e,t,r,n),t.child;case 14:return o=vi(r=t.type,t.pendingProps),Ts(e,t,r,o=vi(r.type,o),n);case 15:return Is(e,t,t.type,t.pendingProps,n);case 17:return r=t.type,o=t.pendingProps,o=t.elementType===r?o:vi(r,o),js(e,t),t.tag=1,Mo(r)?(e=!0,Uo(t)):e=!1,Ai(t,n),Vi(t,r,o),Wi(t,r,o,n),bs(null,t,r,!0,e,n);case 19:return Bs(e,t,n);case 22:return As(e,t,n)}throw Error(i(156,t.tag))};var zc="function"===typeof reportError?reportError:function(e){console.error(e)};function qc(e){this._internalRoot=e}function Qc(e){this._internalRoot=e}function Xc(e){return!(!e||1!==e.nodeType&&9!==e.nodeType&&11!==e.nodeType)}function $c(e){return!(!e||1!==e.nodeType&&9!==e.nodeType&&11!==e.nodeType&&(8!==e.nodeType||" react-mount-point-unstable "!==e.nodeValue))}function Zc(){}function el(e,t,n,r,o){var i=n._reactRootContainer;if(i){var a=i;if("function"===typeof o){var s=o;o=function(){var e=Hc(a);s.call(e)}}Vc(t,a,e,o)}else a=function(e,t,n,r,o){if(o){if("function"===typeof r){var i=r;r=function(){var e=Hc(a);i.call(e)}}var a=jc(t,r,e,0,null,!1,0,"",Zc);return e._reactRootContainer=a,e[Eo]=a.current,Br(8===e.nodeType?e.parentNode:e),lc(),a}for(;o=e.lastChild;)e.removeChild(o);if("function"===typeof r){var s=r;r=function(){var e=Hc(u);s.call(e)}}var u=Fc(e,0,!1,null,0,!1,0,"",Zc);return e._reactRootContainer=u,e[Eo]=u.current,Br(8===e.nodeType?e.parentNode:e),lc((function(){Vc(t,u,n,r)})),u}(n,t,e,o,r);return Hc(a)}Qc.prototype.render=qc.prototype.render=function(e){var t=this._internalRoot;if(null===t)throw Error(i(409));Vc(e,t,null,null)},Qc.prototype.unmount=qc.prototype.unmount=function(){var e=this._internalRoot;if(null!==e){this._internalRoot=null;var t=e.containerInfo;lc((function(){Vc(null,e,null,null)})),t[Eo]=null}},Qc.prototype.unstable_scheduleHydration=function(e){if(e){var t=It();e={blockedOn:null,target:e,priority:t};for(var n=0;n<Mt.length&&0!==t&&t<Mt[n].priority;n++);Mt.splice(n,0,e),0===n&&Ut(e)}},yt=function(e){switch(e.tag){case 3:var t=e.stateNode;if(t.current.memoizedState.isDehydrated){var n=dt(t.pendingLanes);0!==n&&(mt(t,1|n),rc(t,Xe()),0===(6&Nu)&&(Bu=Xe()+500,jo()))}break;case 13:lc((function(){var t=wi(e,1);if(null!==t){var n=ec();nc(t,e,1,n)}})),Jc(e,1)}},Ct=function(e){if(13===e.tag){var t=wi(e,134217728);if(null!==t)nc(t,e,134217728,ec());Jc(e,134217728)}},Tt=function(e){if(13===e.tag){var t=tc(e),n=wi(e,t);if(null!==n)nc(n,e,t,ec());Jc(e,t)}},It=function(){return _t},At=function(e,t){var n=_t;try{return _t=e,t()}finally{_t=n}},Ce=function(e,t,n){switch(t){case"input":if($(e,n),t=n.name,"radio"===n.type&&null!=t){for(n=e;n.parentNode;)n=n.parentNode;for(n=n.querySelectorAll("input[name="+JSON.stringify(""+t)+'][type="radio"]'),t=0;t<n.length;t++){var r=n[t];if(r!==e&&r.form===e.form){var o=Co(r);if(!o)throw Error(i(90));J(r),$(r,o)}}}break;case"textarea":ie(e,n);break;case"select":null!=(t=n.value)&&ne(e,!!n.multiple,t,!1)}},Ne=cc,be=lc;var tl={usingClientEntryPoint:!1,Events:[So,yo,Co,Re,Oe,cc]},nl={findFiberByHostInstance:_o,bundleType:0,version:"18.2.0",rendererPackageName:"react-dom"},rl={bundleType:nl.bundleType,version:nl.version,rendererPackageName:nl.rendererPackageName,rendererConfig:nl.rendererConfig,overrideHookState:null,overrideHookStateDeletePath:null,overrideHookStateRenamePath:null,overrideProps:null,overridePropsDeletePath:null,overridePropsRenamePath:null,setErrorHandler:null,setSuspenseHandler:null,scheduleUpdate:null,currentDispatcherRef:S.ReactCurrentDispatcher,findHostInstanceByFiber:function(e){return null===(e=He(e))?null:e.stateNode},findFiberByHostInstance:nl.findFiberByHostInstance||function(){return null},findHostInstancesForRefresh:null,scheduleRefresh:null,scheduleRoot:null,setRefreshHandler:null,getCurrentFiber:null,reconcilerVersion:"18.2.0-next-9e3b772b8-20220608"};if("undefined"!==typeof __REACT_DEVTOOLS_GLOBAL_HOOK__){var ol=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!ol.isDisabled&&ol.supportsFiber)try{ot=ol.inject(rl),it=ol}catch(le){}}t.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=tl,t.createPortal=function(e,t){var n=2<arguments.length&&void 0!==arguments[2]?arguments[2]:null;if(!Xc(t))throw Error(i(200));return Kc(e,t,null,n)},t.createRoot=function(e,t){if(!Xc(e))throw Error(i(299));var n=!1,r="",o=zc;return null!==t&&void 0!==t&&(!0===t.unstable_strictMode&&(n=!0),void 0!==t.identifierPrefix&&(r=t.identifierPrefix),void 0!==t.onRecoverableError&&(o=t.onRecoverableError)),t=Fc(e,1,!1,null,0,n,0,r,o),e[Eo]=t.current,Br(8===e.nodeType?e.parentNode:e),new qc(t)},t.findDOMNode=function(e){if(null==e)return null;if(1===e.nodeType)return e;var t=e._reactInternals;if(void 0===t){if("function"===typeof e.render)throw Error(i(188));throw e=Object.keys(e).join(","),Error(i(268,e))}return e=null===(e=He(t))?null:e.stateNode},t.flushSync=function(e){return lc(e)},t.hydrate=function(e,t,n){if(!$c(t))throw Error(i(200));return el(null,e,t,!0,n)},t.hydrateRoot=function(e,t,n){if(!Xc(e))throw Error(i(405));var r=null!=n&&n.hydratedSources||null,o=!1,a="",s=zc;if(null!==n&&void 0!==n&&(!0===n.unstable_strictMode&&(o=!0),void 0!==n.identifierPrefix&&(a=n.identifierPrefix),void 0!==n.onRecoverableError&&(s=n.onRecoverableError)),t=jc(t,null,e,1,null!=n?n:null,o,0,a,s),e[Eo]=t.current,Br(e),r)for(e=0;e<r.length;e++)o=(o=(n=r[e])._getVersion)(n._source),null==t.mutableSourceEagerHydrationData?t.mutableSourceEagerHydrationData=[n,o]:t.mutableSourceEagerHydrationData.push(n,o);return new Qc(t)},t.render=function(e,t,n){if(!$c(t))throw Error(i(200));return el(null,e,t,!1,n)},t.unmountComponentAtNode=function(e){if(!$c(e))throw Error(i(40));return!!e._reactRootContainer&&(lc((function(){el(null,null,e,!1,(function(){e._reactRootContainer=null,e[Eo]=null}))})),!0)},t.unstable_batchedUpdates=cc,t.unstable_renderSubtreeIntoContainer=function(e,t,n,r){if(!$c(n))throw Error(i(200));if(null==e||void 0===e._reactInternals)throw Error(i(38));return el(e,t,n,!1,r)},t.version="18.2.0-next-9e3b772b8-20220608"},164:function(e,t,n){"use strict";!function e(){if("undefined"!==typeof __REACT_DEVTOOLS_GLOBAL_HOOK__&&"function"===typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE)try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(e)}catch(t){console.error(t)}}(),e.exports=n(463)},374:function(e,t,n){"use strict";var r=n(791),o=Symbol.for("react.element"),i=Symbol.for("react.fragment"),a=Object.prototype.hasOwnProperty,s=r.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,u={key:!0,ref:!0,__self:!0,__source:!0};function c(e,t,n){var r,i={},c=null,l=null;for(r in void 0!==n&&(c=""+n),void 0!==t.key&&(c=""+t.key),void 0!==t.ref&&(l=t.ref),t)a.call(t,r)&&!u.hasOwnProperty(r)&&(i[r]=t[r]);if(e&&e.defaultProps)for(r in t=e.defaultProps)void 0===i[r]&&(i[r]=t[r]);return{$$typeof:o,type:e,key:c,ref:l,props:i,_owner:s.current}}t.Fragment=i,t.jsx=c,t.jsxs=c},117:function(e,t){"use strict";var n=Symbol.for("react.element"),r=Symbol.for("react.portal"),o=Symbol.for("react.fragment"),i=Symbol.for("react.strict_mode"),a=Symbol.for("react.profiler"),s=Symbol.for("react.provider"),u=Symbol.for("react.context"),c=Symbol.for("react.forward_ref"),l=Symbol.for("react.suspense"),d=Symbol.for("react.memo"),f=Symbol.for("react.lazy"),p=Symbol.iterator;var h={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},E=Object.assign,g={};function v(e,t,n){this.props=e,this.context=t,this.refs=g,this.updater=n||h}function m(){}function _(e,t,n){this.props=e,this.context=t,this.refs=g,this.updater=n||h}v.prototype.isReactComponent={},v.prototype.setState=function(e,t){if("object"!==typeof e&&"function"!==typeof e&&null!=e)throw Error("setState(...): takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,e,t,"setState")},v.prototype.forceUpdate=function(e){this.updater.enqueueForceUpdate(this,e,"forceUpdate")},m.prototype=v.prototype;var S=_.prototype=new m;S.constructor=_,E(S,v.prototype),S.isPureReactComponent=!0;var y=Array.isArray,C=Object.prototype.hasOwnProperty,T={current:null},I={key:!0,ref:!0,__self:!0,__source:!0};function A(e,t,r){var o,i={},a=null,s=null;if(null!=t)for(o in void 0!==t.ref&&(s=t.ref),void 0!==t.key&&(a=""+t.key),t)C.call(t,o)&&!I.hasOwnProperty(o)&&(i[o]=t[o]);var u=arguments.length-2;if(1===u)i.children=r;else if(1<u){for(var c=Array(u),l=0;l<u;l++)c[l]=arguments[l+2];i.children=c}if(e&&e.defaultProps)for(o in u=e.defaultProps)void 0===i[o]&&(i[o]=u[o]);return{$$typeof:n,type:e,key:a,ref:s,props:i,_owner:T.current}}function R(e){return"object"===typeof e&&null!==e&&e.$$typeof===n}var O=/\/+/g;function N(e,t){return"object"===typeof e&&null!==e&&null!=e.key?function(e){var t={"=":"=0",":":"=2"};return"$"+e.replace(/[=:]/g,(function(e){return t[e]}))}(""+e.key):t.toString(36)}function b(e,t,o,i,a){var s=typeof e;"undefined"!==s&&"boolean"!==s||(e=null);var u=!1;if(null===e)u=!0;else switch(s){case"string":case"number":u=!0;break;case"object":switch(e.$$typeof){case n:case r:u=!0}}if(u)return a=a(u=e),e=""===i?"."+N(u,0):i,y(a)?(o="",null!=e&&(o=e.replace(O,"$&/")+"/"),b(a,t,o,"",(function(e){return e}))):null!=a&&(R(a)&&(a=function(e,t){return{$$typeof:n,type:e.type,key:t,ref:e.ref,props:e.props,_owner:e._owner}}(a,o+(!a.key||u&&u.key===a.key?"":(""+a.key).replace(O,"$&/")+"/")+e)),t.push(a)),1;if(u=0,i=""===i?".":i+":",y(e))for(var c=0;c<e.length;c++){var l=i+N(s=e[c],c);u+=b(s,t,o,l,a)}else if(l=function(e){return null===e||"object"!==typeof e?null:"function"===typeof(e=p&&e[p]||e["@@iterator"])?e:null}(e),"function"===typeof l)for(e=l.call(e),c=0;!(s=e.next()).done;)u+=b(s=s.value,t,o,l=i+N(s,c++),a);else if("object"===s)throw t=String(e),Error("Objects are not valid as a React child (found: "+("[object Object]"===t?"object with keys {"+Object.keys(e).join(", ")+"}":t)+"). If you meant to render a collection of children, use an array instead.");return u}function w(e,t,n){if(null==e)return e;var r=[],o=0;return b(e,r,"","",(function(e){return t.call(n,e,o++)})),r}function P(e){if(-1===e._status){var t=e._result;(t=t()).then((function(t){0!==e._status&&-1!==e._status||(e._status=1,e._result=t)}),(function(t){0!==e._status&&-1!==e._status||(e._status=2,e._result=t)})),-1===e._status&&(e._status=0,e._result=t)}if(1===e._status)return e._result.default;throw e._result}var L={current:null},M={transition:null},D={ReactCurrentDispatcher:L,ReactCurrentBatchConfig:M,ReactCurrentOwner:T};t.Children={map:w,forEach:function(e,t,n){w(e,(function(){t.apply(this,arguments)}),n)},count:function(e){var t=0;return w(e,(function(){t++})),t},toArray:function(e){return w(e,(function(e){return e}))||[]},only:function(e){if(!R(e))throw Error("React.Children.only expected to receive a single React element child.");return e}},t.Component=v,t.Fragment=o,t.Profiler=a,t.PureComponent=_,t.StrictMode=i,t.Suspense=l,t.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=D,t.cloneElement=function(e,t,r){if(null===e||void 0===e)throw Error("React.cloneElement(...): The argument must be a React element, but you passed "+e+".");var o=E({},e.props),i=e.key,a=e.ref,s=e._owner;if(null!=t){if(void 0!==t.ref&&(a=t.ref,s=T.current),void 0!==t.key&&(i=""+t.key),e.type&&e.type.defaultProps)var u=e.type.defaultProps;for(c in t)C.call(t,c)&&!I.hasOwnProperty(c)&&(o[c]=void 0===t[c]&&void 0!==u?u[c]:t[c])}var c=arguments.length-2;if(1===c)o.children=r;else if(1<c){u=Array(c);for(var l=0;l<c;l++)u[l]=arguments[l+2];o.children=u}return{$$typeof:n,type:e.type,key:i,ref:a,props:o,_owner:s}},t.createContext=function(e){return(e={$$typeof:u,_currentValue:e,_currentValue2:e,_threadCount:0,Provider:null,Consumer:null,_defaultValue:null,_globalName:null}).Provider={$$typeof:s,_context:e},e.Consumer=e},t.createElement=A,t.createFactory=function(e){var t=A.bind(null,e);return t.type=e,t},t.createRef=function(){return{current:null}},t.forwardRef=function(e){return{$$typeof:c,render:e}},t.isValidElement=R,t.lazy=function(e){return{$$typeof:f,_payload:{_status:-1,_result:e},_init:P}},t.memo=function(e,t){return{$$typeof:d,type:e,compare:void 0===t?null:t}},t.startTransition=function(e){var t=M.transition;M.transition={};try{e()}finally{M.transition=t}},t.unstable_act=function(){throw Error("act(...) is not supported in production builds of React.")},t.useCallback=function(e,t){return L.current.useCallback(e,t)},t.useContext=function(e){return L.current.useContext(e)},t.useDebugValue=function(){},t.useDeferredValue=function(e){return L.current.useDeferredValue(e)},t.useEffect=function(e,t){return L.current.useEffect(e,t)},t.useId=function(){return L.current.useId()},t.useImperativeHandle=function(e,t,n){return L.current.useImperativeHandle(e,t,n)},t.useInsertionEffect=function(e,t){return L.current.useInsertionEffect(e,t)},t.useLayoutEffect=function(e,t){return L.current.useLayoutEffect(e,t)},t.useMemo=function(e,t){return L.current.useMemo(e,t)},t.useReducer=function(e,t,n){return L.current.useReducer(e,t,n)},t.useRef=function(e){return L.current.useRef(e)},t.useState=function(e){return L.current.useState(e)},t.useSyncExternalStore=function(e,t,n){return L.current.useSyncExternalStore(e,t,n)},t.useTransition=function(){return L.current.useTransition()},t.version="18.2.0"},791:function(e,t,n){"use strict";e.exports=n(117)},184:function(e,t,n){"use strict";e.exports=n(374)},813:function(e,t){"use strict";function n(e,t){var n=e.length;e.push(t);e:for(;0<n;){var r=n-1>>>1,o=e[r];if(!(0<i(o,t)))break e;e[r]=t,e[n]=o,n=r}}function r(e){return 0===e.length?null:e[0]}function o(e){if(0===e.length)return null;var t=e[0],n=e.pop();if(n!==t){e[0]=n;e:for(var r=0,o=e.length,a=o>>>1;r<a;){var s=2*(r+1)-1,u=e[s],c=s+1,l=e[c];if(0>i(u,n))c<o&&0>i(l,u)?(e[r]=l,e[c]=n,r=c):(e[r]=u,e[s]=n,r=s);else{if(!(c<o&&0>i(l,n)))break e;e[r]=l,e[c]=n,r=c}}}return t}function i(e,t){var n=e.sortIndex-t.sortIndex;return 0!==n?n:e.id-t.id}if("object"===typeof performance&&"function"===typeof performance.now){var a=performance;t.unstable_now=function(){return a.now()}}else{var s=Date,u=s.now();t.unstable_now=function(){return s.now()-u}}var c=[],l=[],d=1,f=null,p=3,h=!1,E=!1,g=!1,v="function"===typeof setTimeout?setTimeout:null,m="function"===typeof clearTimeout?clearTimeout:null,_="undefined"!==typeof setImmediate?setImmediate:null;function S(e){for(var t=r(l);null!==t;){if(null===t.callback)o(l);else{if(!(t.startTime<=e))break;o(l),t.sortIndex=t.expirationTime,n(c,t)}t=r(l)}}function y(e){if(g=!1,S(e),!E)if(null!==r(c))E=!0,M(C);else{var t=r(l);null!==t&&D(y,t.startTime-e)}}function C(e,n){E=!1,g&&(g=!1,m(R),R=-1),h=!0;var i=p;try{for(S(n),f=r(c);null!==f&&(!(f.expirationTime>n)||e&&!b());){var a=f.callback;if("function"===typeof a){f.callback=null,p=f.priorityLevel;var s=a(f.expirationTime<=n);n=t.unstable_now(),"function"===typeof s?f.callback=s:f===r(c)&&o(c),S(n)}else o(c);f=r(c)}if(null!==f)var u=!0;else{var d=r(l);null!==d&&D(y,d.startTime-n),u=!1}return u}finally{f=null,p=i,h=!1}}"undefined"!==typeof navigator&&void 0!==navigator.scheduling&&void 0!==navigator.scheduling.isInputPending&&navigator.scheduling.isInputPending.bind(navigator.scheduling);var T,I=!1,A=null,R=-1,O=5,N=-1;function b(){return!(t.unstable_now()-N<O)}function w(){if(null!==A){var e=t.unstable_now();N=e;var n=!0;try{n=A(!0,e)}finally{n?T():(I=!1,A=null)}}else I=!1}if("function"===typeof _)T=function(){_(w)};else if("undefined"!==typeof MessageChannel){var P=new MessageChannel,L=P.port2;P.port1.onmessage=w,T=function(){L.postMessage(null)}}else T=function(){v(w,0)};function M(e){A=e,I||(I=!0,T())}function D(e,n){R=v((function(){e(t.unstable_now())}),n)}t.unstable_IdlePriority=5,t.unstable_ImmediatePriority=1,t.unstable_LowPriority=4,t.unstable_NormalPriority=3,t.unstable_Profiling=null,t.unstable_UserBlockingPriority=2,t.unstable_cancelCallback=function(e){e.callback=null},t.unstable_continueExecution=function(){E||h||(E=!0,M(C))},t.unstable_forceFrameRate=function(e){0>e||125<e?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):O=0<e?Math.floor(1e3/e):5},t.unstable_getCurrentPriorityLevel=function(){return p},t.unstable_getFirstCallbackNode=function(){return r(c)},t.unstable_next=function(e){switch(p){case 1:case 2:case 3:var t=3;break;default:t=p}var n=p;p=t;try{return e()}finally{p=n}},t.unstable_pauseExecution=function(){},t.unstable_requestPaint=function(){},t.unstable_runWithPriority=function(e,t){switch(e){case 1:case 2:case 3:case 4:case 5:break;default:e=3}var n=p;p=e;try{return t()}finally{p=n}},t.unstable_scheduleCallback=function(e,o,i){var a=t.unstable_now();switch("object"===typeof i&&null!==i?i="number"===typeof(i=i.delay)&&0<i?a+i:a:i=a,e){case 1:var s=-1;break;case 2:s=250;break;case 5:s=1073741823;break;case 4:s=1e4;break;default:s=5e3}return e={id:d++,callback:o,priorityLevel:e,startTime:i,expirationTime:s=i+s,sortIndex:-1},i>a?(e.sortIndex=i,n(l,e),null===r(c)&&e===r(l)&&(g?(m(R),R=-1):g=!0,D(y,i-a))):(e.sortIndex=s,n(c,e),E||h||(E=!0,M(C))),e},t.unstable_shouldYield=b,t.unstable_wrapCallback=function(e){var t=p;return function(){var n=p;p=t;try{return e.apply(this,arguments)}finally{p=n}}}},296:function(e,t,n){"use strict";e.exports=n(813)},391:function(e){"use strict";var t=function(){};e.exports=t},111:function(e){window,e.exports=function(e){var t={};function n(r){if(t[r])return t[r].exports;var o=t[r]={i:r,l:!1,exports:{}};return e[r].call(o.exports,o,o.exports,n),o.l=!0,o.exports}return n.m=e,n.c=t,n.d=function(e,t,r){n.o(e,t)||Object.defineProperty(e,t,{enumerable:!0,get:r})},n.r=function(e){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},n.t=function(e,t){if(1&t&&(e=n(e)),8&t)return e;if(4&t&&"object"==typeof e&&e&&e.__esModule)return e;var r=Object.create(null);if(n.r(r),Object.defineProperty(r,"default",{enumerable:!0,value:e}),2&t&&"string"!=typeof e)for(var o in e)n.d(r,o,function(t){return e[t]}.bind(null,o));return r},n.n=function(e){var t=e&&e.__esModule?function(){return e.default}:function(){return e};return n.d(t,"a",t),t},n.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},n.p="",n(n.s=38)}([function(e,t,n){"use strict";t.__esModule=!0,t.validateConversationType=t.validateUpdateUser=t.validateCreateUser=t.validateMessage=t.validateChatType=t.validateMsgId=t.validateArray=t.validateHideMessagesFromBlockedUsers=t.validateId=t.validateCreateGroup=t.validateJoinGroup=t.validateUpdateGroup=t.validateScope=t.isAudio=t.isVideo=t.isImage=t.getUpdatedSettings=t.getAppSettings=t.getCurrentTime=t.Logger=t.createUidFromJid=t.format=t.getOrdinalSuffix=t.isFalsy=t.isTruthy=t.isObject=t.getJidHost=t.getChatHost=void 0;var r=n(12),o=n(1),i=n(6),a=n(2),s=n(16),u=n(17),c=n(19),l=n(3),d=n(14);function f(e){return null!=e&&("string"==typeof e&&(e=e.trim()),"object"==typeof e&&0===Object.keys(e).length&&(e=void 0)),["",0,"0",!1,null,"null",void 0,"undefined"].includes(e)}function p(e){for(var t=[],n=1;n<arguments.length;n++)t[n-1]=arguments[n];return e.split("%s").reduce((function(e,n,r){return e+n+(t[r]||"")}),"")}t.getChatHost=function(e){return e[o.APP_SETTINGS.KEYS.CHAT_HOST_OVERRIDE]?e[o.APP_SETTINGS.KEYS.CHAT_HOST_OVERRIDE]:e[o.APP_SETTINGS.KEYS.CHAT_HOST_APP_SPECIFIC]?e[o.APP_SETTINGS.KEYS.CHAT_HOST_APP_SPECIFIC]:e[o.APP_SETTINGS.KEYS.CHAT_HOST]},t.getJidHost=function(e){return e[o.APP_SETTINGS.KEYS.JID_HOST_OVERRIDE]?e[o.APP_SETTINGS.KEYS.JID_HOST_OVERRIDE]:e[o.APP_SETTINGS.KEYS.CHAT_HOST]},t.isObject=function(e){return e instanceof Object&&e.constructor===Object},t.isTruthy=function(e){return[!0,1,"1","true","TRUE"].includes(e)},t.isFalsy=f,t.getOrdinalSuffix=function(e){var t=e%10,n=e%100;return 1==t&&11!=n?e+"st":2==t&&12!=n?e+"nd":3==t&&13!=n?e+"rd":e+"th"},t.format=p,t.createUidFromJid=function(e){return e.substring(e.lastIndexOf("]")+1,e.lastIndexOf("@"))};var h=function(){function e(){}return e.log=function(e,t){},e.error=function(e,t){},e.info=function(e,t){},e}();function E(){return new Promise((function(e,t){i.makeApiCall("appSettings").then((function(t){r.LocalStorage.getInstance().set(o.LOCAL_STORE.KEY_APP_SETTINGS,t.data),t.data.MODE&&l.CometChat.setMode(t.data.MODE),e(t.data)}),(function(e){t(new a.CometChatException(e.error))}))}))}t.Logger=h,t.getCurrentTime=function(){return(new Date).getTime()},t.getAppSettings=function(){return new Promise((function(e,t){r.LocalStorage.getInstance().get(o.LOCAL_STORE.KEY_APP_SETTINGS).then((function(n){f(n)?E().then((function(t){e(t)}),(function(e){t(e)})):e(n)}),(function(e){t(e)}))}))},t.getUpdatedSettings=E,t.isImage=function(e){var t;return e.type&&e.type.toLowerCase().includes("image")&&(t=!0),t},t.isVideo=function(e){var t;return e.type&&e.type.toLowerCase().includes("video")&&(t=!0),t},t.isAudio=function(e){var t;return e.type&&e.type.toLowerCase().includes("audio")&&(t=!0),t},t.validateScope=function(e){return typeof e!==o.COMMON_UTILITY_CONSTANTS.TYPE_CONSTANTS.STRING?new a.CometChatException(JSON.parse(p(JSON.stringify(o.GENERAL_ERROR.MUST_BE_A_STRING),"SCOPE","SCOPE","Scope"))):f(e)?new a.CometChatException(JSON.parse(p(JSON.stringify(o.GENERAL_ERROR.INVALID),"SCOPE","SCOPE","scope","scope"))):e!=l.CometChat.GROUP_MEMBER_SCOPE.ADMIN&&e!=l.CometChat.GROUP_MEMBER_SCOPE.MODERATOR&&e!=l.CometChat.GROUP_MEMBER_SCOPE.PARTICIPANT?new a.CometChatException(o.GroupErrors.INVALID_SCOPE):void 0},t.validateUpdateGroup=function(e){return e.hasOwnProperty(o.GroupConstants.KEYS.GUID)?typeof e[o.GroupConstants.KEYS.GUID]!==o.COMMON_UTILITY_CONSTANTS.TYPE_CONSTANTS.STRING?new a.CometChatException(JSON.parse(p(JSON.stringify(o.GENERAL_ERROR.MUST_BE_A_STRING),"GUID","GUID","GUID"))):f(e[o.GroupConstants.KEYS.GUID])?new a.CometChatException(JSON.parse(p(JSON.stringify(o.GENERAL_ERROR.INVALID_GROUP_PROPERTY),"GUID","GUID","GUID","GUID"))):e.hasOwnProperty(o.GroupConstants.KEYS.NAME)&&""===e[o.GroupConstants.KEYS.NAME]?new a.CometChatException(JSON.parse(p(JSON.stringify(o.GENERAL_ERROR.EMPTY_STRING),"GROUP_NAME","GROUP_NAME","Group name"))):void 0:new a.CometChatException(JSON.parse(p(JSON.stringify(o.GENERAL_ERROR.PARAMETER_COMPULSORY),"GUID","GUID","GUID","GUID")))},t.validateJoinGroup=function(e,t,n){if(typeof e==o.COMMON_UTILITY_CONSTANTS.TYPE_CONSTANTS.OBJECT){if(!e.hasOwnProperty(o.GroupConstants.KEYS.GUID))return new a.CometChatException(JSON.parse(p(JSON.stringify(o.GENERAL_ERROR.PARAMETER_COMPULSORY),"GUID","GUID","GUID","GUID")));if(typeof e[o.GroupConstants.KEYS.GUID]!==o.COMMON_UTILITY_CONSTANTS.TYPE_CONSTANTS.STRING)return new a.CometChatException(JSON.parse(p(JSON.stringify(o.GENERAL_ERROR.MUST_BE_A_STRING),"GUID","GUID","GUID")));if(f(e[o.GroupConstants.KEYS.GUID]))return new a.CometChatException(JSON.parse(p(JSON.stringify(o.GENERAL_ERROR.INVALID_GROUP_PROPERTY),"GUID","GUID","GUID","GUID")));if(!e.hasOwnProperty(o.GroupConstants.KEYS.TYPE))return new a.CometChatException(JSON.parse(p(JSON.stringify(o.GENERAL_ERROR.PARAMETER_COMPULSORY),"GROUP_TYPE","GROUP_TYPE","Group type","Group type")));if(typeof e[o.GroupConstants.KEYS.TYPE]!==o.COMMON_UTILITY_CONSTANTS.TYPE_CONSTANTS.STRING)return new a.CometChatException(JSON.parse(p(JSON.stringify(o.GENERAL_ERROR.MUST_BE_A_STRING),"GROUP_TYPE","GROUP_TYPE","Group type")));if(f(e[o.GroupConstants.KEYS.TYPE]))return new a.CometChatException(JSON.parse(p(JSON.stringify(o.GENERAL_ERROR.INVALID_GROUP_PROPERTY),"GROUP_TYPE","GROUP_TYPE","type","type")));if(e[o.GroupConstants.KEYS.TYPE].toLowerCase()!=l.CometChat.GROUP_TYPE.PUBLIC&&e[o.GroupConstants.KEYS.TYPE].toLowerCase()!=l.CometChat.GROUP_TYPE.PASSWORD&&e[o.GroupConstants.KEYS.TYPE].toLowerCase()!=l.CometChat.GROUP_TYPE.PROTECTED&&e[o.GroupConstants.KEYS.TYPE].toLowerCase()!=l.CometChat.GROUP_TYPE.PRIVATE)return new a.CometChatException(o.GroupErrors.INVALID_GROUP_TYPE);if(e[o.GroupConstants.KEYS.TYPE].toLowerCase()==l.CometChat.GROUP_TYPE.PASSWORD){if(!e.hasOwnProperty(o.GroupConstants.KEYS.PASSWORD))return new a.CometChatException(JSON.parse(p(JSON.stringify(o.GENERAL_ERROR.PASSWORD_COMPULSORY),"PASSWORD","PASSWORD")));if(typeof e[o.GroupConstants.KEYS.PASSWORD]!==o.COMMON_UTILITY_CONSTANTS.TYPE_CONSTANTS.STRING)return new a.CometChatException(JSON.parse(p(JSON.stringify(o.GENERAL_ERROR.MUST_BE_A_STRING),"PASSWORD","PASSWORD","Password")));if(f(e[o.GroupConstants.KEYS.PASSWORD]))return new a.CometChatException(JSON.parse(p(JSON.stringify(o.GENERAL_ERROR.INVALID_GROUP_PROPERTY),"PASSWORD","PASSWORD","password","password")))}}else{if(void 0!==e){if(typeof e!==o.COMMON_UTILITY_CONSTANTS.TYPE_CONSTANTS.STRING)return new a.CometChatException(JSON.parse(p(JSON.stringify(o.GENERAL_ERROR.MUST_BE_A_STRING),"GUID","GUID","GUID")));if(f(e))return new a.CometChatException(JSON.parse(p(JSON.stringify(o.GENERAL_ERROR.INVALID_GROUP_PROPERTY),"GUID","GUID","GUID","GUID")))}if(void 0!==t){if(typeof t!==o.COMMON_UTILITY_CONSTANTS.TYPE_CONSTANTS.STRING)return new a.CometChatException(JSON.parse(p(JSON.stringify(o.GENERAL_ERROR.MUST_BE_A_STRING),"GROUP_TYPE","GROUP_TYPE","Group type")));if(f(t))return new a.CometChatException(JSON.parse(p(JSON.stringify(o.GENERAL_ERROR.INVALID_GROUP_PROPERTY),"GROUP_TYPE","GROUP_TYPE","type","type")));if(t.toLowerCase()!=l.CometChat.GROUP_TYPE.PUBLIC&&t.toLowerCase()!=l.CometChat.GROUP_TYPE.PASSWORD&&t.toLowerCase()!=l.CometChat.GROUP_TYPE.PROTECTED&&t.toLowerCase()!=l.CometChat.GROUP_TYPE.PRIVATE)return new a.CometChatException(o.GroupErrors.INVALID_GROUP_TYPE);if(t.toLowerCase()==l.CometChat.GROUP_TYPE.PASSWORD){if(typeof n!==o.COMMON_UTILITY_CONSTANTS.TYPE_CONSTANTS.STRING)return new a.CometChatException(JSON.parse(p(JSON.stringify(o.GENERAL_ERROR.MUST_BE_A_STRING),"PASSWORD","PASSWORD","Password")));if(f(n))return new a.CometChatException(JSON.parse(p(JSON.stringify(o.GENERAL_ERROR.INVALID_GROUP_PROPERTY),"PASSWORD","PASSWORD","password","password")))}}}},t.validateCreateGroup=function(e){if(!e.hasOwnProperty(o.GroupConstants.KEYS.GUID))return new a.CometChatException(JSON.parse(p(JSON.stringify(o.GENERAL_ERROR.PARAMETER_COMPULSORY),"GUID","GUID","GUID","GUID")));if(typeof e[o.GroupConstants.KEYS.GUID]!==o.COMMON_UTILITY_CONSTANTS.TYPE_CONSTANTS.STRING)return new a.CometChatException(JSON.parse(p(JSON.stringify(o.GENERAL_ERROR.MUST_BE_A_STRING),"GUID","GUID","GUID")));if(f(e[o.GroupConstants.KEYS.GUID]))return new a.CometChatException(JSON.parse(p(JSON.stringify(o.GENERAL_ERROR.INVALID_GROUP_PROPERTY),"GUID","GUID","GUID","GUID")));if(!e.hasOwnProperty(o.GroupConstants.KEYS.NAME))return new a.CometChatException(JSON.parse(p(JSON.stringify(o.GENERAL_ERROR.PARAMETER_COMPULSORY),"GROUP_NAME","GROUP_NAME","Group name","Group name")));if(typeof e[o.GroupConstants.KEYS.NAME]!==o.COMMON_UTILITY_CONSTANTS.TYPE_CONSTANTS.STRING)return new a.CometChatException(JSON.parse(p(JSON.stringify(o.GENERAL_ERROR.MUST_BE_A_STRING),"GROUP_NAME","GROUP_NAME","Group name")));if(f(e[o.GroupConstants.KEYS.NAME]))return new a.CometChatException(JSON.parse(p(JSON.stringify(o.GENERAL_ERROR.INVALID_GROUP_PROPERTY),"GROUP_NAME","GROUP_NAME","name","name")));if(!e.hasOwnProperty(o.GroupConstants.KEYS.TYPE))return new a.CometChatException(JSON.parse(p(JSON.stringify(o.GENERAL_ERROR.PARAMETER_COMPULSORY),"GROUP_TYPE","GROUP_TYPE","Group type","Group type")));if(typeof e[o.GroupConstants.KEYS.TYPE]!==o.COMMON_UTILITY_CONSTANTS.TYPE_CONSTANTS.STRING)return new a.CometChatException(JSON.parse(p(JSON.stringify(o.GENERAL_ERROR.MUST_BE_A_STRING),"GROUP_TYPE","GROUP_TYPE","Group type")));if(f(e[o.GroupConstants.KEYS.TYPE]))return new a.CometChatException(JSON.parse(p(JSON.stringify(o.GENERAL_ERROR.INVALID_GROUP_PROPERTY),"GROUP_TYPE","GROUP_TYPE","type","type")));if(e[o.GroupConstants.KEYS.TYPE].toLowerCase()!=l.CometChat.GROUP_TYPE.PUBLIC&&e[o.GroupConstants.KEYS.TYPE].toLowerCase()!=l.CometChat.GROUP_TYPE.PASSWORD&&e[o.GroupConstants.KEYS.TYPE].toLowerCase()!=l.CometChat.GROUP_TYPE.PROTECTED&&e[o.GroupConstants.KEYS.TYPE].toLowerCase()!=l.CometChat.GROUP_TYPE.PRIVATE)return new a.CometChatException(o.GroupErrors.INVALID_GROUP_TYPE);if(e[o.GroupConstants.KEYS.TYPE].toLowerCase()==l.CometChat.GROUP_TYPE.PASSWORD){if(!e.hasOwnProperty(o.GroupConstants.KEYS.PASSWORD))return new a.CometChatException(JSON.parse(p(JSON.stringify(o.GENERAL_ERROR.PASSWORD_COMPULSORY),"PASSWORD","PASSWORD")));if(typeof e[o.GroupConstants.KEYS.PASSWORD]!==o.COMMON_UTILITY_CONSTANTS.TYPE_CONSTANTS.STRING)return new a.CometChatException(JSON.parse(p(JSON.stringify(o.GENERAL_ERROR.MUST_BE_A_STRING),"PASSWORD","PASSWORD","Password")));if(f(e[o.GroupConstants.KEYS.PASSWORD]))return new a.CometChatException(JSON.parse(p(JSON.stringify(o.GENERAL_ERROR.INVALID_GROUP_PROPERTY),"PASSWORD","PASSWORD","password","password")))}if(e.hasOwnProperty(o.GroupConstants.KEYS.TAGS)){if(!Array.isArray(e[o.GroupConstants.KEYS.TAGS]))return new a.CometChatException(JSON.parse(p(JSON.stringify(o.GENERAL_ERROR.MUST_BE_AN_ARRAY),"GROUP_TAGS","GROUP_TAGS","Group tags")));if(0===e[o.GroupConstants.KEYS.TAGS].length)return new a.CometChatException(JSON.parse(p(JSON.stringify(o.GENERAL_ERROR.EMPTY_ARRAY),"GROUP_TAGS","GROUP_TAGS","Group tags")))}},t.validateId=function(e,t){if("user"===t){if(typeof e!==o.COMMON_UTILITY_CONSTANTS.TYPE_CONSTANTS.STRING)return new a.CometChatException(JSON.parse(p(JSON.stringify(o.GENERAL_ERROR.MUST_BE_A_STRING),"UID","UID","UID")));if(f(e))return new a.CometChatException(JSON.parse(p(JSON.stringify(o.GENERAL_ERROR.INVALID),"UID","UID","UID","UID")))}if("group"===t){if(typeof e!==o.COMMON_UTILITY_CONSTANTS.TYPE_CONSTANTS.STRING)return new a.CometChatException(JSON.parse(p(JSON.stringify(o.GENERAL_ERROR.MUST_BE_A_STRING),"GUID","GUID","GUID")));if(f(e))return new a.CometChatException(JSON.parse(p(JSON.stringify(o.GENERAL_ERROR.INVALID),"GUID","GUID","GUID","GUID")))}},t.validateHideMessagesFromBlockedUsers=function(e){if(typeof e!==o.COMMON_UTILITY_CONSTANTS.TYPE_CONSTANTS.BOOLEAN)return new a.CometChatException(JSON.parse(p(JSON.stringify(o.GENERAL_ERROR.MUST_BE_A_BOOLEAN),"HIDE_MESSAGES_FROM_BLOCKED_USERS","HIDE_MESSAGES_FROM_BLOCKED_USERS","hideMessagesFromBlockedUsers")))},t.validateArray=function(e,t){var n="List should be an array.";return n="blockUsers"===t?"blockUsers() method accepts an array of users.":"unblockUsers"===t?"unblockUsers() method accepts an array of users.":"groupMembers"===t?"addMembersToGroup() method accepts members list as an array of users.":"addMembersToGroup() method accepts bannedMembers list as an array of users.",typeof e!=o.COMMON_UTILITY_CONSTANTS.TYPE_CONSTANTS.OBJECT?new a.CometChatException(JSON.parse(p(JSON.stringify(o.GENERAL_ERROR.INVALID_ARRAY),"USER_LIST","USER_LIST",n))):Array.isArray(e)?void 0:new a.CometChatException(JSON.parse(p(JSON.stringify(o.GENERAL_ERROR.INVALID_ARRAY),"USER_LIST","USER_LIST",n)))},t.validateMsgId=function(e){return isNaN(e)?new a.CometChatException(JSON.parse(p(JSON.stringify(o.GENERAL_ERROR.MUST_BE_A_NUMBER),"MESSAGE_ID","MESSAGE_ID","Message Id"))):f(e)?new a.CometChatException(d.ERRORS.PARAMETER_MISSING):void 0},t.validateChatType=function(e){return typeof e!==o.COMMON_UTILITY_CONSTANTS.TYPE_CONSTANTS.STRING?new a.CometChatException(JSON.parse(p(JSON.stringify(o.GENERAL_ERROR.MUST_BE_A_STRING),"RECEIVER_TYPE","RECEIVER_TYPE","Receiver type"))):f(e)?new a.CometChatException(JSON.parse(p(JSON.stringify(o.GENERAL_ERROR.INVALID),"RECEIVER_TYPE","RECEIVER_TYPE","receiver type","receiver type"))):e!=o.MessageConstatnts.RECEIVER_TYPE.GROUP&&e!=o.MessageConstatnts.RECEIVER_TYPE.USER?new a.CometChatException(o.MessageErrors.INVALID_RECEIVER_TYPE):void 0},t.validateMessage=function(e){var n=e;if(typeof n.getReceiverId()!==o.COMMON_UTILITY_CONSTANTS.TYPE_CONSTANTS.STRING)return new a.CometChatException(JSON.parse(p(JSON.stringify(o.GENERAL_ERROR.MUST_BE_A_STRING),"RECEIVER_ID","RECEIVER_ID","Receiver Id")));if(f(n.getReceiverId()))return new a.CometChatException(JSON.parse(p(JSON.stringify(o.GENERAL_ERROR.INVALID),"RECEIVER_ID","RECEIVER_ID","receiver id","receiver id")));if(typeof n.getReceiverType()!==o.COMMON_UTILITY_CONSTANTS.TYPE_CONSTANTS.STRING)return new a.CometChatException(JSON.parse(p(JSON.stringify(o.GENERAL_ERROR.MUST_BE_A_STRING),"RECEIVER_TYPE","RECEIVER_TYPE","Receiver Type")));if(f(n.getReceiverType()))return new a.CometChatException(JSON.parse(p(JSON.stringify(o.GENERAL_ERROR.INVALID),"RECEIVER_TYPE","RECEIVER_TYPE","receiver type","receiver type")));if(n.getReceiverType()!=o.MessageConstatnts.RECEIVER_TYPE.GROUP&&n.getReceiverType()!=o.MessageConstatnts.RECEIVER_TYPE.USER)return new a.CometChatException(o.MessageErrors.INVALID_RECEIVER_TYPE);if(e instanceof s.TextMessage){var r=e;if(typeof r.getText()!==o.COMMON_UTILITY_CONSTANTS.TYPE_CONSTANTS.STRING)return new a.CometChatException(JSON.parse(p(JSON.stringify(o.GENERAL_ERROR.MUST_BE_A_STRING),"MESSAGE_TEXT","MESSAGE_TEXT","Message text")));if(""===r.getText().trim())return new a.CometChatException(JSON.parse(p(JSON.stringify(o.GENERAL_ERROR.EMPTY_STRING),"MESSAGE_TEXT","MESSAGE_TEXT","Message text")))}if(e instanceof u.MediaMessage){var i=e;if(i.getData()&&i.getData().hasOwnProperty("attachments")){var l=i.getAttachment();if(!l.getExtension())return new a.CometChatException(JSON.parse(p(JSON.stringify(o.GENERAL_ERROR.MISSING_KEY),"extension","Attachment")));if(!l.getMimeType())return new a.CometChatException(JSON.parse(p(JSON.stringify(o.GENERAL_ERROR.MISSING_KEY),"mimeType","Attachment")));if(!l.getName())return new a.CometChatException(JSON.parse(p(JSON.stringify(o.GENERAL_ERROR.MISSING_KEY),"name","Attachment")));if(!l.getUrl())return new a.CometChatException(JSON.parse(p(JSON.stringify(o.GENERAL_ERROR.MISSING_KEY),"url","Attachment")))}else{if(!(i.file instanceof Blob))return new a.CometChatException(JSON.parse(p(JSON.stringify(o.GENERAL_ERROR.MUST_BE_A_BLOB),"MEDIA_OBJECT","MEDIA_OBJECT","Media object")));if("image"==i.getType()){if(!t.isImage(i.file))return new a.CometChatException(JSON.parse(p(JSON.stringify(o.GENERAL_ERROR.INVALID_MEDIA_FILE),"IMAGE_FILE","IMAGE_FILE")))}else if("video"==i.getType()){if(!t.isVideo(i.file))return new a.CometChatException(JSON.parse(p(JSON.stringify(o.GENERAL_ERROR.INVALID_MEDIA_FILE),"VIDEO_FILE","VIDEO_FILE")))}else if("audio"==i.getType()&&!t.isAudio(i.file))return new a.CometChatException(JSON.parse(p(JSON.stringify(o.GENERAL_ERROR.INVALID_MEDIA_FILE),"AUDIO_FILE","AUDIO_FILE")))}}return e instanceof c.CustomMessage&&f(e.getCustomData())?new a.CometChatException(JSON.parse(p(JSON.stringify(o.GENERAL_ERROR.INVALID),"CUSTOM_DATA","CUSTOM_DATA","custom data","custom data"))):void 0},t.validateCreateUser=function(e){if(!e.hasOwnProperty(o.UserConstants.UID))return new a.CometChatException(JSON.parse(p(JSON.stringify(o.GENERAL_ERROR.PARAMETER_COMPULSORY),"UID","UID","UID","UID")));if(typeof e[o.UserConstants.UID]!==o.COMMON_UTILITY_CONSTANTS.TYPE_CONSTANTS.STRING)return new a.CometChatException(JSON.parse(p(JSON.stringify(o.GENERAL_ERROR.MUST_BE_A_STRING),"UID","UID","UID")));if(f(e[o.UserConstants.UID]))return new a.CometChatException(JSON.parse(p(JSON.stringify(o.GENERAL_ERROR.INVALID_USER_PROPERTY),"UID","UID","UID","UID")));if(!e.hasOwnProperty(o.UserConstants.NAME))return new a.CometChatException(JSON.parse(p(JSON.stringify(o.GENERAL_ERROR.PARAMETER_COMPULSORY),"USER_NAME","USER_NAME","User name","User name")));if(typeof e[o.UserConstants.NAME]!==o.COMMON_UTILITY_CONSTANTS.TYPE_CONSTANTS.STRING)return new a.CometChatException(JSON.parse(p(JSON.stringify(o.GENERAL_ERROR.MUST_BE_A_STRING),"USER_NAME","USER_NAME","User name")));if(f(e[o.UserConstants.NAME]))return new a.CometChatException(JSON.parse(p(JSON.stringify(o.GENERAL_ERROR.INVALID_USER_PROPERTY),"USER_NAME","USER_NAME","name","name")));if(e.hasOwnProperty(o.UserConstants.AVATAR)&&""===e[o.UserConstants.AVATAR])return new a.CometChatException(JSON.parse(p(JSON.stringify(o.GENERAL_ERROR.EMPTY_STRING),"USER_AVATAR","USER_AVATAR","User avatar")));if(e.hasOwnProperty(o.UserConstants.META_DATA)&&""===e[o.UserConstants.META_DATA])return new a.CometChatException(JSON.parse(p(JSON.stringify(o.GENERAL_ERROR.EMPTY_STRING),"USER_METADATA","USER_METADATA","User metadata")));if(e.hasOwnProperty(o.UserConstants.LINK)&&""===e[o.UserConstants.LINK])return new a.CometChatException(JSON.parse(p(JSON.stringify(o.GENERAL_ERROR.EMPTY_STRING),"USER_LINK","USER_LINK","User link")));if(e.hasOwnProperty(o.UserConstants.STATUS_MESSAGE)&&""===e[o.UserConstants.STATUS_MESSAGE])return new a.CometChatException(JSON.parse(p(JSON.stringify(o.GENERAL_ERROR.EMPTY_STRING),"USER_STATUS_MESSAGE","USER_STATUS_MESSAGE","User status message")));if(e.hasOwnProperty(o.UserConstants.ROLE)&&""===e[o.UserConstants.ROLE])return new a.CometChatException(JSON.parse(p(JSON.stringify(o.GENERAL_ERROR.EMPTY_STRING),"USER_ROLE","USER_ROLE","User role")));if(e.hasOwnProperty(o.UserConstants.TAGS)){if(!Array.isArray(e[o.UserConstants.TAGS]))return new a.CometChatException(JSON.parse(p(JSON.stringify(o.GENERAL_ERROR.MUST_BE_AN_ARRAY),"USER_TAGS","USER_TAGS","User tags")));if(0===e[o.UserConstants.TAGS].length)return new a.CometChatException(JSON.parse(p(JSON.stringify(o.GENERAL_ERROR.EMPTY_ARRAY),"USER_TAGS","USER_TAGS","User tags")))}},t.validateUpdateUser=function(e){return e.hasOwnProperty(o.UserConstants.UID)?typeof e[o.UserConstants.UID]!==o.COMMON_UTILITY_CONSTANTS.TYPE_CONSTANTS.STRING?new a.CometChatException(JSON.parse(p(JSON.stringify(o.GENERAL_ERROR.MUST_BE_A_STRING),"UID","UID","UID"))):f(e[o.UserConstants.UID])?new a.CometChatException(JSON.parse(p(JSON.stringify(o.GENERAL_ERROR.INVALID_USER_PROPERTY),"UID","UID","UID","UID"))):e.hasOwnProperty(o.UserConstants.NAME)&&""===e[o.UserConstants.NAME]?new a.CometChatException(JSON.parse(p(JSON.stringify(o.GENERAL_ERROR.EMPTY_STRING),"USER_NAME","USER_NAME","User name"))):void 0:new a.CometChatException(JSON.parse(p(JSON.stringify(o.GENERAL_ERROR.PARAMETER_COMPULSORY),"UID","UID","UID","UID")))},t.validateConversationType=function(e){return typeof e!==o.COMMON_UTILITY_CONSTANTS.TYPE_CONSTANTS.STRING?new a.CometChatException(JSON.parse(p(JSON.stringify(o.GENERAL_ERROR.MUST_BE_A_STRING),"CONVERSATION_TYPE","CONVERSATION_TYPE","Conversation type"))):f(e)?new a.CometChatException(JSON.parse(p(JSON.stringify(o.GENERAL_ERROR.INVALID),"CONVERSATION_TYPE","CONVERSATION_TYPE","conversation type","conversation type"))):(e=e.toLowerCase())!=l.CometChat.RECEIVER_TYPE.USER&&e!=l.CometChat.RECEIVER_TYPE.GROUP?new a.CometChatException(o.ConversationErrors.INVALID_CONVERSATION_TYPE):void 0}},function(e,t,n){"use strict";t.__esModule=!0,t.ONLINE_MEMBER_COUNT_API=t.JWT_API=t.ProsodyApiErrors=t.PROSODY_API=t.API_ERROR_CODES=t.SESSION_STORE=t.CONNECTION_STATUS=t.COMMON_UTILITY_CONSTANTS=t.APP_SETTINGS=t.PresenceConstatnts=t.FeatureRestrictionErrors=t.MessageErrors=t.ExtensionErrors=t.ConversationErrors=t.GroupErrors=t.UserErrors=t.ReceiptErrors=t.GENERAL_ERROR=t.PARAMETER_ERROR=t.CALL_ERROR=t.Errors=t.UserConstants=t.GroupMemersConstans=t.GroupConstants=t.CallConstants=t.BlockedUsersConstants=t.ActionConstatnts=t.TYPING_NOTIFICATION=t.MessageCategory=t.ATTACHMENTS_CONSTANTS=t.MessageConstatnts=t.READ_RECEIPTS=t.DELIVERY_RECEIPTS=t.ResponseConstants=t.LOCAL_STORE=t.ANALYTICS=t.WS=t.SDKHeader=t.APPINFO=t.GROUP_MEMBER_SCOPE=t.GroupMemberScope=t.GROUP_TYPE=t.GroupType=t.CALLING_COMPONENT_VERSION=t.DEFAULT_VALUES=t.constants=void 0;var r,o,i,a=n(2);t.constants={DEFAULT_STORE:"cometchat",MSG_VER_PRE:"store-ver-pre",MSG_VER_POST:"store-ver-post"},t.DEFAULT_VALUES={ZERO:0,MSGS_LIMIT:30,MSGS_MAX_LIMIT:100,USERS_LIMIT:30,USERS_MAX_LIMIT:100,GROUPS_LIMIT:30,GROUPS_MAX_LIMIT:100,CONVERSATION_MAX_LIMIT:50,CALL_TIMEOUT:45,DEFAULT_MSG_ID:0,DEFAULT_MAX_TYPING_INDICATOR_LIMIT:5,REGION_DEFAULT:"eu",REGION_DEFAULT_EU:"eu",REGION_DEFAULT_US:"us",REGION_DEFAULT_IN:"in",REGION_DEFAULT_PRIVATE:"private"},t.CALLING_COMPONENT_VERSION=4,(r=t.GroupType||(t.GroupType={})).Public="public",r.Private="private",r.Protected="protected",r.Password="password",t.GROUP_TYPE={PUBLIC:"public",PRIVATE:"private",PROTECTED:"password",PASSWORD:"password"},(o=t.GroupMemberScope||(t.GroupMemberScope={})).Admin="admin",o.Moderator="moderator",o.Member="member",t.GROUP_MEMBER_SCOPE={ADMIN:"admin",MODERATOR:"moderator",PARTICIPANT:"participant"},t.APPINFO={platform:"WEB",sdkVersion:"v3.0.6",apiVersion:"v3.0",sdkVersionWithUnderScore:"3_0_6"},t.SDKHeader={platform:"javascript",sdkVersion:"3.0.6",sdk:"%s@%s"},t.WS={CONVERSATION:{TYPE:{CHAT:"chat",GROUP_CHAT:"groupchat"}}},t.ANALYTICS={analyticsHost:"metrics-%s.cometchat.io",analyticsVersion:"v1"},t.LOCAL_STORE={COMMON_STORE:"common_store",MESSAGE_LISTENERS_LIST:"message_listeners_list",USERS_STORE:"users_store",MESSAGES_STORE:"messages_store",KEYS_STORE:"keys_store",STORE_STRING:"%s:%s",KEY_STRING:"%s/%s",KEY_USER:"user",KEY_APP_SETTINGS:"app_settings",KEY_APP_ID:"appId",KEY_DEVICE_ID:"deviceId",KEY_MESSAGE_LISTENER_LIST:"all"},t.ResponseConstants={RESPONSE_KEYS:{KEY_DATA:"data",KEY_META:"meta",KEY_CURSOR:"cursor",KEY_ACTION:"action",KEY_MESSAGE:"message",KEY_ERROR:"error",KEY_ERROR_DETAILS:"details",KEY_ERROR_CODE:"code",KEY_ERROR_MESSAGE:"message",KEY_AUTH_TOKEN:"authToken",KEY_WS_CHANNEL:"wsChannel",KEY_IDENTITY:"identity",KEY_SERVICE:"identity",KEY_ENTITIES:"entities",KEY_ENTITITY:"entity",KEY_ENTITYTYPE:"entityType",KEY_ATTACHMENTS:"attachments",CODE_REQUEST_OK:200,CODE_BAD_REQUEST:401,UNREAD_UNDELIVERED_KEYS:{ENTITY:"entity",ENTITY_TYPE:"entityType",ENTITY_Id:"entityId",COUNT:"count"},GROUP_MEMBERS_RESPONSE:{SUCCESS:"success",ERROR:"error",MESSAGE:"message"},KEY_ENTITY_TYPE:{USER:"user",GROUP:"group"}}},t.DELIVERY_RECEIPTS={RECEIVER_ID:"receiverId",RECEIVER_TYPE:"type",RECIPIENT:"recipient",MESSAGE_ID:"messageId",RECEIVED:"delivered",DELIVERED_AT:"deliveredAt",ID:"id",TIME:"time",DELIVERED_TO_ME_AT:"deliveredToMeAt"},t.READ_RECEIPTS={RECEIVER_ID:"receiverId",RECEIVER_TYPE:"type",RECIPIENT:"recipient",MESSAGE_ID:"messageId",READ:"read",READ_AT:"readAt",ID:"id",TIME:"time",READ_BY_ME_AT:"readByMeAt"},t.MessageConstatnts={TYPE:{TEXT:"text",MEDIA:"media",IMAGE:"image",VIDEO:"video",AUDIO:"audio",FILE:"file",CUSTOM:"custom"},CATEGORY:{MESSAGE:"message",ACTION:"action",CALL:"call",CUSTOM:"custom"},RECEIVER_TYPE:{USER:"user",GROUP:"group"},KEYS:{ATTATCHMENT:"attatchment",ATTATCHMENTS:"attachments",ACTION:"action",TYPE:"type",DATA:"data",ID:"id",MUID:"muid",SENDER:"sender",RECEIVER:"receiver",RECEIVER_ID:"receiverId",CATEGORY:"category",RECEIVER_TYPE:"receiverType",SENT_AT:"sentAt",STATUS:"status",TEXT:"text",URL:"url",METADATA:"metadata",RECEIPTS:"receipts",MY_RECEIPTS:"myReceipt",CUSTOM_DATA:"customData",CUSTOM_SUB_TYPE:"subType",RESOURCE:"resource"},KNOWN_MEDIA_TYPE:{IMAGE:[],VIDEO:[],AUDIO:[],FILE:[]},PAGINATION:{AFFIX:{APPEND:"append",PREPEND:"prepend"},CURSOR_FILEDS:{ID:"id",SENT_AT:"sentAt"},CURSOR_AFFIX_DEFAULT:"prepend",CURSOR_FIELD_DEFAULT:"sentAt",KEYS:{PER_PAGE:"per_page",CURSOR_AFFIX:"cursorAffix",AFFIX:"affix",CURSOR_FIELD:"cursorField",CURSOR_VALUE:"cursorValue",UID:"uid",SENT_AT:"sentAt",ID:"id",CURRENT_PAGE:"page",UNREAD:"unread",HIDE_MESSAGES_FROM_BLOCKED_USER:"hideMessagesFromBlockedUsers",SEARCH_KEY:"searchKey",ONLY_UPDATES:"onlyUpdates",UPDATED_AT:"updatedAt",CATEGORY:"category",CATEGORIES:"categories",TYPE:"type",TYPES:"types",HIDE_REPLIES:"hideReplies",HIDE_DELETED_MESSAGES:"hideDeleted",WITH_TAGS:"withTags",TAGS:"tags"}}},t.ATTACHMENTS_CONSTANTS={KEYS:{EXTENSION:"extension",MIME_TYPE:"mimeType",NAME:"name",SIZE:"size",URL:"url"}},(i=t.MessageCategory||(t.MessageCategory={})).ACTION="action",i.MESSAGE="message",i.CALL="call",i.CUSTOM="custom",t.TYPING_NOTIFICATION={RECEIVER_ID:"receiverId",RECEIVER_TYPE:"receiverType",META:"metadata",KEYS:{TYPING_NOTIFICATION:"typingNotification",TIMESTAMP:"timestamp"},ACTIONS:{STARTED:"started",ENDED:"ended"}},t.ActionConstatnts={ACTION_SUBJECTS:{ACTION_ON:"on",ACTION_BY:"by",ACTION_FOR:"for"},ACTION_ENTITY_TYPE:{GROUP_USER:"groupuser",USER:"user",GROUP:"group",MESSAGE:"message"},ACTION_KEYS:{ACTION_CREATED:"created",ACTION_UPDATED:"updated",ACTION_DELETED:"deleted",ENTITIES:"entities",ENTITY:"entity",ENTITY_TYPE:"entityType",TYPE_MEMBER_JOINED:"joined",TYPE_MEMBER_LEFT:"left",TYPE_MEMBER_KICKED:"kicked",TYPE_MEMBER_BANNED:"banned",TYPE_MEMBER_UNBANNED:"unbanned",TYPE_MEMBER_INVITED:"invited",TYPE_MEMBER_ADDED:"added",ACTION_SCOPE_CHANGED:"scopeChanged",ACTION_TYPE_USER:"user",ACTION_TYPE_GROUP:"group",ACTION_TYPE_GROUP_MEMBER:"groupMember",TYPE_MESSAGE_EDITED:"edited",TYPE_MESSAGE_DELETED:"deleted",ACTION_TYPE_CALL:"call",EXTRAS:"extras",SCOPE:"scope",NEW:"new",OLD:"old"},ActionMessages:{ACTION_GROUP_JOINED_MESSAGE:"%s joined",ACTION_GROUP_LEFT_MESSAGE:"%s left",ACTION_MEMBER_KICKED_MESSAGE:"%s kicked %s",ACTION_MEMBER_BANNED_MESSAGE:"%s banned %s",ACTION_MEMBER_UNBANNED_MESSAGE:"%s unbanned %s",ACTION_MEMBER_INVITED_MESSAGE:"%s banned %s",ACTION_MESSAGE_EDITED_MESSAGE:" Message Edited",ACTION_MESSAGE_DELETED_MESSAGE:"Message Deleted",ACTION_MEMBER_SCOPE_CHANGED:"%s made %s %s",ACTION_MEMBER_ADDED_TO_GROUP:"%s added %s"},ACTION_TYPE:{TYPE_MEMBER_JOINED:"joined",TYPE_MEMBER_LEFT:"left",TYPE_MEMBER_KICKED:"kicked",TYPE_MEMBER_BANNED:"banned",TYPE_MEMBER_UNBANNED:"unbanned",TYPE_MEMBER_INVITED:"invited",TYPE_MEMBER_SCOPE_CHANGED:"scopeChanged",TYPE_MESSAGE:"message",TYPE_MESSAGE_EDITED:"edited",TYPE_MESSAGE_DELETED:"deleted",TYPE_MEMBER_ADDED:"added"},ACTIONS:{MEMBER_ADDED:"added",MEMBER_JOINED:"joined",MEMBER_LEFT:"left",MEMBER_KICKED:"kicked",MEMBER_BANNED:"banned",MEMBER_UNBANNED:"unbanned",MEMBER_INVITED:"invited",MEMBER_SCOPE_CHANGED:"scopeChanged",MESSAGE_EDITED:"edited",MESSSAGE_DELETED:"deleted",TYPE_USER:"user",TYPE_GROUP:"group",TYPE_GROUP_MEMBER:"groupMember"}},t.BlockedUsersConstants={REQUEST_KEYS:{DIRECTIONS:{BOTH:"both",HAS_BLOCKED_ME:"hasBlockedMe",BLOCKED_BY_ME:"blockedByMe"}}},t.CallConstants={CALL_MODE:{DEFAULT:"DEFAULT",SPOTLIGHT:"SPOTLIGHT",SINGLE:"SINGLE",TILE:"TILE",GRID:"GRID"},CALL_TYPE:{AUDIO:"audio",VIDEO:"video"},RECEIVER_TYPE_GROUP:"group",RECEIVER_TYPE_USER:"user",CALL_KEYS:{CALL_DATA:"data",CALL_ID:"id",CALL_SESSION_ID:"sessionid",CALL_RECEIVER:"receiver",CALL_SENDER:"sender",CALL_RECEIVER_TYPE:"receiverType",CALL_STATUS:"status",CALL_TYPE:"type",CALL_INITIATED_AT:"initiatedAt",CALL_JOINED_AT:"joinedAt",CALL_LEFT_AT:"leftAt",CALL_METADATA:"metadata",CALL_ENTITIES:"entities",CALL_ENTITY_TYPE:"entityType",CALL_ENTITY:"entity",CALL_ENTITY_USER:"user",CALL_ENTITY_GROUP:"group"},CALL_STATUS:{INITIATED:"initiated",ONGOING:"ongoing",UNANSWERED:"unanswered",REJECTED:"rejected",BUSY:"busy",CANCELLED:"cancelled",ENDED:"ended"},AUDIO_INPUT_DEVICES:"audioInputDevices",AUDIO_OUTPUT_DEVICES:"audioOutputDevices",VIDEO_INPUT_DEVICES:"videoInputDevices",POST_MESSAGES:{TYPES:{ACTION_MESSAGE:"cometchat_action_message",HANGUP:"hangup",COMETCHAT_RTC_SETTINGS:"cometchat_rtc_settings"},ACTIONS:{USER_JOINED:"onUserJoined",USER_LEFT:"onUserLeft",USER_LIST_CHANGED:"onUserListChanged",INITIAL_DEVICE_LIST:"initialDeviceList",DEVICE_CHANGE:"onDeviceChange",LOAD:"LOAD",CHANGE_AUDIO_INPUT:"changeAudioInput",CHANGE_AUDIO_OUTPUT:"changeAudioOutput",CHANGE_VIDEO_INPUT:"changeVideoInput",MUTE_AUDIO:"muteAudio",UNMUTE_AUDIO:"unMuteAudio",PAUSE_VIDEO:"pauseVideo",UNPAUSE_VIDEO:"unPauseVideo",SWITCH_MODE:"switchMode",START_SCREENSHARE:"startScreenShare",STOP_SCREENSHARE:"stopScreenShare",END_CALL:"endCall",START_RECORDING:"startRecording",STOP_RECORDING:"stopRecording",RECORDING_TOGGLED:"onRecordingToggled",USER_MUTED:"onUserMuted",SCREEN_SHARE_STARTED:"SCREEN_SHARE_STARTED",SCREEN_SHARE_STOPPED:"SCREEN_SHARE_ENDED"}},MEDIA_DEVICE:{ID:"id",NAME:"name",ACTIVE:"active"}},t.GroupConstants={KEYS:{NAME:"name",GUID:"guid",TYPE:"type",PASSWORD:"password",ICON:"icon",DESCRIPTION:"description",OWNER:"owner",METADATA:"metadata",CREATED_AT:"createdAt",UPDATED_AT:"updatedAt",HAS_JOINED:"hasJoined",WS_CHANNEL:"wsChannel",TAGS:"tags"}},t.GroupMemersConstans={KEYS:{SCOPE:"scope",UID:"uid",GUID:"guid",USER:"user",NAME:"name"}},t.UserConstants={UID:"uid",NAME:"name",AUTH_TOKEN:"authToken",AVATAR:"avatar",LAST_ACTIVE_AT:"lastActiveAt",LINK:"link",META_DATA:"metadata",ROLE:"role",STATUS:"status",STATUS_MESSAGE:"statusMessage",USER_NAME:"user_name",TAGS:"tags"},t.Errors={ERROR_IO_EXCEPTION:"ERROR_IO_EXCEPTION",ERROR_JSON_EXCEPTION:"ERROR_JSON_EXCEPTION",ERROR_PASSWORD_MISSING:"ERROR_PASSWORD_MISSING",ERROR_LIMIT_EXCEEDED:"ERROR_LIMIT_EXCEEDED",ERROR_USER_NOT_LOGGED_IN:"ERROR_USER_NOT_LOGGED_IN",ERROR_INVALID_GUID:"ERROR_INVALID_GUID",ERROR_PASSWORD_MISSING_MESSAGE:"Password is mandatory for a password group",ERROR_LIMIT_EXCEEDED_MESSAGE:"Limit Exceeded Max limit of %s",ERROR_USER_NOT_LOGGED_IN_MESSAGE:"Please log in to CometChat before calling this method",ERROR_INVALID_GUID_MESSAGE:"Please provide a valid GUID",ERROR_DEFAULT_MESSAGE:"Something went wrong",ERR_SETTINGS_HASH_OUTDATED:"ERR_SETTINGS_HASH_OUTDATED",ERR_NO_AUTH:"ERR_NO_AUTH"},t.CALL_ERROR={CALL_ALREADY_INITIATED:{code:"CALL_ALREADY_INITIATED",name:"CALL_ALREADY_INITIATED",message:"There is already call in progress",details:{}},ERROR_IN_CALLING:{code:"CALL_IN_PROGRESS",name:"CALL_ALREADY_INITIATED",message:"There is already call in progress",details:{}},CANNOT_ACCEPT_CALL:{code:"CALL_IN_PROGRESS",name:"CALL_IN_PROGRESS",message:"There is already a call in progress",details:{}},NOT_INITIALIZED:{code:"NOT_INITIALIZED",name:"NOT_INITIALIZED",message:"Please call the CometChat.init() method before calling any other methods related to CometChat.",details:{}},NOT_LOGGED_IN:{code:"NOT_LOGGED_IN",name:"NOT_LOGGED_IN",message:"Please login before starting a call.",details:{}},SESSION_ID_REQUIRED:{code:"SESSION_ID_REQUIRED",name:"SESSION_ID_REQUIRED",message:"Please make sure you are passing correct session id.",details:{}},CALL_SETTINGS_REQUIRED:{code:"CALL_SETTINGS_REQUIRED",name:"CALL_SETTINGS_REQUIRED",message:"Please make sure you are passing the call settings object.",details:{}},JWT_NOT_FOUND:{code:"JWT_NOT_FOUND",name:"JWT_NOT_FOUND",message:"There was some issue while fetching JWT from API.",details:{}}},t.PARAMETER_ERROR={PARAMETER_REQUIRED:{code:"%s_NOT_PROVIDED",name:"%s_NOT_PROVIDED",message:"please provide the %s.",details:{}}},t.GENERAL_ERROR={MUST_BE_A_STRING:{code:"INVALID_%s",name:"INVALID_%s",message:"%s should be a string.",details:{}},MUST_BE_A_NUMBER:{code:"INVALID_%s",name:"INVALID_%s",message:"%s should be a number.",details:{}},MUST_BE_A_OBJECT:{code:"INVALID_%s",name:"INVALID_%s",message:"%s should be a object.",details:{}},MUST_BE_AN_ARRAY:{code:"INVALID_%s",name:"INVALID_%s",message:"%s should be an array.",details:{}},MUST_BE_A_BOOLEAN:{code:"INVALID_%s",name:"INVALID_%s",message:"%s should be a boolean.",details:{}},MUST_BE_A_BLOB:{code:"INVALID_%s",name:"INVALID_%s",message:"%s should be a blob.",details:{}},INVALID:{code:"INVALID_%s",name:"INVALID_%s",message:"Invalid %s. Please provide a valid %s.",details:{}},METHOD_COMPULSORY:{code:"%s_IS_COMPULSORY",name:"%s_IS_COMPULSORY",message:"%s is required.",details:{}},LIMIT_EXCEEDED:{code:"ERROR_%s_EXCEEDED",name:"ERROR_%s_EXCEEDED",message:"Limit exceeded max limit of %s.",details:{}},MUST_BE_A_POSITIVE_NUMBER:{code:"INVALID_%s",name:"INVALID_%s",message:"%s should be a postive integer greater than 0.",details:{}},INVALID_MEDIA_FILE:{code:"INVALID_%s",name:"INVALID_%s",message:"The message type does not match the file's mime type.",details:{}},EMPTY_STRING:{code:"INVALID_%s",name:"INVALID_%s",message:"%s cannot be empty.",details:{}},MISSING_KEY:{code:"MISSING_KEY",name:"MISSING_KEY",message:"The key %s is missing from the %s object.",details:{}},EMPTY_ARRAY:{code:"INVALID_%s",name:"INVALID_%s",message:"The parameter %s should be an array and it cannot be empty.",details:{}},INVALID_SEARCH_KEYWORD:{code:"INVALID_SEARCH_KEYWORD",name:"INVALID_SEARCH_KEYWORD",message:"Invalid search keyword. Please provide a valid search keyword.",details:{}},INVALID_GROUP_PROPERTY:{code:"INVALID_%s",name:"INVALID_%s",message:"Invalid %s provided for the group. Please provide a valid %s.",details:{}},INVALID_USER_PROPERTY:{code:"INVALID_%s",name:"INVALID_%s",message:"Invalid %s provided for a user. Please provide a valid %s.",details:{}},PARAMETER_MUST_BE_A_NUMBER:{code:"INVALID_%s",name:"INVALID_%s",message:"%s method accepts parameter as a number.",details:{}},PARAMETER_MUST_BE_AN_ARRAY:{code:"INVALID_%s",name:"INVALID_%s",message:"%s method accepts parameter as an array.",details:{}},PARAMETER_MUST_BE_A_BOOLEAN:{code:"INVALID_%s",name:"INVALID_%s",message:"%s method accepts parameter as a boolean.",details:{}},PARAMETER_MUST_BE_A_POSITIVE_NUMBER:{code:"INVALID_%s",name:"INVALID_%s",message:"%s method accepts parameter to be a positive number greater than 0.",details:{}},PARAMETER_MUST_BE_A_STRING:{code:"INVALID_%s",name:"INVALID_%s",message:"%s method accepts parameter as a string.",details:{}},PARAMETER_COMPULSORY:{code:"%s_IS_COMPULSORY",name:"%s_IS_COMPULSORY",message:"%s cannot be blank. Please provide a valid %s.",details:{}},PASSWORD_COMPULSORY:{code:"%s_IS_COMPULSORY",name:"%s_IS_COMPULSORY",message:"Password is mandatory for a password group.",details:{}},INVALID_ARRAY:{code:"INVALID_%s",name:"INVALID_%s",message:"%s",details:{}}},t.ReceiptErrors={MISSING_PARAMETERS:{code:"MISSING_PARAMETERS",name:"MISSING_PARAMETERS",message:"Expected 4 parameters received 3",details:{}},INVALID_PARAMETER:{code:"INVALID_%s",name:"INVALID_%s",message:"%s",details:{}},NO_WEBSOCKET_CONNECTION:{code:"NO_WEBSOCKET_CONNECTION",name:"NO_WEBSOCKET_CONNECTION",message:"Connection to our Websockets server is broken. Please retry after some time.",details:{}},RECEIPTS_TEMPORARILY_BLOCKED:{code:"RECEIPTS_TEMPORARILY_BLOCKED",name:"RECEIPTS_TEMPORARILY_BLOCKED",message:"Due to high load. Receipts have been blocked for your app.",details:{}},UNKNOWN_ERROR_OCCURRED:{code:"UNKNOWN_ERROR_OCCURRED",name:"UNKNOWN_ERROR_OCCURRED",message:"Unknown error occurred while marking a message as read.",details:{}}},t.UserErrors={INVALID_STATUS:new a.CometChatException({code:"INVALID_STATUS_VALUE",name:"INVALID_STATUS_VALUE",message:"The `status` parameter accepts only `online` or `offline`.",details:""}),INVALID_DIRECTION:new a.CometChatException({code:"INVALID_DIRECTION_VALUE",name:"INVALID_DIRECTION_VALUE",message:"The `direction` parameter accepts only `both`, `blockeyByMe` or `hasBlockedMe`.",details:""}),USER_NOT_LOGGED_IN:new a.CometChatException({code:"USER_NOT_LOGGED_IN",name:"USER_NOT_LOGGED_IN",message:"Please log in to CometChat before calling this method.",details:""})},t.GroupErrors={NOT_A_GROUP:new a.CometChatException({code:"NOT_A_GROUP",message:"Please use group class to construct a new group."}),INVALID_SCOPE:new a.CometChatException({code:"INVALID_SCOPE_VALUE",name:"INVALID_SCOPE_VALUE",message:"Scope can be `admin`, `moderator` or `participant`.",details:""}),INVALID_GROUP_TYPE:new a.CometChatException({code:"INVALID_GROUP_TYPE",name:"INVALID_GROUP_TYPE",message:"Group type can be `public`, `private`, `protected` or `password`.",details:""})},t.ConversationErrors={INVALID_CONVERSATION_TYPE:{code:"INVALID_CONVERSATION_TYPE",name:"INVALID_CONVERSATION_TYPE",message:"Conversation type can be `user` or `group`.",details:"Please check the value of conversationType."},CONVERSATION_NOT_FOUND:{code:"CONVERSATION_NOT_FOUND",name:"CONVERSATION_NOT_FOUND",message:"Conversation for %s %s not found.",details:"Please check the value of conversationWith and conversationType."}},t.ExtensionErrors={INVALID_EXTENSION:{code:"ERROR_INVALID_EXTENSION",name:"ERROR_INVALID_EXTENSION",message:"The provided extension cannot be null or empty. Please provide a valid extension.",details:{}},EXTENSION_NOT_FOUND:{code:"ERROR_EXTENSION_NOT_FOUND",name:"ERROR_EXTENSION_NOT_FOUND",message:"The provided extension could not be found.",details:{}}},t.MessageErrors={INVALID_RECEIVER_TYPE:{code:"INVALID_RECEIVER_TYPE",name:"INVALID_RECEIVER_TYPE",message:"Receiver type can be `user` or `group`.",details:"Please check the value of receiverType."}},t.FeatureRestrictionErrors={INVALID_FEATURE:{code:"ERROR_INVALID_FEATURE",name:"ERROR_INVALID_FEATURE",message:"The provided feature cannot be null or empty. Please provide a valid feature.",details:{}},FEATURE_NOT_FOUND:{code:"ERROR_FEATURE_NOT_FOUND",name:"ERROR_FEATURE_NOT_FOUND",message:"The provided feature could not be found.",details:{}}},t.PresenceConstatnts={STATUS:{ONLINE:"online",AVAILABLE:"available",OFFLINE:"offline",JOINED:"JOINED",LEFT:"LEFT"}},t.APP_SETTINGS={APP_SETTINGS:"app_settings",KEYS:{CHAT_HOST:"CHAT_HOST",CHAT_USE_SSL:"CHAT_USE_SSL",GROUP_SERVICE:"GROUP_SERVICE",CALL_SERVICE:"CALL_SERVICE",CHAT_WS_PORT:"CHAT_WS_PORT",CHAT_WSS_PORT:"CHAT_WSS_PORT",CHAT_HTTP_BIND_PORT:"CHAT_HTTP_BIND_PORT",CHAT_HTTPS_BIND_PORT:"CHAT_HTTPS_BIND_PORT",ADMIN_API_HOST:"ADMIN_API_HOST",CLIENT_API_HOST:"CLIENT_API_HOST",WEBRTC_HOST:"WEBRTC_HOST",WEBRTC_USE_SSL:"WEBRTC_USE_SSL",WEBRTC_WS_PORT:"WEBRTC_WS_PORT",WEBRTC_WSS_PORT:"WEBRTC_WSS_PORT",WEBRTC_HTTP_BIND_PORT:"WEBRTC_HTTP_BIND_PORT",WEBRTC_HTTPS_BIND_PORT:"WEBRTC_HTTPS_BIND_PORT",EXTENSION_LIST:"extensions",EXTENSION_KEYS:{ID:"id",NAME:"name"},JID_HOST_OVERRIDE:"JID_HOST_OVERRIDE",CHAT_HOST_OVERRIDE:"CHAT_HOST_OVERRIDE",CHAT_HOST_APP_SPECIFIC:"CHAT_HOST_APP_SPECIFIC",MODE:"MODE",CONNECTION_TYPE:"connection_type",DEFAULT_MODE:"DEFAULT",LIMITED_TRANSIENT:"LIMITED_TRANSIENT",NO_TRANSIENT:"NO_TRANSIENT",POLLING_ENABLED:"POLLING_ENABLED",POLLING_INTERVAL:"POLLING_INTERVAL",ANALYTICS_PING_DISABLED:"ANALYTICS_PING_DISABLED",ANALYTICS_HOST:"ANALYTICS_HOST",ANALYTICS_VERSION:"ANALYTICS_VERSION",ANALYTICS_USE_SSL:"ANALYTICS_USE_SSL",SETTINGS_HASH:"settingsHash",SETTINGS_HASH_RECEIVED_AT:"settingsHashReceivedAt",DENY_FALLBACK_TO_POLLING:"DENY_FALLBACK_TO_POLLING",APP_VERSION:"APP_VERSION"}},t.COMMON_UTILITY_CONSTANTS={TYPE_CONSTANTS:{BOOLEAN:"boolean",STRING:"string",OBJECT:"object",NUMBER:"number"}},t.CONNECTION_STATUS={CONNECTED:"connected",CONNECTING:"connecting",DISCONNECTED:"disconnected",FEATURE_THROTTLED:"featureThrottled"},t.SESSION_STORE={SESSION_ID:"sessionId"},t.API_ERROR_CODES={AUTH_ERR_AUTH_TOKEN_NOT_FOUND:"AUTH_ERR_AUTH_TOKEN_NOT_FOUND"},t.PROSODY_API={DOMAIN_PREFIX:"xmpp",PATH:{ROOM:"room",ROOM_SIZE:"room-size",SESSIONS:"sessions"},RESPONSE:{PARTICIPANTS:"participants"},QUERY_PARAMETERS:{DOMAIN:"domain",ROOM:"room"}},t.ProsodyApiErrors={INVALID_SESSIONID:{code:"ERROR_INVALID_SESSIONID",name:"ERROR_INVALID_SESSIONID",message:"The provided sessionId cannot be null or empty. Please provide a valid sessionId.",details:""},INVALID_TYPE:{code:"ERROR_INVALID_TYPE",name:"ERROR_INVALID_TYPE",message:"The provided type cannot be null or empty. Please provide a valid type.",details:""}},t.JWT_API={KEYS:{PASSTHROUGH:"passthrough",EXPAND:"expand"}},t.ONLINE_MEMBER_COUNT_API={ENDPOINTS:{GET_ONLINE_MEMBER_COUNT:"api/v1/online-members"},RESPONSE:{ONLINE_USERS_COUNT:"onlineUsersCount",GROUPS:"groups"},ERRORS:{INVALID_GROUPLIST:{code:"ERROR_INVALID_GROUPLIST",name:"ERROR_INVALID_GROUPLIST",message:"Grouplist cannot be null or empty.",details:""}}}},function(e,t,n){"use strict";t.__esModule=!0,t.CometChatException=void 0;var r=function(e){null!==e.code&&void 0!==e.code&&""!==e.code&&(this.code=e.code),null!==e.name&&void 0!==e.name&&""!==e.name&&(this.name=e.name),null!==e.message&&void 0!==e.message&&""!==e.message&&(this.message=e.message),null!==e.details&&void 0!==e.details&&""!==e.details&&(this.details=e.details)};t.CometChatException=r},function(e,t,n){"use strict";var r=this&&this.__assign||function(){return(r=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var o in t=arguments[n])Object.prototype.hasOwnProperty.call(t,o)&&(e[o]=t[o]);return e}).apply(this,arguments)},o=this&&this.__awaiter||function(e,t,n,r){return new(n||(n=Promise))((function(o,i){function a(e){try{u(r.next(e))}catch(e){i(e)}}function s(e){try{u(r.throw(e))}catch(e){i(e)}}function u(e){var t;e.done?o(e.value):(t=e.value,t instanceof n?t:new n((function(e){e(t)}))).then(a,s)}u((r=r.apply(e,t||[])).next())}))},i=this&&this.__generator||function(e,t){var n,r,o,i,a={label:0,sent:function(){if(1&o[0])throw o[1];return o[1]},trys:[],ops:[]};return i={next:s(0),throw:s(1),return:s(2)},"function"==typeof Symbol&&(i[Symbol.iterator]=function(){return this}),i;function s(i){return function(s){return function(i){if(n)throw new TypeError("Generator is already executing.");for(;a;)try{if(n=1,r&&(o=2&i[0]?r.return:i[0]?r.throw||((o=r.return)&&o.call(r),0):r.next)&&!(o=o.call(r,i[1])).done)return o;switch(r=0,o&&(i=[2&i[0],o.value]),i[0]){case 0:case 1:o=i;break;case 4:return a.label++,{value:i[1],done:!1};case 5:a.label++,r=i[1],i=[0];continue;case 7:i=a.ops.pop(),a.trys.pop();continue;default:if(!(o=0<(o=a.trys).length&&o[o.length-1])&&(6===i[0]||2===i[0])){a=0;continue}if(3===i[0]&&(!o||i[1]>o[0]&&i[1]<o[3])){a.label=i[1];break}if(6===i[0]&&a.label<o[1]){a.label=o[1],o=i;break}if(o&&a.label<o[2]){a.label=o[2],a.ops.push(i);break}o[2]&&a.ops.pop(),a.trys.pop();continue}i=t.call(e,a)}catch(s){i=[6,s],r=0}finally{n=o=0}if(5&i[0])throw i[1];return{value:i[0]?i[1]:void 0,done:!0}}([i,s])}}};t.__esModule=!0,t.CometChat=void 0;var a=n(28),s=n(0),u=n(2),c=n(6),l=n(4),d=n(12),f=n(17),p=n(7),h=n(16),E=n(10),g=n(11),v=n(1),m=n(8),_=n(15),S=n(30),y=n(23),C=n(21),T=n(31),I=n(14),A=n(20),R=n(40),O=n(41),N=n(42),b=n(43),w=n(45),P=n(46),L=n(25),M=n(26),D=n(36),x=n(19),k=n(34),U=n(48),Y=n(49),G=n(50),F=n(35),K=n(24),B=n(18),j=n(51),V=n(52),H=n(53),W=n(37),J=n(5),z=n(62),q=n(29),Q=n(32),X=n(27),$=n(63),Z=H.WSConnectionHelper.getInstance(),ee=W.ListenerHandlers.getInstance(),te=function(){function t(e){try{t.appId=e,t.localStorage=d.LocalStorage.getInstance(),t.keyStore=S.KeyStore.getInstance()}catch(e){s.Logger.error("CometChat: constructor",e)}}return t.setAuthToken=function(e){try{t.authToken=e}catch(e){s.Logger.error("CometChat: setAuthToken",e)}},t.prototype.getAuthToken=function(){try{return t.authToken}catch(e){s.Logger.error("CometChat: getAuthToken",e)}},t.getAppId=function(){try{return t.appId}catch(e){s.Logger.error("CometChat: getAppId",e)}},t.prototype.getApiKey=function(){try{return t.apiKey}catch(e){s.Logger.error("CometChat: getApiKey",e)}},t.getMode=function(){try{return t.mode}catch(e){s.Logger.error("CometChat: getMode",e)}},t.setMode=function(e){try{t.mode=e}catch(e){s.Logger.error("CometChat: getMode",e)}},t.getSessionId=function(){try{return t.sessionId}catch(e){s.Logger.error("CometChat: getAppId",e)}},t.onStorageEvent=function(e){if(document&&!document.hasFocus()){var n=t.appId+":common_store/user";e.key===n&&null===e.newValue&&(t.authToken=void 0,t.didAnalyticsPingStart()&&t.clearAnalyticsPingTimer(),Z.WSLogout(),t.pushToLoginListener("","Logout_Success")),e.key===n&&null===e.oldValue&&d.LocalStorage.getInstance().get("user").then((function(e){e&&(t.user=new l.Me(e),t.setAuthToken(t.user.getAuthToken()),e.jwt&&(t.jwt=e.jwt),d.LocalStorage.getInstance().get("app_settings").then((function(e){if(e){if(e.hasOwnProperty(v.APP_SETTINGS.KEYS.APP_VERSION)){var n=parseInt(v.APPINFO.sdkVersion.charAt(1));e[v.APP_SETTINGS.KEYS.APP_VERSION]<n&&(t.appSettings.shouldAutoEstablishSocketConnection()||(t.shouldConnectToWS=!1),t.getInstance().internalRestart(t.user.getAuthToken()))}else t.appSettings.shouldAutoEstablishSocketConnection()||(t.shouldConnectToWS=!1),t.getInstance().internalRestart(t.user.getAuthToken());if(e[v.APP_SETTINGS.KEYS.MODE]&&(t.mode=e[v.APP_SETTINGS.KEYS.MODE]),e[v.APP_SETTINGS.KEYS.SETTINGS_HASH]&&(t.settingsHash=e[v.APP_SETTINGS.KEYS.SETTINGS_HASH]),e[v.APP_SETTINGS.KEYS.SETTINGS_HASH_RECEIVED_AT]&&(t.settingsHashReceivedAt=e[v.APP_SETTINGS.KEYS.SETTINGS_HASH_RECEIVED_AT]),e[v.APP_SETTINGS.KEYS.ANALYTICS_HOST]&&(t.analyticsHost=e[v.APP_SETTINGS.KEYS.ANALYTICS_HOST]),e[v.APP_SETTINGS.KEYS.ANALYTICS_VERSION]&&(t.analyticsVersion=e[v.APP_SETTINGS.KEYS.ANALYTICS_VERSION]),t.isAnalyticsDisabled=!!e[v.APP_SETTINGS.KEYS.ANALYTICS_PING_DISABLED],t.didAnalyticsPingStart()||t.isAnalyticsDisabled||!t.appSettings.shouldAutoEstablishSocketConnection()||(t.pingAnalytics(),t.startAnalyticsPingTimer()),t.getConnectionStatus()!==v.CONNECTION_STATUS.CONNECTED){var r=new l.User(t.user);t.pushToLoginListener(r,"Login_Success"),t.appSettings.shouldAutoEstablishSocketConnection()&&t.WSLogin(t.user)}}})))}))}},t.beforeUnload=function(e){var n=t.getDataFromSessionStorage(v.SESSION_STORE.SESSION_ID);t.removeDataFromSessionStorage(v.SESSION_STORE.SESSION_ID),d.LocalStorage.getInstance().set(v.SESSION_STORE.SESSION_ID,n)},t.didAnalyticsPingStart=function(){try{return t.isAnalyticsPingStarted}catch(e){s.Logger.error("CometChat: didAnalyticsPingStart",e)}},t.getDataFromSessionStorage=function(e){if(window.sessionStorage)return window.sessionStorage.getItem(e)},t.addDataToSessionStorage=function(e,t){window.sessionStorage&&window.sessionStorage.setItem(e,t)},t.removeDataFromSessionStorage=function(e){window.sessionStorage&&window.sessionStorage.removeItem(e)},t.init=function(e,n){var r=this;return void 0===e&&(e=""),new Promise((function(o,i){try{"object"==typeof e&&(e.hasOwnProperty("appId")&&(e=e.appId),e.hasOwnProperty("appSettings")&&(n=e.appSettings)),s.isFalsy(n)?n=(new Y.AppSettingsBuilder).setRegion(Y.AppSettings.REGION_EU).build():n.getRegion()==Y.AppSettings.REGION_PRIVATE&&(n.region=e),r.appSettings=n,s.isFalsy(e)?i(new u.CometChatException(I.INIT_ERROR.NO_APP_ID)):(window.addEventListener&&(window.addEventListener("storage",t.onStorageEvent,!1),window.addEventListener("beforeunload",t.beforeUnload,!1)),r.initialzed=!0,t.appId=e,t.getInstance(e),d.LocalStorage.getInstance().get(v.SESSION_STORE.SESSION_ID).then((function(n){null==n||null==n?(t.sessionId=v.APPINFO.platform+"-"+v.APPINFO.sdkVersionWithUnderScore+"-"+$()+"-"+(new Date).getTime(),t.addDataToSessionStorage(v.SESSION_STORE.SESSION_ID,t.getSessionId()),d.LocalStorage.getInstance().remove(v.SESSION_STORE.SESSION_ID)):(t.sessionId=n.toLocaleString(),d.LocalStorage.getInstance().remove(v.SESSION_STORE.SESSION_ID),t.addDataToSessionStorage(v.SESSION_STORE.SESSION_ID,t.getSessionId())),d.LocalStorage.getInstance().get(v.LOCAL_STORE.KEY_APP_ID).then((function(n){if(null==n||null==n)t.appId=e,t.getInstance(e),d.LocalStorage.getInstance().set(v.LOCAL_STORE.KEY_APP_ID,e),o(!0);else{var i=n.toLocaleString();i===e?(t.appId=i,t.getInstance(i),d.LocalStorage.getInstance().get(v.LOCAL_STORE.KEY_USER).then((function(e){e?(t.isLoggedOut=!1,t.user=new l.Me(e),t.setAuthToken(t.user.getAuthToken()),e.jwt&&(t.jwt=e.jwt),o(!0),d.LocalStorage.getInstance().get(v.LOCAL_STORE.KEY_APP_SETTINGS).then((function(e){if(e){if(e.hasOwnProperty(v.APP_SETTINGS.KEYS.APP_VERSION)){var n=parseInt(v.APPINFO.sdkVersion.charAt(1));e[v.APP_SETTINGS.KEYS.APP_VERSION]<n&&(r.appSettings.shouldAutoEstablishSocketConnection()||(t.shouldConnectToWS=!1),t.getInstance().internalRestart(t.user.getAuthToken()))}else r.appSettings.shouldAutoEstablishSocketConnection()||(t.shouldConnectToWS=!1),t.getInstance().internalRestart(t.user.getAuthToken());e[v.APP_SETTINGS.KEYS.MODE]&&(t.mode=e[v.APP_SETTINGS.KEYS.MODE]),e[v.APP_SETTINGS.KEYS.SETTINGS_HASH]&&(t.settingsHash=e[v.APP_SETTINGS.KEYS.SETTINGS_HASH]),e[v.APP_SETTINGS.KEYS.SETTINGS_HASH_RECEIVED_AT]&&(t.settingsHashReceivedAt=e[v.APP_SETTINGS.KEYS.SETTINGS_HASH_RECEIVED_AT]),e[v.APP_SETTINGS.KEYS.ANALYTICS_HOST]&&(t.analyticsHost=e[v.APP_SETTINGS.KEYS.ANALYTICS_HOST]),e[v.APP_SETTINGS.KEYS.ANALYTICS_VERSION]&&(t.analyticsVersion=e[v.APP_SETTINGS.KEYS.ANALYTICS_VERSION]),t.isAnalyticsDisabled=!!e[v.APP_SETTINGS.KEYS.ANALYTICS_PING_DISABLED],t.didAnalyticsPingStart()||t.isAnalyticsDisabled||!r.appSettings.shouldAutoEstablishSocketConnection()||(t.pingAnalytics(),t.startAnalyticsPingTimer()),Z&&!Z.connection&&r.appSettings.shouldAutoEstablishSocketConnection()&&(t.isConnectingFromInit=!0,t.WSLogin(t.user))}}))):o(!0)}))):r.clearCache().then((function(){t.apiKey=void 0,t.user=void 0,t.authToken=void 0,t.cometChat=void 0,t.mode=void 0,Z.WSLogout(),t.appId=e,d.LocalStorage.getInstance().set(v.LOCAL_STORE.KEY_APP_ID,e),t.getInstance(e),o(!0)}))}S.KeyStore.getInstance().get(v.LOCAL_STORE.KEY_DEVICE_ID).then((function(t){if(null==t){var n=$(),r=(new Date).getTime(),o=e+"_"+n+"_"+r;S.KeyStore.getInstance().set(v.LOCAL_STORE.KEY_DEVICE_ID,o)}}))}))})))}catch(n){i(new u.CometChatException(n))}}))},t.isInitialized=function(){try{return this.initialzed}catch(e){s.Logger.error("CometChat: isInitialized",e)}},t.getInstance=function(e){try{return this.cometChat||(this.cometChat=new t(e)),this.cometChat}catch(e){s.Logger.error("CometChat: getInstance",e)}},t.registerTokenForPushNotification=function(n,r){var o=this;return new Promise((function(i,a){try{t.keyStore.get(v.LOCAL_STORE.KEY_DEVICE_ID).then((function(e){var s="",l=e,d=v.APPINFO.platform,f=v.APPINFO.sdkVersion,p=v.APPINFO.apiVersion;if(navigator&&(s=navigator.userAgent),null==l){var h=$(),E=(new Date).getTime();l=o.appId+"_"+h+"_"+E,t.keyStore.set(v.LOCAL_STORE.KEY_DEVICE_ID,l)}var g={platform:d,deviceId:l,appInfo:{version:f,apiVersion:p,userAgent:s,pushNotification:{fcmDeviceToken:n,settings:r}}};c.makeApiCall("updateMyDetails",{},g,!1).then((function(e){i("Token Registration successful")}),(function(e){a(new u.CometChatException(e.error))})).catch((function(e){a(new u.CometChatException(e))}))}))}catch(e){a(new u.CometChatException(e))}}))},t.pushToLoginListener=function(e,t){ee.loginHandlers.map((function(n){try{if(n._eventListener)switch(t){case"Login_Success":s.isFalsy(n._eventListener.loginSuccess)||n._eventListener.loginSuccess(e);break;case"Login_Failure":s.isFalsy(n._eventListener.loginFailure)||n._eventListener.loginFailure(e);break;case"Logout_Success":s.isFalsy(n._eventListener.logoutSuccess)||n._eventListener.logoutSuccess()}}catch(n){s.Logger.error("ConnectionHandlers: onConnected Status",n)}}))},t.login=function(){for(var e=this,n=[],r=0;r<arguments.length;r++)n[r]=arguments[r];return new Promise((function(o,i){try{if(t.loginInProgress){t.isLoggedOut=!0;var a=new u.CometChatException(I.LOGIN_ERROR.REQUEST_IN_PROGRESS);return i(a)}t.loginInProgress=!0,t.isConnectingFromInit=!1,t.localStorage.get(v.LOCAL_STORE.KEY_APP_ID).then((function(r){if(null==r||null==r){var a=new u.CometChatException(I.LOGIN_ERROR.NOT_INITIALIZED);return t.internalRestart||t.pushToLoginListener(a,"Login_Failure"),t.loginInProgress=!1,t.isLoggedOut=!0,i(a)}var c=r.toLocaleString();if(e.getInstance(c),t.appId=c,d.LocalStorage.getInstance().set(v.LOCAL_STORE.KEY_APP_ID,c),"object"==typeof n[0]){var f=n[0];n[0].hasOwnProperty("authToken")?n[0]=f.authToken:n[0].hasOwnProperty("username")&&n[0].hasOwnProperty("apiKey")&&(n[0]=f.username,n[1]=f.apiKey)}if(2==n.length){if(s.isFalsy(n[0])||s.isFalsy(n[1]))return a=new u.CometChatException(I.ERRORS.PARAMETER_MISSING),t.internalRestart||t.pushToLoginListener(a,"Login_Failure"),t.loginInProgress=!1,t.isLoggedOut=!0,i(a)}else{if(1!=n.length)return a=new u.CometChatException(I.ERRORS.PARAMETER_MISSING),t.internalRestart||t.pushToLoginListener(a,"Login_Failure"),t.loginInProgress=!1,t.isLoggedOut=!0,i(a);if(s.isFalsy(n[0]))return a=new u.CometChatException(I.ERRORS.PARAMETER_MISSING),t.internalRestart||t.pushToLoginListener(a,"Login_Failure"),t.loginInProgress=!1,t.isLoggedOut=!0,i(a)}return s.isFalsy(e.getAppId())?(a=new u.CometChatException(I.LOGIN_ERROR.NOT_INITIALIZED),t.internalRestart||t.pushToLoginListener(a,"Login_Failure"),t.loginInProgress=!1,t.isLoggedOut=!0,i(a)):t.localStorage.get(v.LOCAL_STORE.KEY_USER).then((function(r){if(2==n.length){t.apiKey=n[1];var a=n[0];if(null!=r&&r.uid!==n[0])t.localStorage.clearStore().then((function(){Z.WSLogout(),t.generateAuthToken(a).then((function(e){t.user=new l.Me(e),t.setAuthToken(t.user.getAuthToken()),t.getLoggedInUser().then((function(e){(t.user=new l.Me(e)).setAuthToken(t.authToken),t.setAuthToken(t.user.getAuthToken());var n=t.user;n.setStatus(v.PresenceConstatnts.STATUS.ONLINE),t.localStorage.set("user",n);var r=new l.User(n);o(r),t.isConnectingFromInit||t.internalRestart||t.pushToLoginListener(r,"Login_Success"),t.loginInProgress=!1,t.didAnalyticsPingStart()||t.isAnalyticsDisabled||!t.appSettings.shouldAutoEstablishSocketConnection()||(t.pingAnalytics(),t.startAnalyticsPingTimer()),t.isLoggedOut=!1,(t.appSettings.shouldAutoEstablishSocketConnection()||t.internalRestart)&&t.shouldConnectToWS&&t.WSLogin(t.user)}),(function(e){return t.internalRestart||t.pushToLoginListener(e,"Login_Failure"),t.loginInProgress=!1,t.isLoggedOut=!0,i(e)}))}),(function(e){return t.internalRestart||t.pushToLoginListener(e,"Login_Failure"),t.loginInProgress=!1,t.isLoggedOut=!0,i(e)}))}));else{if(!s.isFalsy(t.authToken)){var c=new l.User(e.user);return t.internalRestart||t.pushToLoginListener(c,"Login_Success"),t.loginInProgress=!1,t.isLoggedOut=!1,o(c)}if(!s.isFalsy(a)){if(s.isFalsy(t.apiKey)){var d=new u.CometChatException(I.LOGIN_ERROR.UNAUTHORISED);return t.internalRestart||t.pushToLoginListener(d,"Login_Failure"),t.loginInProgress=!1,t.isLoggedOut=!0,i(d)}e.generateAuthToken(a).then((function(n){e.user=new l.Me(n),e.setAuthToken(t.user.getAuthToken()),e.getLoggedInUser().then((function(n){e.user=new l.Me(n),e.user.setAuthToken(t.authToken),e.setAuthToken(e.user.getAuthToken()),Z.WSLogout();var r=e.user;r.setStatus(v.PresenceConstatnts.STATUS.ONLINE),e.localStorage.set("user",r);var i=new l.User(r);o(i),t.isConnectingFromInit||t.internalRestart||t.pushToLoginListener(i,"Login_Success"),t.loginInProgress=!1,t.didAnalyticsPingStart()||t.isAnalyticsDisabled||!t.appSettings.shouldAutoEstablishSocketConnection()||(t.pingAnalytics(),t.startAnalyticsPingTimer()),t.isLoggedOut=!1,(t.appSettings.shouldAutoEstablishSocketConnection()||t.internalRestart)&&t.shouldConnectToWS&&e.WSLogin(e.user)}),(function(e){return t.internalRestart||t.pushToLoginListener(e,"Login_Failure"),t.loginInProgress=!1,t.isLoggedOut=!0,i(e)}))}),(function(e){return t.internalRestart||t.pushToLoginListener(e,"Login_Failure"),t.loginInProgress=!1,t.isLoggedOut=!0,i(e)}))}}}else t.authToken=n[0],e.getLoggedInUser().then((function(a){if(a.authToken!=n[0]){var s=e;s.localStorage.clearStore().then((function(){Z.WSLogout(),s.getLoggedInUser().then((function(e){(t.user=new l.Me(e)).setAuthToken(t.authToken),t.setAuthToken(t.user.getAuthToken());var n=t.user;n.setStatus(v.PresenceConstatnts.STATUS.ONLINE),s.localStorage.set("user",n);var r=new l.User(n);o(r),t.isConnectingFromInit||t.internalRestart||t.pushToLoginListener(r,"Login_Success"),t.loginInProgress=!1,t.didAnalyticsPingStart()||t.isAnalyticsDisabled||!t.appSettings.shouldAutoEstablishSocketConnection()||(t.pingAnalytics(),t.startAnalyticsPingTimer()),t.isLoggedOut=!1,(t.appSettings.shouldAutoEstablishSocketConnection()||t.internalRestart)&&t.shouldConnectToWS&&t.WSLogin(new l.Me(e))}),(function(e){return t.internalRestart||t.pushToLoginListener(e,"Login_Failure"),t.loginInProgress=!1,t.isLoggedOut=!0,i(e)}))}))}else{if(r){var u=new l.User(a);return t.internalRestart||t.pushToLoginListener(u,"Login_Success"),t.loginInProgress=!1,t.isLoggedOut=!1,o(u)}(t.user=new l.Me(a)).setAuthToken(t.authToken),t.setAuthToken(t.user.getAuthToken());var c=t.user;c.setStatus(v.PresenceConstatnts.STATUS.ONLINE),t.localStorage.set("user",c);var d=new l.User(c);o(d),t.isConnectingFromInit||t.internalRestart||t.pushToLoginListener(d,"Login_Success"),t.loginInProgress=!1,t.didAnalyticsPingStart()||t.isAnalyticsDisabled||!t.appSettings.shouldAutoEstablishSocketConnection()||(t.pingAnalytics(),t.startAnalyticsPingTimer()),t.isLoggedOut=!1,(t.appSettings.shouldAutoEstablishSocketConnection()||t.internalRestart)&&t.shouldConnectToWS&&t.WSLogin(new l.Me(a))}}),(function(e){return t.internalRestart||t.pushToLoginListener(e,"Login_Failure"),t.loginInProgress=!1,t.isLoggedOut=!0,i(e)}))}))}))}catch(r){return a=new u.CometChatException(r),t.internalRestart||t.pushToLoginListener(a,"Login_Failure"),t.loginInProgress=!1,t.isLoggedOut=!0,i(a)}}))},t.sendMessage=function(e){var t=this;return new Promise((function(n,r){return o(t,void 0,void 0,(function(){var t,a,l,d=this;return i(this,(function(p){try{return e instanceof h.TextMessage||e instanceof f.MediaMessage||e instanceof x.CustomMessage||(e=e[v.MessageConstatnts.KEYS.ATTATCHMENT]?(t=v.MessageConstatnts.TYPE.FILE,s.isImage(e[v.MessageConstatnts.KEYS.ATTATCHMENT])?t=v.MessageConstatnts.TYPE.IMAGE:s.isAudio(e[v.MessageConstatnts.KEYS.ATTATCHMENT])?t=v.MessageConstatnts.TYPE.AUDIO:s.isVideo(e[v.MessageConstatnts.KEYS.ATTATCHMENT])&&(t=v.MessageConstatnts.TYPE.VIDEO),new f.MediaMessage(e[v.MessageConstatnts.KEYS.RECEIVER_ID],e[v.MessageConstatnts.KEYS.ATTATCHMENT],t,e[v.MessageConstatnts.KEYS.RECEIVER_TYPE])):new h.TextMessage(e[v.MessageConstatnts.KEYS.RECEIVER_ID],e[v.MessageConstatnts.KEYS.TEXT],e[v.MessageConstatnts.KEYS.RECEIVER_TYPE])),(a=s.validateMessage(e))instanceof u.CometChatException?(r(a),[2]):(e.receiver=e.receiverId,delete e.receiverId,l=e.parentMessageId,[2,c.makeApiCall(l?"sendMessageInThread":"sendMessage",l?{parentId:l}:{},e,e instanceof f.MediaMessage).then((function(e){return o(d,void 0,void 0,(function(){var t;return i(this,(function(r){return t=E.MessageController.trasformJSONMessge(e.data),L.MessageListnerMaping.getInstance().set("all",parseInt(t.id)),n(t),[2]}))}))}),(function(e){r(new u.CometChatException(e.error))}))])}catch(p){r(new u.CometChatException(p))}return[2]}))}))}))},t.sendDirectMessage=function(e){try{return Object.assign(e,{receiverType:v.MessageConstatnts.RECEIVER_TYPE.USER}),this.sendMessage(e)}catch(e){s.Logger.error("CometChat: sendDirectMessage",e)}},t.sendGroupMessage=function(e){try{return Object.assign(e,{receiverType:v.MessageConstatnts.RECEIVER_TYPE.GROUP}),this.sendMessage(e)}catch(e){s.Logger.error("CometChat: sendGroupMessage",e)}},t.sendMediaMessage=function(e){try{return this.sendMessage(e)}catch(e){s.Logger.error("CometChat: sendMediaMessage",e)}},t.sendCustomMessage=function(e){try{return this.sendMessage(e)}catch(e){s.Logger.error("CometChat: sendCustomMessage",e)}},t.getLastDeliveredMessageId=function(){return o(this,void 0,void 0,(function(){var e;return i(this,(function(t){switch(t.label){case 0:return t.trys.push([0,2,,3]),[4,L.MessageListnerMaping.getInstance().get(v.LOCAL_STORE.KEY_MESSAGE_LISTENER_LIST)];case 1:return[2,t.sent()];case 2:return e=t.sent(),s.Logger.error("CometChat: getLastDeliveredMessageId",e),[3,3];case 3:return[2]}}))}))},t.startTyping=function(e){try{if(s.isFalsy(e))return;var n=void 0,r=this.RECEIVER_TYPE.USER,o={};if(e instanceof M.TypingIndicator)n=e.getReceiverId(),r=e.getReceiverType(),o=e.getMetadata();else{if(!e.hasOwnProperty(v.TYPING_NOTIFICATION.RECEIVER_ID))return;n=e[v.TYPING_NOTIFICATION.RECEIVER_ID],e.hasOwnProperty(v.TYPING_NOTIFICATION.RECEIVER_TYPE)&&(r=e[v.TYPING_NOTIFICATION.RECEIVER_TYPE]),e.hasOwnProperty(v.TYPING_NOTIFICATION.META)&&(o=e[v.TYPING_NOTIFICATION.META])}if(s.isFalsy(n))return;if(null==D.TypingNotificationController.getTypingStartedMap(n)){var i=t.getMode();return s.isFalsy(i)||i&&i!==v.APP_SETTINGS.KEYS.NO_TRANSIENT&&i!==v.APP_SETTINGS.KEYS.LIMITED_TRANSIENT?(Z.startTypingIndicator(n,r,o),D.TypingNotificationController.addTypingStarted(n),void D.TypingNotificationController.removeTypingEnded(n)):void 0}}catch(e){s.Logger.error("CometChat: startTyping",e)}},t.endTyping=function(e){try{if(s.isFalsy(e))return;var n=void 0,r=this.RECEIVER_TYPE.USER,o={};if(e instanceof M.TypingIndicator)n=e.getReceiverId(),r=e.getReceiverType(),o=e.getMetadata();else{if(!e.hasOwnProperty(v.TYPING_NOTIFICATION.RECEIVER_ID))return;n=e[v.TYPING_NOTIFICATION.RECEIVER_ID],e.hasOwnProperty(v.TYPING_NOTIFICATION.RECEIVER_TYPE)&&(r=e[v.TYPING_NOTIFICATION.RECEIVER_TYPE]),r=r==this.RECEIVER_TYPE.USER?v.WS.CONVERSATION.TYPE.CHAT:v.WS.CONVERSATION.TYPE.GROUP_CHAT,e.hasOwnProperty(v.TYPING_NOTIFICATION.META)&&(o=e[v.TYPING_NOTIFICATION.META])}if(s.isFalsy(n))return;if(null==D.TypingNotificationController.getTypingEndedMap(n)){var i=t.getMode();return s.isFalsy(i)||i&&i!==v.APP_SETTINGS.KEYS.NO_TRANSIENT&&i!==v.APP_SETTINGS.KEYS.LIMITED_TRANSIENT?(Z.pauseTypingIndicator(n,r,o),D.TypingNotificationController.addTypingEnded(n),void D.TypingNotificationController.removeTypingStarted(n)):void 0}}catch(e){s.Logger.error("CometChat: endTyping",e)}},t.markAsRead=function(){for(var e=[],n=0;n<arguments.length;n++)e[n]=arguments[n];return new Promise((function(n,r){try{var o=void 0,i=void 0,a=void 0,c=void 0;if(3===e.length)return r(new u.CometChatException(v.ReceiptErrors.MISSING_PARAMETERS));if(4===e.length){if(s.isFalsy(e[0])||"string"!=typeof e[0])return r(new u.CometChatException(JSON.parse(s.format(JSON.stringify(v.ReceiptErrors.INVALID_PARAMETER),"MESSAGE_ID","MESSAGE_ID","Message ID should be a string."))));if(o=e[0],s.isFalsy(e[1])||"string"!=typeof e[1])return r(new u.CometChatException(JSON.parse(s.format(JSON.stringify(v.ReceiptErrors.INVALID_PARAMETER),"RECEIVER_ID","RECEIVER_ID","Receiver ID should be a string."))));if(i=e[1],s.isFalsy(e[2])||"string"!=typeof e[2])return r(new u.CometChatException(JSON.parse(s.format(JSON.stringify(v.ReceiptErrors.INVALID_PARAMETER),"RECEIVER_TYPE","RECEIVER_TYPE","Receiver type should be a string."))));if(a=e[2],s.isFalsy(e[3])||"string"!=typeof e[3])return r(new u.CometChatException(JSON.parse(s.format(JSON.stringify(v.ReceiptErrors.INVALID_PARAMETER),"SENDER_ID","SENDER_ID","Sender ID should be a string."))));c=e[3]}else{if(1!==e.length)return r(new u.CometChatException(JSON.parse(s.format(JSON.stringify(v.ReceiptErrors.INVALID_PARAMETER),"ARGUMENTS","ARGUMENTS","markAsRead() expects either 1 or 4 arguments."))));if(s.isFalsy(e[0])||!(e[0]instanceof p.BaseMessage))return r(new u.CometChatException(JSON.parse(s.format(JSON.stringify(v.ReceiptErrors.INVALID_PARAMETER),"MESSAGE","MESSAGE","Invalid message object received."))));var l=e[0];o=l.getId().toString(),i=(a=l.getReceiverType())===v.MessageConstatnts.RECEIVER_TYPE.USER?l.getSender().getUid()===t.user.getUid()?l.getReceiverId():l.getSender().getUid():l.getReceiverId(),c=l.getSender().getUid()}var d=t.getMode();return s.isFalsy(d)||d&&d!==v.APP_SETTINGS.KEYS.NO_TRANSIENT&&d!==v.APP_SETTINGS.KEYS.LIMITED_TRANSIENT?t.getConnectionStatus()===v.CONNECTION_STATUS.CONNECTED?(Z.markAsRead(i,a,o,c),n()):r(new u.CometChatException(v.ReceiptErrors.NO_WEBSOCKET_CONNECTION)):r(new u.CometChatException(v.ReceiptErrors.RECEIPTS_TEMPORARILY_BLOCKED))}catch(n){return s.Logger.error("CometChat: markAsRead",n),r(new u.CometChatException(v.ReceiptErrors.UNKNOWN_ERROR_OCCURRED))}}))},t.markAsDelivered=function(){for(var e=[],n=0;n<arguments.length;n++)e[n]=arguments[n];return new Promise((function(n,r){try{var o=void 0,i=void 0,a=void 0,c=void 0;if(3===e.length)return r(new u.CometChatException(v.ReceiptErrors.MISSING_PARAMETERS));if(4===e.length){if(s.isFalsy(e[0])||"string"!=typeof e[0])return r(new u.CometChatException(JSON.parse(s.format(JSON.stringify(v.ReceiptErrors.INVALID_PARAMETER),"MESSAGE_ID","MESSAGE_ID","Message ID should be a string."))));if(o=e[0],s.isFalsy(e[1])||"string"!=typeof e[1])return r(new u.CometChatException(JSON.parse(s.format(JSON.stringify(v.ReceiptErrors.INVALID_PARAMETER),"RECEIVER_ID","RECEIVER_ID","Receiver ID should be a string."))));if(i=e[1],s.isFalsy(e[2])||"string"!=typeof e[2])return r(new u.CometChatException(JSON.parse(s.format(JSON.stringify(v.ReceiptErrors.INVALID_PARAMETER),"RECEIVER_TYPE","RECEIVER_TYPE","Receiver type should be a string."))));if(a=e[2],s.isFalsy(e[3])||"string"!=typeof e[3])return r(new u.CometChatException(JSON.parse(s.format(JSON.stringify(v.ReceiptErrors.INVALID_PARAMETER),"SENDER_ID","SENDER_ID","Sender ID should be a string."))));c=e[3]}else{if(1!==e.length)return r(new u.CometChatException(JSON.parse(s.format(JSON.stringify(v.ReceiptErrors.INVALID_PARAMETER),"ARGUMENTS","ARGUMENTS","markAsDelivered() expects either 1 or 4 arguments."))));if(s.isFalsy(e[0])||!(e[0]instanceof p.BaseMessage))return r(new u.CometChatException(JSON.parse(s.format(JSON.stringify(v.ReceiptErrors.INVALID_PARAMETER),"MESSAGE","MESSAGE","Invalid message object received."))));var l=e[0];o=l.getId().toString(),i=(a=l.getReceiverType())===v.MessageConstatnts.RECEIVER_TYPE.USER?l.getSender().getUid()===t.user.getUid()?l.getReceiverId():l.getSender().getUid():l.getReceiverId(),c=l.getSender().getUid()}var d=t.getMode();return s.isFalsy(d)||d&&d!==v.APP_SETTINGS.KEYS.NO_TRANSIENT&&d!==v.APP_SETTINGS.KEYS.LIMITED_TRANSIENT?t.getConnectionStatus()===v.CONNECTION_STATUS.CONNECTED?(Z.markAsDelivered(i,a,o,c),n()):r(new u.CometChatException(v.ReceiptErrors.NO_WEBSOCKET_CONNECTION)):r(new u.CometChatException(v.ReceiptErrors.RECEIPTS_TEMPORARILY_BLOCKED))}catch(n){return s.Logger.error("CometChat: markAsDelivered",n),r(new u.CometChatException(v.ReceiptErrors.UNKNOWN_ERROR_OCCURRED))}}))},t.sendTransientMessage=function(e){try{if(s.isFalsy(e))return;var n=void 0,r=void 0,o={};if(!(e instanceof X.TransientMessage))return;if(n=e.getReceiverId(),r=e.getReceiverType(),o=e.getData(),s.isFalsy(n)||s.isFalsy(r))return;var i=t.getMode();return s.isFalsy(i)||i&&i!==v.APP_SETTINGS.KEYS.NO_TRANSIENT?void Z.sendTransientMessage(n,r,o):void 0}catch(e){s.Logger.error("CometChat: sendTransientMessage",e)}},t.sendTestMessage=function(e){return o(this,void 0,void 0,(function(){var t,n;return i(this,(function(r){switch(r.label){case 0:return r.trys.push([0,3,,4]),(t=e)instanceof p.BaseMessage?[3,2]:[4,G.CometChatHelper.processMessage(e)];case 1:t=r.sent(),r.label=2;case 2:return t instanceof h.TextMessage&&H.WSConnectionHelper.getInstance().publishMessage(t),[3,4];case 3:return n=r.sent(),s.Logger.error("CometChat: sendTestMessage",n),[3,4];case 4:return[2]}}))}))},t.getMessageDetails=function(e){return new Promise((function(t,n){try{s.isFalsy(e)?n(new u.CometChatException(I.ERRORS.PARAMETER_MISSING)):c.makeApiCall("getMessageDetails",{messageId:e}).then((function(e){t(E.MessageController.trasformJSONMessge(e.data))}),(function(e){s.Logger.error("CometChat:GetMessageDetails:",e),n(new u.CometChatException(e.error))}))}catch(e){n(new u.CometChatException(e))}}))},t.getMessageReceipts=function(e){return new Promise((function(t,n){try{var r=s.validateMsgId(e);if(r instanceof u.CometChatException)return void n(r);s.isFalsy(e)?n(new u.CometChatException(I.ERRORS.PARAMETER_MISSING)):c.makeApiCall("getMessageDetails",{messageId:e}).then((function(e){E.MessageController.getReceiptsFromJSON(e.data).then((function(e){t(e)}),(function(e){n(new u.CometChatException(e))}))}),(function(e){s.Logger.error("CometChat:GetMessageDetails:",e),n(new u.CometChatException(e.error))}))}catch(r){n(new u.CometChatException(r))}}))},t.getUnreadMessageCount=function(e){void 0===e&&(e=!1);var t=0;return new Promise((function(n,r){try{var o=s.validateHideMessagesFromBlockedUsers(e);if(o instanceof u.CometChatException)return void r(o);e&&(t=1),c.makeApiCall("getMessages",{},{unread:1,count:1,hideMessagesFromBlockedUsers:t}).then((function(e){var t={},r={};e.data.map((function(e){e[v.ResponseConstants.RESPONSE_KEYS.UNREAD_UNDELIVERED_KEYS.ENTITY_TYPE]==v.MessageConstatnts.RECEIVER_TYPE.GROUP?r[e[v.ResponseConstants.RESPONSE_KEYS.UNREAD_UNDELIVERED_KEYS.ENTITY_Id]]=e[v.ResponseConstants.RESPONSE_KEYS.UNREAD_UNDELIVERED_KEYS.COUNT]:t[e[v.ResponseConstants.RESPONSE_KEYS.UNREAD_UNDELIVERED_KEYS.ENTITY_Id]]=e[v.ResponseConstants.RESPONSE_KEYS.UNREAD_UNDELIVERED_KEYS.COUNT]})),n({users:t,groups:r})}),(function(e){r(new u.CometChatException(e.error))}))}catch(o){r(new u.CometChatException(o))}}))},t.getUnreadMessageCountForAllUsers=function(e){void 0===e&&(e=!1);var t=0;return new Promise((function(n,o){try{var i=s.validateHideMessagesFromBlockedUsers(e);if(i instanceof u.CometChatException)return void o(i);e&&(t=1),c.makeApiCall("getMessages",{},{hideMessagesFromBlockedUsers:t,receiverType:v.MessageConstatnts.RECEIVER_TYPE.USER,unread:1,count:1}).then((function(e){var t={};e.data.map((function(e){t[e[v.ResponseConstants.RESPONSE_KEYS.UNREAD_UNDELIVERED_KEYS.ENTITY_Id]]=e[v.ResponseConstants.RESPONSE_KEYS.UNREAD_UNDELIVERED_KEYS.COUNT]})),n(r({},t))}),(function(e){o(new u.CometChatException(e.error))}))}catch(i){o(new u.CometChatException(i))}}))},t.getUnreadMessageCountForAllGroups=function(e){void 0===e&&(e=!1);var t=0;return new Promise((function(n,o){try{var i=s.validateHideMessagesFromBlockedUsers(e);if(i instanceof u.CometChatException)return void o(i);e&&(t=1),c.makeApiCall("getMessages",{},{hideMessagesFromBlockedUsers:t,receiverType:v.MessageConstatnts.RECEIVER_TYPE.GROUP,unread:1,count:1}).then((function(e){var t={};e.data.map((function(e){e[v.ResponseConstants.RESPONSE_KEYS.UNREAD_UNDELIVERED_KEYS.ENTITY_TYPE]==v.MessageConstatnts.RECEIVER_TYPE.GROUP&&(t[e[v.ResponseConstants.RESPONSE_KEYS.UNREAD_UNDELIVERED_KEYS.ENTITY_Id]]=e[v.ResponseConstants.RESPONSE_KEYS.UNREAD_UNDELIVERED_KEYS.COUNT])})),n(r({},t))}),(function(e){o(new u.CometChatException(e.error))}))}catch(i){o(new u.CometChatException(i))}}))},t.getUnreadMessageCountForUser=function(e,t){void 0===t&&(t=!1);var n=0;return new Promise((function(o,i){try{var a=s.validateId(e,"user");if(a instanceof u.CometChatException)return void i(a);var l=s.validateHideMessagesFromBlockedUsers(t);if(l instanceof u.CometChatException)return void i(l);t&&(n=1),c.makeApiCall("getUserMessages",{listId:e},{hideMessagesFromBlockedUsers:n,unread:1,count:1,uid:e}).then((function(e){var t={};e.data.map((function(e){t[e[v.ResponseConstants.RESPONSE_KEYS.UNREAD_UNDELIVERED_KEYS.ENTITY_Id]]=e[v.ResponseConstants.RESPONSE_KEYS.UNREAD_UNDELIVERED_KEYS.COUNT]})),o(r({},t))}),(function(e){i(new u.CometChatException(e.error))}))}catch(a){i(new u.CometChatException(a))}}))},t.getUnreadMessageCountForGroup=function(e,t){void 0===t&&(t=!1);var n=0;return new Promise((function(o,i){try{var a=s.validateId(e,"group");if(a instanceof u.CometChatException)return void i(a);var l=s.validateHideMessagesFromBlockedUsers(t);if(l instanceof u.CometChatException)return void i(l);t&&(n=1),c.makeApiCall("getGroupMessages",{listId:e},{hideMessagesFromBlockedUsers:n,unread:1,count:1,guid:e}).then((function(e){var t={};e.data.map((function(e){e[v.ResponseConstants.RESPONSE_KEYS.UNREAD_UNDELIVERED_KEYS.ENTITY_TYPE]==v.MessageConstatnts.RECEIVER_TYPE.GROUP&&(t[e[v.ResponseConstants.RESPONSE_KEYS.UNREAD_UNDELIVERED_KEYS.ENTITY_Id]]=e[v.ResponseConstants.RESPONSE_KEYS.UNREAD_UNDELIVERED_KEYS.COUNT])})),o(r({},t))}),(function(e){i(new u.CometChatException(e.error))}))}catch(a){i(new u.CometChatException(a))}}))},t.editMessage=function(e){return new Promise((function(t,n){try{var r=s.validateMsgId(e.getId());if(r instanceof u.CometChatException)return void n(r);c.makeApiCall("updateMessage",{messageId:e.getId()},e).then((function(e){t(E.MessageController.trasformJSONMessge(e.data).getActionOn())}),(function(e){n(new u.CometChatException(e.error))}))}catch(r){n(new u.CometChatException(r))}}))},t.deleteMessage=function(e){return new Promise((function(t,n){try{var r=s.validateMsgId(e);if(r instanceof u.CometChatException)return void n(r);c.makeApiCall("deleteMessage",{messageId:e},{id:e}).then((function(e){t(E.MessageController.trasformJSONMessge(e.data).getActionOn())}),(function(e){n(new u.CometChatException(e.error))}))}catch(r){n(new u.CometChatException(r))}}))},t.getOnlineUserCount=function(){return new Promise((function(n,r){try{s.getAppSettings().then((function(e){var o=s.format((new a.EndpointFactory).wsApi,s.getChatHost(e),v.ONLINE_MEMBER_COUNT_API.ENDPOINTS.GET_ONLINE_MEMBER_COUNT),i={appId:t.appId,Authorization:t.jwt,Accept:"application/json","Content-Type":"application/json"};c.postData(o,"POST",{},i,!1).then((function(e){return e.json()})).then((function(e){return e.hasOwnProperty(v.ResponseConstants.RESPONSE_KEYS.KEY_DATA)?n(e[v.ResponseConstants.RESPONSE_KEYS.KEY_DATA][v.ONLINE_MEMBER_COUNT_API.RESPONSE.ONLINE_USERS_COUNT]):r(new u.CometChatException(e.error))})).catch((function(){var e={error:I.FETCH_ERROR.ERROR_IN_API_CALL};return r(e)}))}),(function(e){return r(new u.CometChatException(e))}))}catch(e){return r(new u.CometChatException(e))}}))},t.getOnlineGroupMemberCount=function(n){return new Promise((function(r,o){try{if(!n||0==n.length)return o(new u.CometChatException(v.ONLINE_MEMBER_COUNT_API.ERRORS.INVALID_GROUPLIST));s.getAppSettings().then((function(e){var i=s.format((new a.EndpointFactory).wsApi,s.getChatHost(e),v.ONLINE_MEMBER_COUNT_API.ENDPOINTS.GET_ONLINE_MEMBER_COUNT),l={groups:n},d={appId:t.appId,Authorization:t.jwt,Accept:"application/json","Content-Type":"application/json"};c.postData(i,"POST",l,d,!1).then((function(e){return e.json()})).then((function(e){return e.hasOwnProperty(v.ResponseConstants.RESPONSE_KEYS.KEY_DATA)?r(e[v.ResponseConstants.RESPONSE_KEYS.KEY_DATA][v.ONLINE_MEMBER_COUNT_API.RESPONSE.GROUPS]):o(new u.CometChatException(e.error))})).catch((function(){var e={error:I.FETCH_ERROR.ERROR_IN_API_CALL};return o(e)}))}),(function(e){return o(new u.CometChatException(e))}))}catch(e){return o(new u.CometChatException(e))}}))},t.createUser=function(e,n){return new Promise((function(r,o){try{if(s.isFalsy(n))return void o(new u.CometChatException(JSON.parse(s.format(JSON.stringify(v.GENERAL_ERROR.INVALID),"AUTH_KEY","AUTH_KEY","AUTH_KEY","AUTH_KEY"))));t.apiKey=n;var i=s.validateCreateUser(e);if(i instanceof u.CometChatException)return void o(i);if(!(e instanceof l.User)){var a=void 0;if(!e.hasOwnProperty(v.UserConstants.UID))return void o(new u.CometChatException(I.ERRORS.PARAMETER_MISSING));if(!e.hasOwnProperty(v.UserConstants.NAME))return void o(new u.CometChatException(I.ERRORS.PARAMETER_MISSING));a=new l.User(e[v.UserConstants.UID],e[v.UserConstants.NAME]),e.hasOwnProperty(v.UserConstants.AVATAR)&&a.setAvatar(e[v.UserConstants.AVATAR]),e.hasOwnProperty(v.UserConstants.ROLE)&&a.setRole(e[v.UserConstants.ROLE]),e.hasOwnProperty(v.UserConstants.META_DATA)&&a.setMetadata(e[v.UserConstants.META_DATA]),e.hasOwnProperty(v.UserConstants.LINK)&&a.setLink(e[v.UserConstants.LINK]),e.hasOwnProperty(v.UserConstants.STATUS_MESSAGE)&&a.setStatusMessage(e[v.UserConstants.STATUS_MESSAGE]),e.hasOwnProperty(v.UserConstants.TAGS)&&a.setTags(e[v.UserConstants.TAGS]),e=a}c.makeApiCall("createUser",{},e).then((function(e){var t=g.UsersController.trasformJSONUser(e.data);r(t)}),(function(e){o(new u.CometChatException(e.error))}))}catch(i){o(new u.CometChatException(i))}}))},t.updateUser=function(e,n){var r=this;return new Promise((function(o,i){try{if(s.isFalsy(n))return void i(new u.CometChatException(JSON.parse(s.format(JSON.stringify(v.GENERAL_ERROR.INVALID),"AUTH_KEY","AUTH_KEY","AUTH_KEY","AUTH_KEY"))));t.apiKey=n;var a=s.validateUpdateUser(e);if(a instanceof u.CometChatException)return void i(a);if(!(e instanceof l.User)){var f=void 0;if(!e.hasOwnProperty(v.UserConstants.UID))return void i(new u.CometChatException(I.ERRORS.PARAMETER_MISSING));f=new l.User(e[v.UserConstants.UID]),e.hasOwnProperty(v.UserConstants.NAME)&&f.setName(e[v.UserConstants.NAME]),e.hasOwnProperty(v.UserConstants.AVATAR)&&f.setAvatar(e[v.UserConstants.AVATAR]),e.hasOwnProperty(v.UserConstants.ROLE)&&f.setRole(e[v.UserConstants.ROLE]),e.hasOwnProperty(v.UserConstants.META_DATA)&&f.setMetadata(e[v.UserConstants.META_DATA]),e.hasOwnProperty(v.UserConstants.LINK)&&f.setLink(e[v.UserConstants.LINK]),e.hasOwnProperty(v.UserConstants.STATUS_MESSAGE)&&f.setStatusMessage(e[v.UserConstants.STATUS_MESSAGE]),e.hasOwnProperty(v.UserConstants.TAGS)&&f.setTags(e[v.UserConstants.TAGS]),e=f}var p=e.uid;c.makeApiCall("updateUser",{uid:p},e).then((function(e){if(r.user&&p.toLocaleLowerCase()===r.user.getUid().toLocaleLowerCase())d.LocalStorage.getInstance().get("user").then((function(n){if(n){var i=g.UsersController.trasformJSONUser(e.data),a=e.data;a.wsChannel=n.wsChannel,a.authToken=t.authToken,a.status=v.PresenceConstatnts.STATUS.ONLINE,n.jwt&&(a.jwt=n.jwt),t.user=new l.Me(a),r.localStorage.set("user",t.user),o(i)}}));else{var n=g.UsersController.trasformJSONUser(e.data);o(n)}}),(function(e){i(new u.CometChatException(e.error))}))}catch(a){i(new u.CometChatException(a))}}))},t.updateCurrentUserDetails=function(e){var n=this;return new Promise((function(r,o){try{e.uid=n.user.uid;var i=s.validateUpdateUser(e);if(i instanceof u.CometChatException)return void o(i);if(!(e instanceof l.User)){var a=void 0;e.hasOwnProperty(v.UserConstants.UID)&&(a=new l.User(e[v.UserConstants.UID])),e.hasOwnProperty(v.UserConstants.NAME)&&a.setName(e[v.UserConstants.NAME]),e.hasOwnProperty(v.UserConstants.AVATAR)&&a.setAvatar(e[v.UserConstants.AVATAR]),e.hasOwnProperty(v.UserConstants.ROLE)&&a.setRole(e[v.UserConstants.ROLE]),e.hasOwnProperty(v.UserConstants.META_DATA)&&a.setMetadata(e[v.UserConstants.META_DATA]),e.hasOwnProperty(v.UserConstants.LINK)&&a.setLink(e[v.UserConstants.LINK]),e.hasOwnProperty(v.UserConstants.STATUS_MESSAGE)&&a.setStatusMessage(e[v.UserConstants.STATUS_MESSAGE]),e.hasOwnProperty(v.UserConstants.TAGS)&&a.setTags(e[v.UserConstants.TAGS]),e=a}c.makeApiCall("updateMyDetails",{},e).then((function(e){var n=g.UsersController.trasformJSONUser(e.data),o=t.user=new l.Me(e.data);o.setStatus(v.PresenceConstatnts.STATUS.ONLINE),t.localStorage.set("user",o),r(n)}),(function(e){o(new u.CometChatException(e.error))}))}catch(i){o(new u.CometChatException(i))}}))},t.getUser=function(e){return new Promise((function(t,n){try{"object"==typeof e&&e.hasOwnProperty("uid")&&(e=e.uid);var r=s.validateId(e,"user");if(r instanceof u.CometChatException)return void n(r);c.makeApiCall("user",{uid:e}).then((function(e){var n=g.UsersController.trasformJSONUser(e.data);t(n)})).catch((function(e){n(new u.CometChatException(e.error))}))}catch(r){n(new u.CometChatException(r))}}))},t.getLoggedInUser=function(){var n=this;return new Promise((function(r,o){try{t.localStorage.get(v.LOCAL_STORE.KEY_USER).then((function(e){if(e)r(t.user=new l.Me(e));else{var i="",a="",f=v.APPINFO.platform,p=v.APPINFO.sdkVersion,h=v.APPINFO.apiVersion;t.keyStore.get(v.LOCAL_STORE.KEY_DEVICE_ID).then((function(e){if(a=e,navigator&&(i=navigator.userAgent),null==a){var E=$(),g=(new Date).getTime();a=n.appId+"_"+E+"_"+g,t.keyStore.set(v.LOCAL_STORE.KEY_DEVICE_ID,a)}var m={version:p,apiVersion:h,userAgent:i};s.isFalsy(n.platform)||(m.platform=n.platform),s.isFalsy(n.language)||(m.language=n.language),s.isFalsy(n.resource)||(m.resource=n.resource);var _={platform:f,deviceId:a,appInfo:m};c.makeApiCall("updateMyDetails",{},_,!1).then((function(e){e.data.jwt&&(t.jwt=e.data.jwt);var n=e.data.settings;n&&(d.LocalStorage.getInstance().set("app_settings",n),n[v.APP_SETTINGS.KEYS.MODE]&&t.setMode(n[v.APP_SETTINGS.KEYS.MODE]),n[v.APP_SETTINGS.KEYS.SETTINGS_HASH]&&(t.settingsHash=n[v.APP_SETTINGS.KEYS.SETTINGS_HASH]),n[v.APP_SETTINGS.KEYS.SETTINGS_HASH_RECEIVED_AT]&&(t.settingsHashReceivedAt=n[v.APP_SETTINGS.KEYS.SETTINGS_HASH_RECEIVED_AT]),n[v.APP_SETTINGS.KEYS.ANALYTICS_HOST]&&(t.analyticsHost=n[v.APP_SETTINGS.KEYS.ANALYTICS_HOST]),n[v.APP_SETTINGS.KEYS.ANALYTICS_VERSION]&&(t.analyticsVersion=n[v.APP_SETTINGS.KEYS.ANALYTICS_VERSION]),t.isAnalyticsDisabled=!!n[v.APP_SETTINGS.KEYS.ANALYTICS_PING_DISABLED]),r(new l.Me(e.data))}),(function(e){o(new u.CometChatException(e.error))})).catch((function(e){o(new u.CometChatException(e))}))}))}}))}catch(e){o(new u.CometChatException(e))}}))},t.getLoggedinUser=function(){return new Promise((function(n,r){try{t.localStorage.get(v.LOCAL_STORE.KEY_USER).then((function(e){n(e?new l.User(e):null)}),(function(e){n(null)}))}catch(e){r(new u.CometChatException(e))}}))},t.blockUsers=function(e){return new Promise((function(t,n){try{var r=s.validateArray(e,"blockUsers");if(r instanceof u.CometChatException)return void n(r);s.isFalsy(e)?n(new u.CometChatException(I.USERS_REQUEST_ERRORS.EMPTY_USERS_LIST)):c.makeApiCall("blockUsers",{},{blockedUids:e}).then((function(e){t(e.data)}),(function(e){n(new u.CometChatException(e.error))}))}catch(r){n(new u.CometChatException(r))}}))},t.unblockUsers=function(e){return new Promise((function(t,n){try{var r=s.validateArray(e,"unblockUsers");if(r instanceof u.CometChatException)return void n(r);s.isFalsy(e)?n(new u.CometChatException(I.USERS_REQUEST_ERRORS.EMPTY_USERS_LIST)):c.makeApiCall("unblockUsers",{},{blockedUids:e}).then((function(e){t(e.data)}),(function(e){n(new u.CometChatException(e.error))}))}catch(r){n(new u.CometChatException(r))}}))},t.getConversation=function(e,t){return new Promise((function(n,r){try{var o=s.validateConversationType(t);if(o instanceof u.CometChatException)return void r(o);var i=s.validateId(e,t);if(i instanceof u.CometChatException)return void r(i);t=t.toLowerCase(),e=e.toLowerCase();var a={},l="";t===v.MessageConstatnts.RECEIVER_TYPE.GROUP?(l="getGroupConversation",a.guid=e):(l="getUserConversation",a.uid=e),c.makeApiCall(l,a).then((function(o){if(o.data){var i=o.data;n(K.ConversationController.trasformJSONConversation(i.conversationId,i.conversationType,i.lastMessage,i.conversationWith,parseInt(i.unreadMessageCount),i.tags?i.tags:[]))}else r(new u.CometChatException(JSON.parse(s.format(JSON.stringify(v.ConversationErrors.CONVERSATION_NOT_FOUND),t,e))))}),(function(e){r(new u.CometChatException(e.error))}))}catch(o){r(new u.CometChatException(o))}}))},t.tagConversation=function(e,t,n){return void 0===n&&(n=[]),new Promise((function(r,o){try{var i=s.validateConversationType(t);if(i instanceof u.CometChatException)return void o(i);var a=s.validateId(e,t);if(a instanceof u.CometChatException)return void o(a);t=t.toLowerCase(),e=e.toLowerCase();var l={},d="";t===v.MessageConstatnts.RECEIVER_TYPE.GROUP?(d="updateGroupConversation",l.guid=e):(d="updateUserConversation",l.uid=e),c.makeApiCall(d,l,{tags:n}).then((function(n){if(n.data){var i=n.data;r(K.ConversationController.trasformJSONConversation(i.conversationId,i.conversationType,i.lastMessage,i.conversationWith,parseInt(i.unreadMessageCount),i.tags?i.tags:[]))}else o(new u.CometChatException(JSON.parse(s.format(JSON.stringify(v.ConversationErrors.CONVERSATION_NOT_FOUND),t,e))))}),(function(e){o(new u.CometChatException(e.error))}))}catch(i){o(new u.CometChatException(i))}}))},t.deleteConversation=function(e,t){return new Promise((function(n,r){try{var o=s.validateConversationType(t);if(o instanceof u.CometChatException)return void r(o);var i=s.validateId(e,t);if(i instanceof u.CometChatException)return void r(i);var a={},l="";t=t.toLowerCase(),e=e.toLowerCase(),t===v.MessageConstatnts.RECEIVER_TYPE.GROUP?(l="deleteGroupConversation",a.guid=e):(l="deleteUserConversation",a.uid=e),c.makeApiCall(l,a).then((function(e){n("Conversation deleted successfully.")}),(function(e){r(new u.CometChatException(e.error))}))}catch(o){r(new u.CometChatException(o))}}))},t.createGroup=function(e){return new Promise((function(t,n){try{var r=s.validateCreateGroup(e);if(r instanceof u.CometChatException)return void n(r);if(!(e instanceof m.Group)){var o=void 0;if(!e.hasOwnProperty(v.GroupConstants.KEYS.GUID))return void n(new u.CometChatException(I.ERRORS.PARAMETER_MISSING));if(!e.hasOwnProperty(v.GroupConstants.KEYS.NAME))return void n(new u.CometChatException(I.ERRORS.PARAMETER_MISSING));if(o=new m.Group(e[v.GroupConstants.KEYS.GUID],e[v.GroupConstants.KEYS.NAME],""),e.hasOwnProperty(v.GroupConstants.KEYS.TYPE))if(e[v.GroupConstants.KEYS.TYPE].toLocaleLowerCase()==v.GroupType.Password){if(!e.hasOwnProperty(v.GroupConstants.KEYS.PASSWORD))return void n(new u.CometChatException(I.GROUP_CREATION_ERRORS.EMPTY_PASSWORD));o.setType(v.GROUP_TYPE.PASSWORD),o.setPassword(e[v.GroupConstants.KEYS.PASSWORD])}else o.setType(e[v.GroupConstants.KEYS.TYPE]);else o.setType(v.GROUP_TYPE.PUBLIC);e.hasOwnProperty(v.GroupConstants.KEYS.ICON)&&o.setIcon(e[v.GroupConstants.KEYS.ICON]),e.hasOwnProperty(v.GroupConstants.KEYS.DESCRIPTION)&&o.setDescription(e[v.GroupConstants.KEYS.DESCRIPTION]),e.hasOwnProperty(v.GroupConstants.KEYS.TAGS)&&o.setTags(e[v.GroupConstants.KEYS.TAGS]),e=o}c.makeApiCall("createGroup",{},e).then((function(e){_.GroupsController.trasformJSONGroup(e.data).setHasJoined(!0),t(_.GroupsController.trasformJSONGroup(e.data))}),(function(e){n(new u.CometChatException(e.error))}))}catch(r){n(new u.CometChatException(r))}}))},t.getGroup=function(e){return new Promise((function(t,n){try{"object"==typeof e&&e.hasOwnProperty("guid")&&(e=e.guid);var r=s.validateId(e,"group");if(r instanceof u.CometChatException)return void n(r);c.makeApiCall("getGroup",{guid:e}).then((function(e){t(_.GroupsController.trasformJSONGroup(e.data))}),(function(e){n(new u.CometChatException(e.error))}))}catch(r){n(new u.CometChatException(r))}}))},t.joinGroup=function(e,t,n){return void 0===t&&(t=v.GroupType.Public),void 0===n&&(n=""),new Promise((function(r,o){try{var i=s.validateJoinGroup(e,t,n);if(i instanceof u.CometChatException)return void o(i);var a=void 0;"object"==typeof e&&(e.hasOwnProperty(v.GroupConstants.KEYS.GUID)?(e.hasOwnProperty(v.GroupConstants.KEYS.TYPE)&&(t=e[v.GroupConstants.KEYS.TYPE],e[v.GroupConstants.KEYS.TYPE].toLocaleLowerCase()===v.GroupType.Password&&e.hasOwnProperty(v.GroupConstants.KEYS.PASSWORD)&&(n=e[v.GroupConstants.KEYS.PASSWORD])),e=e[v.GroupConstants.KEYS.GUID]):o(new u.CometChatException(I.ERRORS.PARAMETER_MISSING))),a=s.isFalsy(n)?new m.Group(e,"name",t):new m.Group(e,"name",t,n),c.makeApiCall("joinGroup",a,a).then((function(e){var t=_.GroupsController.trasformJSONGroup(e.data[v.ResponseConstants.RESPONSE_KEYS.KEY_DATA][v.ActionConstatnts.ACTION_KEYS.ENTITIES][v.ActionConstatnts.ACTION_SUBJECTS.ACTION_FOR][v.ActionConstatnts.ACTION_KEYS.ENTITY]);t.setHasJoined(!0),r(t)}),(function(e){o(new u.CometChatException(e.error))}))}catch(i){o(new u.CometChatException(i))}}))},t.updateGroup=function(e){return new Promise((function(t,n){try{var r=s.validateUpdateGroup(e);if(r instanceof u.CometChatException)return void n(r);if(!(e instanceof m.Group)){var o=void 0;if(!e.hasOwnProperty(v.GroupConstants.KEYS.GUID))return void n(new u.CometChatException(I.ERRORS.PARAMETER_MISSING));o=new m.Group(v.GroupConstants.KEYS.GUID,"",""),e.hasOwnProperty(v.GroupConstants.KEYS.TYPE)?o.setType(e[v.GroupConstants.KEYS.TYPE]):(e[v.GroupConstants.KEYS.TYPE]=v.GROUP_TYPE.PUBLIC,o.setType[v.GROUP_TYPE.PUBLIC]),e.hasOwnProperty(v.GroupConstants.KEYS.NAME)&&o.setName(e[v.GroupConstants.KEYS.NAME]),e.hasOwnProperty(v.GroupConstants.KEYS.ICON)&&o.setIcon(e[v.GroupConstants.KEYS.ICON]),e.hasOwnProperty(v.GroupConstants.KEYS.DESCRIPTION)&&o.setDescription(e[v.GroupConstants.KEYS.DESCRIPTION]),e.hasOwnProperty(v.GroupConstants.KEYS.TAGS)&&o.setTags(e[v.GroupConstants.KEYS.TAGS]),e=o}c.makeApiCall("updateGroup",e,e).then((function(e){t(_.GroupsController.trasformJSONGroup(e.data))}),(function(e){n(new u.CometChatException(e.error))}))}catch(r){n(new u.CometChatException(r))}}))},t.deleteGroup=function(e){return new Promise((function(t,n){try{var r=s.validateId(e,"group");if(r instanceof u.CometChatException)return void n(r);c.makeApiCall("deleteGroup",{guid:e}).then((function(e){t(!0)}),(function(e){n(new u.CometChatException(e.error))}))}catch(r){n(new u.CometChatException(r))}}))},t.leaveGroup=function(e){return new Promise((function(t,n){try{var r=s.validateId(e,"group");if(r instanceof u.CometChatException)return void n(r);c.makeApiCall("leaveGroup",{guid:e}).then((function(e){t(!0)}),(function(e){n(new u.CometChatException(e.error))}))}catch(r){n(new u.CometChatException(r))}}))},t.kickGroupMember=function(e,t){return new Promise((function(n,r){try{var o=s.validateId(e,"group");if(o instanceof u.CometChatException)return void r(o);var i=s.validateId(t,"user");if(i instanceof u.CometChatException)return void r(i);c.makeApiCall("kickGroupMembers",{guid:e,uid:t}).then((function(e){n(!0)}),(function(e){r(new u.CometChatException(e.error))}))}catch(o){r(new u.CometChatException(o))}}))},t.updateGroupMemberScope=function(e,t,n){return new Promise((function(r,o){try{var i=s.validateId(e,"group");if(i instanceof u.CometChatException)return void o(i);var a=s.validateId(t,"user");if(a instanceof u.CometChatException)return void o(a);var l=s.validateScope(n);if(l instanceof u.CometChatException)return void o(l);c.makeApiCall("changeScopeOfMember",{guid:e,uid:t},{scope:n}).then((function(e){r(!0)}),(function(e){o(new u.CometChatException(e.error))}))}catch(i){o(new u.CometChatException(i))}}))},t.banGroupMember=function(e,t){return new Promise((function(n,r){try{var o=s.validateId(e,"group");if(o instanceof u.CometChatException)return void r(o);var i=s.validateId(t,"user");if(i instanceof u.CometChatException)return void r(i);c.makeApiCall("banGroupMember",{guid:e,uid:t}).then((function(e){n(!0)}),(function(e){r(new u.CometChatException(e.error))}))}catch(o){r(new u.CometChatException(o))}}))},t.unbanGroupMember=function(e,t){return new Promise((function(n,r){try{var o=s.validateId(e,"group");if(o instanceof u.CometChatException)return void r(o);var i=s.validateId(t,"user");if(i instanceof u.CometChatException)return void r(i);c.makeApiCall("unbanGroupMember",{guid:e,uid:t}).then((function(e){n(!0)}),(function(e){r(new u.CometChatException(e.error))}))}catch(o){r(new u.CometChatException(o))}}))},t.addMembersToGroup=function(e,t,n){var o=[],i=[],a=[],l=[];return new Promise((function(d,f){try{var p=s.validateId(e,"group");if(p instanceof u.CometChatException)return void f(p);var h=s.validateArray(t,"groupMembers");if(h instanceof u.CometChatException)return void f(h);if(n){var E=s.validateArray(n,"bannedMembers");if(E instanceof u.CometChatException)return void f(E)}s.isFalsy(t)&&s.isFalsy(n)?f(new u.CometChatException({})):s.isFalsy(t)||s.isFalsy(n)?s.isFalsy(t)?n.map((function(e){l.push(e)})):(t.filter((function(e){if(e.getScope()==v.GROUP_MEMBER_SCOPE.ADMIN)return!0})).map((function(e){o.push(e.getUid())})),t.filter((function(e){if(e.getScope()==v.GROUP_MEMBER_SCOPE.MODERATOR)return!0})).map((function(e){i.push(e.getUid())})),t.filter((function(e){if(e.getScope()==v.GROUP_MEMBER_SCOPE.PARTICIPANT)return!0})).map((function(e){a.push(e.getUid())}))):(t.filter((function(e){if(e.getScope()==v.GROUP_MEMBER_SCOPE.ADMIN)return!0})).map((function(e){o.push(e.getUid())})),t.filter((function(e){if(e.getScope()==v.GROUP_MEMBER_SCOPE.MODERATOR)return!0})).map((function(e){i.push(e.getUid())})),t.filter((function(e){if(e.getScope()==v.GROUP_MEMBER_SCOPE.PARTICIPANT)return!0})).map((function(e){a.push(e.getUid())})),n.map((function(e){l.push(e)})));var g={};s.isFalsy(o)||(g=r(r({},g),{admins:o})),s.isFalsy(a)||(g=r(r({},g),{participants:a})),s.isFalsy(i)||(g=r(r({},g),{moderators:i})),s.isFalsy(l)||(g=r(r({},g),{usersToBan:l})),c.makeApiCall("addMemebersToGroup",{guid:e},g).then((function(e){var t={};Object.keys(e.data.admins).map((function(n){e.data.admins[n][v.ResponseConstants.RESPONSE_KEYS.GROUP_MEMBERS_RESPONSE.SUCCESS]?t[n]=v.ResponseConstants.RESPONSE_KEYS.GROUP_MEMBERS_RESPONSE.SUCCESS:t[n]=e.data.admins[n][v.ResponseConstants.RESPONSE_KEYS.GROUP_MEMBERS_RESPONSE.ERROR][v.ResponseConstants.RESPONSE_KEYS.GROUP_MEMBERS_RESPONSE.MESSAGE]})),Object.keys(e.data.participants).map((function(n){e.data.participants[n][v.ResponseConstants.RESPONSE_KEYS.GROUP_MEMBERS_RESPONSE.SUCCESS]?t[n]=v.ResponseConstants.RESPONSE_KEYS.GROUP_MEMBERS_RESPONSE.SUCCESS:t[n]=e.data.participants[n][v.ResponseConstants.RESPONSE_KEYS.GROUP_MEMBERS_RESPONSE.ERROR][v.ResponseConstants.RESPONSE_KEYS.GROUP_MEMBERS_RESPONSE.MESSAGE]})),Object.keys(e.data.moderators).map((function(n){e.data.moderators[n][v.ResponseConstants.RESPONSE_KEYS.GROUP_MEMBERS_RESPONSE.SUCCESS]?t[n]=v.ResponseConstants.RESPONSE_KEYS.GROUP_MEMBERS_RESPONSE.SUCCESS:t[n]=e.data.moderators[n][v.ResponseConstants.RESPONSE_KEYS.GROUP_MEMBERS_RESPONSE.ERROR][v.ResponseConstants.RESPONSE_KEYS.GROUP_MEMBERS_RESPONSE.MESSAGE]})),Object.keys(e.data.usersToBan).map((function(n){e.data.usersToBan[n][v.ResponseConstants.RESPONSE_KEYS.GROUP_MEMBERS_RESPONSE.SUCCESS]?t[n]=v.ResponseConstants.RESPONSE_KEYS.GROUP_MEMBERS_RESPONSE.SUCCESS:t[n]=e.data.usersToBan[n][v.ResponseConstants.RESPONSE_KEYS.GROUP_MEMBERS_RESPONSE.ERROR][v.ResponseConstants.RESPONSE_KEYS.GROUP_MEMBERS_RESPONSE.MESSAGE]})),d(t)}),(function(e){f(new u.CometChatException(e.error))}))}catch(d){f(new u.CometChatException(d))}}))},t.transferGroupOwnership=function(e,t){return new Promise((function(n,r){try{var o=s.validateId(e,"group");if(o instanceof u.CometChatException)return void r(o);var i=s.validateId(t,"user");if(i instanceof u.CometChatException)return void r(i);c.makeApiCall("transferOwnership",{guid:e},{owner:t}).then((function(r){var o;o=r&&r.data&&r.data.message?r.data.message:"Ownership transferred to user "+t+" for the group with guid "+e+".",n(o)}),(function(e){r(new u.CometChatException(e.error))}))}catch(o){r(new u.CometChatException(o))}}))},t.initiateCall=function(e){var t=this;return new Promise((function(n,r){var o=t.getActiveCall();if(null===o)try{s.isFalsy(JSON.parse(JSON.stringify(e)).sender)?s.isFalsy(o)?(e.setStatus(v.CallConstants.CALL_STATUS.INITIATED),e.receiver=e.receiverId.toString(),delete e.receiverId,c.makeApiCall("createCallSession",{},e).then((function(e){var t=E.MessageController.trasformJSONMessge(e[v.ResponseConstants.RESPONSE_KEYS.KEY_DATA]);T.CallController.getInstance().initiateCall(t).then((function(e){n(t)})).catch((function(e){r(new u.CometChatException(e))}))}),(function(e){r(new u.CometChatException(e.error))}))):r(new u.CometChatException(v.CALL_ERROR.ERROR_IN_CALLING)):T.CallController.getInstance().initiateCall(e).then((function(t){n(Object.assign(e))})).catch((function(e){r(new u.CometChatException(e))}))}catch(o){r(new u.CometChatException(o))}else r(new u.CometChatException(v.CALL_ERROR.CALL_ALREADY_INITIATED))}))},t.acceptCall=function(e){var t=this;return new Promise((function(n,r){if(null===t.getActiveCall())try{var o={};o[v.CallConstants.CALL_KEYS.CALL_STATUS]=v.CallConstants.CALL_STATUS.ONGOING,c.makeApiCall("updateCallSession",{sessionid:e},o).then((function(e){var t=E.MessageController.trasformJSONMessge(e[v.ResponseConstants.RESPONSE_KEYS.KEY_DATA]);T.CallController.getInstance().onCallStarted(t),n(t)}),(function(e){r(new u.CometChatException(e.error))}))}catch(o){r(new u.CometChatException(o))}else r(new u.CometChatException(v.CALL_ERROR.CANNOT_ACCEPT_CALL))}))},t.rejectCall=function(e,t){try{switch(t){case v.CallConstants.CALL_STATUS.REJECTED:return this.rejectIncomingCall(e);case v.CallConstants.CALL_STATUS.CANCELLED:return this.cancelCall(e);case v.CallConstants.CALL_STATUS.BUSY:return this.sendBusyResponse(e);default:return this.endCall(e,!0)}}catch(e){s.Logger.error("CometChat: rejectCall",e)}},t.endCall=function(e,t){var n=this;return new Promise((function(r,o){s.isFalsy(t)&&(t=!1);var i=n.getActiveCall();if(null!==i){if(i.getSessionId()===e)try{var a={};a[v.CallConstants.CALL_KEYS.CALL_STATUS]=v.CallConstants.CALL_STATUS.ENDED,i.getJoinedAt()&&(a[v.CallConstants.CALL_KEYS.CALL_JOINED_AT]=i.getJoinedAt()),c.makeApiCall("updateCallSession",{sessionid:e},a).then((function(e){t||T.CallController.getInstance().endSession();var n=E.MessageController.trasformJSONMessge(e[v.ResponseConstants.RESPONSE_KEYS.KEY_DATA]);r(n),T.CallController.getInstance().getCallListner()&&T.CallController.getInstance().getCallListner()._eventListener.onCallEnded(n),T.CallController.getInstance().endCall()}),(function(e){s.Logger.log("calling Log",{error:e}),t||T.CallController.getInstance().endSession(),i.setStatus(v.CallConstants.CALL_STATUS.ENDED),r(i),T.CallController.getInstance().getCallListner()&&T.CallController.getInstance().getCallListner()._eventListener.onCallEnded(i),T.CallController.getInstance().endCall()}))}catch(a){o(new u.CometChatException(a))}}else t||T.CallController.getInstance().endSession(),r(null),T.CallController.getInstance().getCallListner()&&T.CallController.getInstance().getCallListner()._eventListener.onCallEnded(null),T.CallController.getInstance().endCall()}))},t.getActiveCall=function(){try{return T.CallController.getInstance().getActiveCall()}catch(e){s.Logger.error("CometChat: getActiveCall",e)}},t.startCall=function(n,r,o){var i=this;try{var a,c,l,d,f,p,h,E,g=this.getActiveCall(),m=!1,_=!0,S=!0,y=!0,C=!0,I=!0,A=!0,R=!1,O=!1,N=v.CallConstants.CALL_MODE.DEFAULT,b=!1,w=!1,P=!1,L={},M=this.user;s.getAppSettings().then((function(e){if(p=e[v.APP_SETTINGS.KEYS.WEBRTC_HOST],e.hasOwnProperty(v.APP_SETTINGS.KEYS.ANALYTICS_HOST)?L[v.APP_SETTINGS.KEYS.ANALYTICS_HOST]=e[v.APP_SETTINGS.KEYS.ANALYTICS_HOST]:L[v.APP_SETTINGS.KEYS.ANALYTICS_HOST]=s.format(v.ANALYTICS.analyticsHost,t.appSettings.getRegion()),e.hasOwnProperty(v.APP_SETTINGS.KEYS.ANALYTICS_VERSION)?L[v.APP_SETTINGS.KEYS.ANALYTICS_VERSION]=e[v.APP_SETTINGS.KEYS.ANALYTICS_VERSION]:L[v.APP_SETTINGS.KEYS.ANALYTICS_VERSION]=v.ANALYTICS.analyticsVersion,e.hasOwnProperty(v.APP_SETTINGS.KEYS.ANALYTICS_PING_DISABLED)?L[v.APP_SETTINGS.KEYS.ANALYTICS_PING_DISABLED]=e[v.APP_SETTINGS.KEYS.ANALYTICS_PING_DISABLED]:L[v.APP_SETTINGS.KEYS.ANALYTICS_PING_DISABLED]=!1,e.hasOwnProperty(v.APP_SETTINGS.KEYS.ANALYTICS_USE_SSL)?L[v.APP_SETTINGS.KEYS.ANALYTICS_USE_SSL]=e[v.APP_SETTINGS.KEYS.ANALYTICS_USE_SSL]:L[v.APP_SETTINGS.KEYS.ANALYTICS_USE_SSL]=!0,s.isFalsy(o)||T.CallController.getInstance().setCallListner(o),s.isFalsy(i.appSettings))T.CallController.getInstance().getCallListner()&&T.CallController.getInstance().getCallListner()._eventListener.onError(new u.CometChatException(v.CALL_ERROR.NOT_INITIALIZED));else if(d=i.appSettings.getRegion())if(M)if((E=new V.RTCUser(M.getUid())).setName(M.getName()),E.setAvatar(M.getAvatar()),E.setResource(t.getSessionId()),t.appId)if(f=t.appId,"string"==typeof n){if(g){var D=g.getType();m=D===v.CallConstants.CALL_TYPE.AUDIO,c=g.getSessionId()}else{if(s.isFalsy(n))return void(T.CallController.getInstance().getCallListner()&&T.CallController.getInstance().getCallListner()._eventListener.onError(new u.CometChatException(v.CALL_ERROR.SESSION_ID_REQUIRED)));c=("v1."+d+"."+t.getAppId()+"."+n).toLowerCase()}if(!c)return void(T.CallController.getInstance().getCallListner()&&T.CallController.getInstance().getCallListner()._eventListener.onError(new u.CometChatException(v.CALL_ERROR.SESSION_ID_REQUIRED)));var x={uid:M.getUid(),sessionId:c};t.getJWT(x).then((function(e){e.hasOwnProperty("token")?(E.setJWT(e.token),a=(new j.CallSettingsBuilder).setSessionID(c).enableDefaultLayout(_).setIsAudioOnlyCall(m).setUser(E).setRegion(d).setAppId(f).setDomain(p).showEndCallButton(C).showMuteAudioButton(y).showPauseVideoButton(S).showScreenShareButton(I).showModeButton(A).setMode(N).setAnalyticsSettings(L).startWithAudioMuted(R).startWithVideoMuted(O).showRecordingButton(b).startRecordingOnCallStart(w).forceLegacyUI(P).build(),T.CallController.getInstance().startCall(a,r)):T.CallController.getInstance().getCallListner()&&T.CallController.getInstance().getCallListner()._eventListener.onError(new u.CometChatException(v.CALL_ERROR.JWT_NOT_FOUND))}),(function(e){T.CallController.getInstance().getCallListner()&&T.CallController.getInstance().getCallListner()._eventListener.onError(new u.CometChatException(e))}))}else{if(s.isFalsy(n))return void(T.CallController.getInstance().getCallListner()&&T.CallController.getInstance().getCallListner()._eventListener.onError(new u.CometChatException(v.CALL_ERROR.CALL_SETTINGS_REQUIRED)));if(g)D=g.getType(),m=D===v.CallConstants.CALL_TYPE.AUDIO,c=g.getSessionId();else{if(m=n.isAudioOnlyCall(),s.isFalsy(n.getSessionId()))return void(T.CallController.getInstance().getCallListner()&&T.CallController.getInstance().getCallListner()._eventListener.onError(new u.CometChatException(v.CALL_ERROR.SESSION_ID_REQUIRED)));c=("v1."+d+"."+t.getAppId()+"."+n.getSessionId()).toLowerCase()}if(!c)return void(T.CallController.getInstance().getCallListner()&&T.CallController.getInstance().getCallListner()._eventListener.onError(new u.CometChatException(v.CALL_ERROR.SESSION_ID_REQUIRED)));_=n.isDefaultLayoutEnabled(),S=n.isPauseVideoButtonEnabled(),y=n.isMuteAudioButtonEnabled(),C=n.isEndCallButtonEnabled(),I=n.isScreenShareButtonEnabled(),N=n.getMode(),h=n.getLocalizedStringObject(),l=n.getCustomCSS(),A=n.isModeButtonEnabled(),R=n.getStartWithAudioMuted(),O=n.getStartWithVideoMuted(),b=n.isRecordingButtonEnabled(),w=n.shouldStartRecordingOnCallStart(),P=n.shouldUseLegacyUI(),x={uid:M.getUid(),sessionId:c},t.getJWT(x).then((function(e){e.hasOwnProperty("token")?(E.setJWT(e.token),a=(new j.CallSettingsBuilder).setSessionID(c).enableDefaultLayout(_).setIsAudioOnlyCall(m).setUser(E).setRegion(d).setAppId(f).setDomain(p).showEndCallButton(C).showMuteAudioButton(y).showPauseVideoButton(S).showScreenShareButton(I).showModeButton(A).setMode(N).setLocalizedStringObject(h).setCustomCSS(l).setAnalyticsSettings(L).startWithAudioMuted(R).startWithVideoMuted(O).showRecordingButton(b).startRecordingOnCallStart(w).forceLegacyUI(P).build(),T.CallController.getInstance().startCall(a,r)):T.CallController.getInstance().getCallListner()&&T.CallController.getInstance().getCallListner()._eventListener.onError(new u.CometChatException(v.CALL_ERROR.JWT_NOT_FOUND))}),(function(e){T.CallController.getInstance().getCallListner()&&T.CallController.getInstance().getCallListner()._eventListener.onError(new u.CometChatException(e))}))}else T.CallController.getInstance().getCallListner()&&T.CallController.getInstance().getCallListner()._eventListener.onError(new u.CometChatException(v.CALL_ERROR.NOT_INITIALIZED));else T.CallController.getInstance().getCallListner()&&T.CallController.getInstance().getCallListner()._eventListener.onError(new u.CometChatException(v.CALL_ERROR.NOT_LOGGED_IN));else T.CallController.getInstance().getCallListner()&&T.CallController.getInstance().getCallListner()._eventListener.onError(new u.CometChatException(v.CALL_ERROR.NOT_INITIALIZED))}),(function(e){s.Logger.error("CometChat: startCall",e)}))}catch(e){s.Logger.error("CometChat: startCall",e)}},t.getCallParticipantCount=function(n,r){var o=this;return new Promise((function(i,l){try{s.getAppSettings().then((function(e){if(s.isFalsy(n))return l(new u.CometChatException(v.ProsodyApiErrors.INVALID_SESSIONID));if(s.isFalsy(r))return l(new u.CometChatException(v.ProsodyApiErrors.INVALID_TYPE));var d=o.appSettings.getRegion(),f={},p=e[v.APP_SETTINGS.KEYS.WEBRTC_HOST],h=s.format((new a.EndpointFactory).prosodyApi,v.PROSODY_API.DOMAIN_PREFIX,p,v.PROSODY_API.PATH.ROOM_SIZE);"direct"===r.toLowerCase()&&(n=("v1."+d+"."+t.getAppId()+"."+n).toLowerCase()),f[v.PROSODY_API.QUERY_PARAMETERS.DOMAIN]=p,f[v.PROSODY_API.QUERY_PARAMETERS.ROOM]=n,c.postData(h,"GET",f,{},!1).then((function(e){return e.text()})).then((function(e){var t=e?JSON.parse(e):{};return t.hasOwnProperty(v.PROSODY_API.RESPONSE.PARTICIPANTS)?i(t[v.PROSODY_API.RESPONSE.PARTICIPANTS]):i(0)})).catch((function(){var e={error:I.FETCH_ERROR.ERROR_IN_API_CALL};return l(e)}))}),(function(e){return l(new u.CometChatException(e))}))}catch(e){return l(new u.CometChatException(e))}}))},t.rejectIncomingCall=function(e){return new Promise((function(t,n){try{var r={};r[v.CallConstants.CALL_KEYS.CALL_STATUS]=v.CallConstants.CALL_STATUS.REJECTED,c.makeApiCall("updateCallSession",{sessionid:e},r).then((function(e){var n=E.MessageController.trasformJSONMessge(e[v.ResponseConstants.RESPONSE_KEYS.KEY_DATA]);t(n)}),(function(e){n(new u.CometChatException(e.error))}))}catch(r){n(new u.CometChatException(r))}}))},t.cancelCall=function(e){var t=this;return new Promise((function(n,r){try{var o={};o[v.CallConstants.CALL_KEYS.CALL_STATUS]=v.CallConstants.CALL_STATUS.CANCELLED,c.makeApiCall("updateCallSession",{sessionid:e},o).then((function(r){var o=E.MessageController.trasformJSONMessge(r[v.ResponseConstants.RESPONSE_KEYS.KEY_DATA]);t.getActiveCall().getSessionId()===e&&T.CallController.getInstance().endCallSession(),n(o)}),(function(e){r(new u.CometChatException(e.error))}))}catch(o){r(new u.CometChatException(o))}}))},t.sendBusyResponse=function(e){return new Promise((function(t,n){try{var r={};r[v.CallConstants.CALL_KEYS.CALL_STATUS]=v.CallConstants.CALL_STATUS.BUSY,c.makeApiCall("updateCallSession",{sessionid:e},r).then((function(e){var n=E.MessageController.trasformJSONMessge(e[v.ResponseConstants.RESPONSE_KEYS.KEY_DATA]);t(n)}),(function(e){n(new u.CometChatException(e.error))}))}catch(r){n(new u.CometChatException(r))}}))},t.sendUnansweredResponse=function(e){return new Promise((function(t,n){try{var r={};r[v.CallConstants.CALL_KEYS.CALL_STATUS]=v.CallConstants.CALL_STATUS.UNANSWERED,c.makeApiCall("updateCallSession",{sessionid:e},r).then((function(e){var n=E.MessageController.trasformJSONMessge(e[v.ResponseConstants.RESPONSE_KEYS.KEY_DATA]),r=Z.getCometChatEventFromMessage(Object.assign(n,e[v.ResponseConstants.RESPONSE_KEYS.KEY_DATA]));Z.publishMessages(r),t(n)}),(function(e){n(new u.CometChatException(e.error))}))}catch(r){n(new u.CometChatException(r))}}))},t.addConnectionListener=function(e,t){try{ee.addConnectionEventListener(e,t)}catch(e){s.Logger.error("CometChat: addConnectionListener",e)}},t.removeConnectionListener=function(e){try{ee.removeConnectionEventListener(e)}catch(e){s.Logger.error("CometChat: removeConnectionListener",e)}},t.addMessageListener=function(e,t){try{ee.addMessageEventListener(e,t)}catch(e){s.Logger.error("CometChat: addMessageListener",e)}},t.removeMessageListener=function(e){try{ee.removeMessageEventListener(e)}catch(e){s.Logger.error("CometChat: removeMessageListener",e)}},t.addCallListener=function(e,t){try{ee.addCallEventListener(e,t)}catch(e){s.Logger.error("CometChat: addCallListener",e)}},t.removeCallListener=function(e){try{ee.removeCallEventListener(e)}catch(e){s.Logger.error("CometChat: removeCallListener",e)}},t.addUserListener=function(e,t){try{ee.addUserEventListener(e,t)}catch(e){s.Logger.error("CometChat: addUserListener",e)}},t.removeUserListener=function(e){try{ee.removeUserEventListener(e)}catch(e){s.Logger.error("CometChat: removeUserListener",e)}},t.addGroupListener=function(e,t){try{ee.addGroupEventListener(e,t)}catch(e){s.Logger.error("CometChat: addGroupListener",e)}},t.removeGroupListener=function(e){try{ee.removeGroupEventListener(e)}catch(e){s.Logger.error("CometChat: removeGroupListener",e)}},t.addLoginListener=function(e,t){try{ee.addLoginEventListener(e,t)}catch(e){s.Logger.error("CometChat: addLoginListener",e)}},t.removeLoginListener=function(e){try{ee.removeLoginEventListener(e)}catch(e){s.Logger.error("CometChat: removeLoginListener",e)}},t.generateAuthToken=function(n){var r=this;return new Promise((function(o,i){try{var a={},l="",d="",f=v.APPINFO.platform,p=v.APPINFO.sdkVersion,h=v.APPINFO.apiVersion;navigator&&(d=navigator.userAgent),t.keyStore.get(v.LOCAL_STORE.KEY_DEVICE_ID).then((function(e){if(null==(l=e)){var s=$(),E=(new Date).getTime();l=r.appId+"_"+s+"_"+E,t.keyStore.set(v.LOCAL_STORE.KEY_DEVICE_ID,l)}a={platform:f,deviceId:l,appInfo:{version:p,apiVersion:h,userAgent:d}},c.makeApiCall("authToken",{uid:n},a).then((function(e){o(e.data)})).catch((function(e){i(new u.CometChatException(e.error))}))}),(function(e){s.Logger.error("Got error while fetching data from key store",e)}))}catch(e){i(new u.CometChatException(e))}}))},t.tryReconnectingToWS=function(){t.WSReconnectionInProgress||t.startWSReconnectionTimer()},t.prototype.makeWSConnection=function(){t.WSLogin(t.user)},t.prototype.accidentallyDisconnected=function(){t.currentConnectionStatus=v.CONNECTION_STATUS.CONNECTING,ee.connectionHandlers.map((function(e){try{e._eventListener&&(s.isFalsy(e._eventListener.inConnecting)||e._eventListener.inConnecting())}catch(e){s.Logger.error("ConnectionHandlers: inConnecting Status",e)}})),t.tryReconnectingToWS()},t.WSLogin=function(e){var n=this;Z.connection?s.Logger.error("CometChat :: WSLogin",Z.connection):Z.WSLogin(e.getJWT(),(function(e){switch(e){case J.READY_STATE.CONNECTING:(r=t.getConnectionStatus())==v.CONNECTION_STATUS.DISCONNECTED&&(n.currentConnectionStatus=v.CONNECTION_STATUS.CONNECTING,ee.connectionHandlers.map((function(e){try{e._eventListener&&(s.isFalsy(e._eventListener.inConnecting)||e._eventListener.inConnecting())}catch(e){s.Logger.error("connectionHandlers: Connecting Status",e)}})));break;case J.READY_STATE.OPEN:(r=t.getConnectionStatus())==v.CONNECTION_STATUS.CONNECTING&&(n.currentConnectionStatus=v.CONNECTION_STATUS.CONNECTED,ee.connectionHandlers.map((function(e){try{e._eventListener&&(s.isFalsy(e._eventListener.onConnected)||e._eventListener.onConnected())}catch(e){s.Logger.error("connectionHandlers: Connected Status",e)}}))),t.WSReconnectionInProgress&&t.clearWSReconnectionTimer();break;case J.READY_STATE.CLOSING:break;case J.READY_STATE.CLOSED:var r;(r=t.getConnectionStatus())!==v.CONNECTION_STATUS.DISCONNECTED&&r!==v.CONNECTION_STATUS.CONNECTING&&(n.currentConnectionStatus=v.CONNECTION_STATUS.DISCONNECTED,ee.connectionHandlers.map((function(e){try{e._eventListener&&(s.isFalsy(e._eventListener.onDisconnected)||e._eventListener.onDisconnected())}catch(e){s.Logger.error("connectionHandlers: Disconnected Status",e)}}))),Z.connection&&(Z.connection=null),t.isLoggedOut||t.disconnectedByUser||n.tryReconnectingToWS()}}))},t.pingAnalytics=function(){var n=this;try{t.keyStore.get("deviceId").then((function(e){var r=null;window&&window.location&&window.location.origin&&(r=window.location.origin);var o="",i=e,a={version:v.SDKHeader.sdkVersion,apiVersion:v.APPINFO.apiVersion,origin:r,uts:(new Date).getTime()};s.isFalsy(n.resource)||(a.resource=n.resource),s.isFalsy(n.platform)||(a.platform=n.platform),s.isFalsy(n.language)||(a.language=n.language),navigator&&(o=navigator.userAgent);var l={appInfo:a,uid:t.user.getUid(),userAgent:o,deviceId:i,platform:v.SDKHeader.platform};s.isFalsy(t.getSessionId())||(l.wsId=t.getSessionId()),t.analyticsHost||(t.analyticsHost=s.format(v.ANALYTICS.analyticsHost,t.appSettings.getRegion())),t.analyticsVersion||(t.analyticsVersion=v.ANALYTICS.analyticsVersion);var d="https://"+t.analyticsHost+"/"+t.analyticsVersion+"/ping",f={appId:t.appId,sdk:s.format(v.SDKHeader.sdk,v.SDKHeader.platform,v.SDKHeader.sdkVersion),"Content-Type":"application/json"};t.settingsHash&&(f.settingsHash=t.settingsHash),t.settingsHashReceivedAt&&(f.settingsHashReceivedAt=t.settingsHashReceivedAt),t.jwt&&(f.Authorization="Bearer "+t.jwt),t.authToken&&(f.authToken=t.authToken),c.postData(d,"POST",l,f,!1).then((function(e){return e.json()})).then((function(e){if(e.hasOwnProperty(v.ResponseConstants.RESPONSE_KEYS.KEY_DATA))s.Logger.log("Analytics Ping Request Data",e[v.ResponseConstants.RESPONSE_KEYS.KEY_DATA]);else if(e.hasOwnProperty(v.ResponseConstants.RESPONSE_KEYS.KEY_ERROR)){var r=e[v.ResponseConstants.RESPONSE_KEYS.KEY_ERROR];s.Logger.log("Analytics Ping Request Error",new u.CometChatException(r));var o=r.code;if(o===v.Errors.ERR_SETTINGS_HASH_OUTDATED){var i=t.authToken;t.getInstance().internalRestart(i)}o===v.Errors.ERR_NO_AUTH&&n.updateJWT()}})).catch((function(e){s.Logger.error("CometChat: pingAnalytics Fetch Error",e)}))}))}catch(e){s.Logger.error("CometChat: pingAnalytics",e)}},t.updateJWT=function(){c.makeApiCall("getMyDetails",{},{},!1).then((function(e){var n=e.data,r=n.settings,o=new l.Me(n);if(n.hasOwnProperty("jwt")&&n.jwt&&(t.jwt=n.jwt),d.LocalStorage.getInstance().set("user",o),r&&r[v.APP_SETTINGS.KEYS.SETTINGS_HASH]&&t.settingsHash!==r[v.APP_SETTINGS.KEYS.SETTINGS_HASH]){var i=t.getInstance().getAuthToken();t.getInstance().internalRestart(i)}s.Logger.log("CometChat: updateJWT response",e)}),(function(e){s.Logger.error("CometChat: updateJWT Fetch Error",e)})).catch((function(e){s.Logger.error("CometChat: updateJWT",e)}))},t.startAnalyticsPingTimer=function(){var e=this;t.isAnalyticsPingStarted=!0,t.analyticsPingTimer=setInterval((function(){try{e.pingAnalytics()}catch(e){s.Logger.error("CometChat: startAnalyticsPingTimer",e)}}),t.settingsInterval)},t.clearAnalyticsPingTimer=function(){try{t.isAnalyticsPingStarted=!1,clearInterval(t.analyticsPingTimer)}catch(e){s.Logger.error("CometChat: clearAnalyticsPingTimer",e)}},t.startWSReconnectionTimer=function(){t.WSReconnectionInProgress=!0,t.WSReconnectionTimer=setInterval((function(){try{t.WSLogin(t.user)}catch(e){s.Logger.error("CometChat: startWSReconnectionTimer",e)}}),t.WSReconnectionTimerInterval)},t.clearWSReconnectionTimer=function(){t.WSReconnectionInProgress=!1,clearInterval(t.WSReconnectionTimer)},t.getJWT=function(n){return new Promise((function(r,o){try{q.getEndPoint("getJWT").then((function(e){var i={appId:t.appId,Accept:"application/json",authToken:t.authToken,resource:t.getSessionId(),sdk:s.format(v.SDKHeader.sdk,v.SDKHeader.platform,v.SDKHeader.sdkVersion),"Content-Type":"application/json"},a={};a[v.JWT_API.KEYS.PASSTHROUGH]=n,c.postData(e.endpoint,e.method,a,i,!1).then((function(e){return e.json()})).then((function(e){e.hasOwnProperty(v.ResponseConstants.RESPONSE_KEYS.KEY_DATA)?r(e[v.ResponseConstants.RESPONSE_KEYS.KEY_DATA]):o(new u.CometChatException(e.error))})).catch((function(e){var t={error:I.FETCH_ERROR.ERROR_IN_API_CALL};o(new u.CometChatException(t))}))}),(function(e){o(new u.CometChatException(e))}))}catch(e){o(new u.CometChatException(e))}}))},t.getConnectionStatus=function(){return this.currentConnectionStatus},t.prototype.setConnectionStatus=function(e){t.currentConnectionStatus=e},t.isExtensionEnabled=function(t){return new Promise((function(n,r){try{if(s.isFalsy(t))return r(new u.CometChatException(v.ExtensionErrors.INVALID_EXTENSION));s.getAppSettings().then((function(e){if(e.extensions){var o=e.extensions;if(0<o.length){var i=o.some((function(e){return e.id===t}));return n(i)}return n(!1)}return r(new u.CometChatException(v.ExtensionErrors.EXTENSION_NOT_FOUND))}),(function(e){return r(new u.CometChatException(e))}))}catch(e){return r(new u.CometChatException(e))}}))},t.getExtensionDetails=function(t){return new Promise((function(n,r){try{if(s.isFalsy(t))return r(new u.CometChatException(v.ExtensionErrors.INVALID_EXTENSION));s.getAppSettings().then((function(e){if(e.extensions){var o=e.extensions;if(0<o.length){var i=o.filter((function(e){return e.id===t}));if(0<i.length){var a=new z.CCExtension(i[0]);return n(a)}return r(new u.CometChatException(v.ExtensionErrors.EXTENSION_NOT_FOUND))}return r(new u.CometChatException(v.ExtensionErrors.EXTENSION_NOT_FOUND))}return r(new u.CometChatException(v.ExtensionErrors.EXTENSION_NOT_FOUND))}),(function(e){return r(new u.CometChatException(e))}))}catch(e){return r(new u.CometChatException(e))}}))},t.getAppSettings=function(){return new Promise((function(t,n){try{c.makeApiCall("appSettings").then((function(e){d.LocalStorage.getInstance().set(v.LOCAL_STORE.KEY_APP_SETTINGS,e.data),t(e.data)}),(function(e){n(new u.CometChatException(e.error))}))}catch(e){n(new u.CometChatException(e))}}))},t.isFeatureEnabled=function(t){return new Promise((function(n,r){try{if(s.isFalsy(t))return r(new u.CometChatException(v.FeatureRestrictionErrors.INVALID_FEATURE));s.getAppSettings().then((function(e){if(e.parameters){var o=e.parameters;return o.hasOwnProperty(t)?n(o[t]):n(!1)}return r(new u.CometChatException(v.FeatureRestrictionErrors.FEATURE_NOT_FOUND))}),(function(e){return r(new u.CometChatException(e))}))}catch(e){return r(new u.CometChatException(e))}}))},t.logout=function(){var n=this;return new Promise((function(r,o){try{t.didAnalyticsPingStart()&&t.clearAnalyticsPingTimer(),t.WSReconnectionInProgress&&t.clearWSReconnectionTimer(),t.isLoggedOut=!0,t.WSReconnectionInProgress=!1,t.isAnalyticsDisabled=!1,c.makeApiCall("userLogout").then((function(e){n.clearCache().then((function(){t.apiKey=void 0,t.user=void 0,t.authToken=void 0,t.cometChat=void 0,t.mode=void 0,Z.WSLogout(),t.pushToLoginListener("","Logout_Success"),r(e.data)}))}),(function(e){n.clearCache().then((function(){t.apiKey=void 0,t.user=void 0,t.authToken=void 0,t.cometChat=void 0,t.mode=void 0,Z.WSLogout(),t.pushToLoginListener("","Logout_Success"),new u.CometChatException(e.error).code==I.SERVER_ERRORS.AUTH_ERR.code?r({}):o(new u.CometChatException(e.error))}))}))}catch(e){o(new u.CometChatException(e))}}))},t.callExtension=function(e,n,r,o){return void 0===o&&(o={}),new Promise((function(i,l){var d=s.format((new a.EndpointFactory).extensionApi,e,t.appSettings.getRegion(),r),f={appId:t.appId,Accept:"application/json",authToken:t.authToken,resource:t.getSessionId(),sdk:s.format(v.SDKHeader.sdk,v.SDKHeader.platform,v.SDKHeader.sdkVersion),chatApiVersion:v.APPINFO.apiVersion,"Content-Type":"application/json"};c.postData(d,n,o,f,!1).then((function(e){return e.json()})).then((function(e){e.hasOwnProperty(v.ResponseConstants.RESPONSE_KEYS.KEY_DATA)?i(e[v.ResponseConstants.RESPONSE_KEYS.KEY_DATA]):l(new u.CometChatException(e.error))})).catch((function(e){var t={error:I.FETCH_ERROR.ERROR_IN_API_CALL};l(t)}))}))},t.setSource=function(e,t,n){s.isFalsy(e)||(this.resource=e),s.isFalsy(t)||(this.platform=t),s.isFalsy(n)||(this.language=n)},t.clearCache=function(){return new Promise((function(e,n){try{d.LocalStorage.getInstance().clearStore().then((function(){t.removeDataFromSessionStorage(v.SESSION_STORE.SESSION_ID),s.Logger.info("CometChat: clearCache => All store cleared successfully","true"),e(!0)}))}catch(e){s.Logger.error("CometChat: clearCache",e),n(e)}}))},t.connect=function(){t.user&&(Z.connection||(t.disconnectedByUser=!1,t.WSLogin(t.user)),t.didAnalyticsPingStart()||t.isAnalyticsDisabled||(t.pingAnalytics(),t.startAnalyticsPingTimer()))},t.disconnect=function(){t.user&&(t.disconnectedByUser=!0,Z.connection&&Z.WSLogout(),t.didAnalyticsPingStart()&&t.clearAnalyticsPingTimer())},t.prototype.internalRestart=function(e){t.internalRestart||t.getInstance().internalLogout(!1).then((function(){t.internalRestart=!0,t.login(e).then((function(e){t.shouldConnectToWS=!0,t.internalRestart=!1}),(function(e){s.Logger.error("CometChat: internalRestart :: login",e),t.internalRestart=!1}))}),(function(e){s.Logger.error("CometChat: internalRestart :: internalLogout",e)}))},t.prototype.internalLogout=function(e){return void 0===e&&(e=!0),new Promise((function(n,r){try{t.didAnalyticsPingStart()&&t.clearAnalyticsPingTimer(),t.WSReconnectionInProgress&&t.clearWSReconnectionTimer(),t.isLoggedOut=!0,t.WSReconnectionInProgress=!1,t.isAnalyticsDisabled=!1,t.clearCache().then((function(){t.apiKey=void 0,t.user=void 0,t.authToken=void 0,t.cometChat=void 0,t.mode=void 0,Z.WSLogout(),e&&t.pushToLoginListener("","Logout_Success"),n(!0)}))}catch(n){s.Logger.error("CometChat: internalLogout",n),r(n)}}))},t.initialzed=!1,t.CometChatException=u.CometChatException,t.TextMessage=h.TextMessage,t.MediaMessage=f.MediaMessage,t.CustomMessage=x.CustomMessage,t.Action=A.Action,t.Call=C.Call,t.TypingIndicator=M.TypingIndicator,t.TransientMessage=X.TransientMessage,t.Group=m.Group,t.User=l.User,t.GroupMember=k.GroupMember,t.Conversation=F.Conversation,t.USER_STATUS={ONLINE:v.PresenceConstatnts.STATUS.ONLINE,OFFLINE:v.PresenceConstatnts.STATUS.OFFLINE},t.MessagesRequest=P.MessagesRequest,t.MessagesRequestBuilder=P.MessagesRequestBuilder,t.UsersRequest=b.UsersRequest,t.UsersRequestBuilder=b.UsersRequestBuilder,t.ConversationsRequest=w.ConversationsRequest,t.ConversationsRequestBuilder=w.ConversationsRequestBuilder,t.BlockedUsersRequest=U.BlockedUsersRequest,t.BlockedUsersRequestBuilder=U.BlockedUsersRequestBuilder,t.GroupsRequest=R.GroupsRequest,t.GroupsRequestBuilder=R.GroupsRequestBuilder,t.GroupMembersRequest=O.GroupMembersRequest,t.GroupMembersRequestBuilder=O.GroupMembersRequestBuilder,t.BannedMembersRequest=N.BannedMembersRequest,t.BannedMembersRequestBuilder=N.BannedMembersRequestBuilder,t.CallSettings=j.CallSettings,t.CallSettingsBuilder=j.CallSettingsBuilder,t.AppSettings=Y.AppSettings,t.AppSettingsBuilder=Y.AppSettingsBuilder,t.MessageListener=y.MessageListener,t.UserListener=y.UserListener,t.GroupListener=y.GroupListener,t.OngoingCallListener=y.OngoingCallListener,t.CallListener=y.CallListener,t.ConnectionListener=y.ConnectionListener,t.LoginListener=y.LoginListener,t.CallController=T.CallController,t.CometChatHelper=G.CometChatHelper,t.Attachment=B.Attachment,t.MediaDevice=Q.MediaDevice,t.MESSAGE_TYPE=v.MessageConstatnts.TYPE,t.CATEGORY_MESSAGE=v.MessageConstatnts.CATEGORY.MESSAGE,t.CATEGORY_ACTION=v.MessageConstatnts.CATEGORY.ACTION,t.CATEGORY_CALL=v.MessageConstatnts.CATEGORY.CALL,t.CATEGORY_CUSTOM=v.MessageConstatnts.CATEGORY.CUSTOM,t.ACTION_TYPE=v.ActionConstatnts.ACTIONS,t.CALL_TYPE=v.CallConstants.CALL_TYPE,t.RECEIVER_TYPE=v.MessageConstatnts.RECEIVER_TYPE,t.CALL_STATUS=v.CallConstants.CALL_STATUS,t.GROUP_MEMBER_SCOPE=v.GROUP_MEMBER_SCOPE,t.GROUP_TYPE=v.GROUP_TYPE,t.MESSAGE_REQUEST=v.MessageConstatnts.PAGINATION.CURSOR_FILEDS,t.CONNECTION_STATUS=v.CONNECTION_STATUS,t.CALL_MODE=v.CallConstants.CALL_MODE,t.WSReconnectionInProgress=!1,t.WSReconnectionTimerInterval=5e3,t.currentConnectionStatus=v.CONNECTION_STATUS.DISCONNECTED,t.isConnectingFromInit=!1,t.loginInProgress=!1,t.internalRestart=!1,t.settingsInterval=6e4,t.isAnalyticsPingStarted=!1,t.isLoggedOut=!0,t.isAnalyticsDisabled=!1,t.disconnectedByUser=!1,t.shouldConnectToWS=!0,t}();t.CometChat=te},function(e,t,n){"use strict";var r,o=this&&this.__extends||(r=function(e,t){return(r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])})(e,t)},function(e,t){function n(){this.constructor=e}r(e,t),e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)});t.__esModule=!0,t.Me=t.User=void 0;var i=n(2),a=n(14),s=n(1),u=function(){function e(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];if(this.hasBlockedMe=!1,this.blockedByMe=!1,this.deactivatedAt=0,1===e.length)typeof e[0]===s.COMMON_UTILITY_CONSTANTS.TYPE_CONSTANTS.STRING?this.uid=e[0]:(this.uid=e[0].uid,this.name=e[0].name,e[0].authToken&&(this.authToken=e[0].authToken),e[0].avatar&&(this.avatar=e[0].avatar),e[0].lastActiveAt&&(this.lastActiveAt=e[0].lastActiveAt),e[0].link&&(this.link=e[0].link),e[0].metadata&&(this.metadata=e[0].metadata),e[0].role&&(this.role=e[0].role),e[0].statusMessage&&(this.statusMessage=e[0].statusMessage),e[0].status&&"offline"!==e[0].status?this.status="online":this.status="offline",e[0].tags&&(this.tags=e[0].tags),e[0].deactivatedAt&&(this.deactivatedAt=e[0].deactivatedAt));else{if(2!==e.length)throw new i.CometChatException(a.ERRORS.PARAMETER_MISSING);this.uid=e[0],this.name=e[1]}}return e.prototype.getUid=function(){return this.uid.toString()},e.prototype.setUid=function(e){this.uid=e},e.prototype.getName=function(){return this.name.toString()},e.prototype.setName=function(e){e&&(this.name=e)},e.prototype.getAuthToken=function(){return this.authToken},e.prototype.setAuthToken=function(e){this.authToken=e},e.prototype.getAvatar=function(){return this.avatar},e.prototype.setAvatar=function(e){this.avatar=e},e.prototype.getLastActiveAt=function(){return this.lastActiveAt},e.prototype.setLastActiveAt=function(e){this.lastActiveAt=e},e.prototype.getLink=function(){return this.link},e.prototype.setLink=function(e){return this.link=e},e.prototype.getMetadata=function(){return this.metadata},e.prototype.setMetadata=function(e){this.metadata=e},e.prototype.getRole=function(){return this.role},e.prototype.setRole=function(e){this.role=e},e.prototype.getStatus=function(){return this.status},e.prototype.setStatus=function(e){this.status=e},e.prototype.getStatusMessage=function(){return this.statusMessage},e.prototype.setStatusMessage=function(e){this.statusMessage=e},e.prototype.setBlockedByMe=function(e){this.blockedByMe=e},e.prototype.getBlockedByMe=function(){return this.blockedByMe},e.prototype.setHasBlockedMe=function(e){this.hasBlockedMe=e},e.prototype.getHasBlockedMe=function(){return this.hasBlockedMe},e.prototype.setTags=function(e){this.tags=e},e.prototype.getTags=function(){return this.tags},e.prototype.setDeactivatedAt=function(e){this.deactivatedAt=e},e.prototype.getDeactivatedAt=function(){return this.deactivatedAt},e}(),c=function(e){function t(t){var n=e.call(this,t)||this;return n.wsChannel=t.wsChannel,t.jwt&&(n.jwt=t.jwt),n}return o(t,e),t.prototype.getWsChannel=function(){return this.wsChannel},t.prototype.getJWT=function(){return this.jwt},t}(t.User=u);t.Me=c},function(e,t,n){"use strict";t.__esModule=!0,t.KEYS=t.AUTH=t.MESSAGE=t.PRESENCE=t.RECEIPTS=t.TRANSIENT_MESSAGE=t.TYPING_INDICATOR=t.LOGOUT_REASON=t.LOGOUT_CODE=t.READY_STATE=t.WS=void 0,t.WS={protocol:"wss://"},t.READY_STATE={CONNECTING:0,OPEN:1,CLOSING:2,CLOSED:3,INVALID_JWT:4},t.LOGOUT_CODE=1e3,t.LOGOUT_REASON="User logged out",t.TYPING_INDICATOR={TYPE:"typing_indicator",ACTION:{STARTED:"started",ENDED:"ended"}},t.TRANSIENT_MESSAGE={TYPE:"transient_message"},t.RECEIPTS={TYPE:"receipts",ACTION:{READ:"read",DELIVERED:"delivered"},RECEIPT_TYPE:{READ_RECEIPT:"read",DELIVERY_RECEIPT:"delivery"}},t.PRESENCE={TYPE:"presence",ACTION:{ONLINE:"online",AVAILABLE:"available",OFFLINE:"offline"}},t.MESSAGE={TYPE:"message"},t.AUTH={TYPE:"auth"},t.KEYS={TYPE:"type",ACTION:"action",APP_ID:"appId",RECEIVER:"receiver",RECEIVER_TYPE:"receiverType",DEVICE_ID:"deviceId",BODY:"body",USER:"user",METADATA:"metadata",MESSAGE_ID:"messageId",TIMESTAMP:"timestamp",STATUS:"status",CODE:"code",SENDER:"sender",MESSAGE_SENDER:"messageSender",PRESENCE_SUBSCRIPTION:"presenceSubscription",AUTH:"auth",PING:"ping",DATA:"data",PARAMS:"params",ACK:"ack",PONG:"pong"}},function(e,t,n){"use strict";t.__esModule=!0,t.postData=t.makeAdminApiCall=t.makeApiCall=void 0;var r=n(29),o=n(3),i=n(0),a=n(2),s=n(14),u=n(1);function c(e,t,n,r,o){var a;return void 0===e&&(e=""),void 0===t&&(t="GET"),void 0===n&&(n={}),void 0===r&&(r={}),n=i.isFalsy(n)?void 0:("GET"==t&&(e+="?",Object.keys(n).map((function(t,r){e=r===Object.keys(n).length-1?e+t+"="+n[t]:e+t+"="+n[t]+"&"})),n=void 0),o&&(a=new FormData,Object.keys(n).map((function(e){"data"!=e?"tags"==e?a.append(e+"[]",n[e]):"metadata"!=e&&a.append(e,n[e]):a.append(e,JSON.stringify(n[e]))}))),JSON.stringify(n)),fetch(e,{method:t,mode:"cors",cache:"no-cache",headers:r,redirect:"follow",referrer:"no-referrer",body:o?a:n})}t.makeApiCall=function(e,t,n,l){void 0===e&&(e=""),void 0===t&&(t={}),void 0===n&&(n={});var d=o.CometChat.getInstance(o.CometChat.getAppId());return new Promise((function(f,p){try{r.getEndPoint(e,t).then((function(t){var r={resource:o.CometChat.getSessionId(),appId:o.CometChat.getAppId(),Accept:"application/json",sdk:i.format(u.SDKHeader.sdk,u.SDKHeader.platform,u.SDKHeader.sdkVersion)};l||(r["Content-Type"]="application/json"),t.hasOwnProperty("isAdminApi")&&t.isAdminApi?d.getApiKey()?r.apiKey=d.getApiKey():p({error:{code:"API_KEY_NOT_SET",message:"An apiKey is needed to use the "+e+" api.",name:"API_KEY_NOT_SET"}}):d.getAuthToken()?r.authToken=d.getAuthToken():p({error:{code:"USER_NOT_LOGED_IN",message:"An authToken is need to use the "+e+" end-point. PS- We are aware of the spelling mistake, but in order to maintain backward compatibility we cannot change it :(",name:"User not logged-in"}}),c(t.endpoint,t.method,n,r,l).then((function(e){return e.json()})).then((function(e){if(e.hasOwnProperty("data"))e.data.hasOwnProperty("authToken")&&o.CometChat.setAuthToken(e.data.authToken),f(e);else{if(e.hasOwnProperty("error")){var t=e.error;t.hasOwnProperty("code")&&t.code===u.API_ERROR_CODES.AUTH_ERR_AUTH_TOKEN_NOT_FOUND&&o.CometChat.getInstance().internalLogout().then((function(){i.Logger.log("CometChat: makeApiCall","User logged out")}))}p(e)}})).catch((function(e){var t={error:s.FETCH_ERROR.ERROR_IN_API_CALL};p(t)}))})).catch((function(e){return p}))}catch(t){p(new a.CometChatException(t))}}))},t.makeAdminApiCall=function(e,t,n,a){void 0===e&&(e=""),void 0===t&&(t={}),void 0===n&&(n={});var l=o.CometChat.getInstance(o.CometChat.getAppId());return new Promise((function(d,f){r.getEndPoint(e,t).then((function(t){var r={appId:o.CometChat.getAppId(),Accept:"application/json",sdk:i.format(u.SDKHeader.sdk,u.SDKHeader.platform,u.SDKHeader.sdkVersion)};a||(r["Content-Type"]="application/json"),t.hasOwnProperty("isAdminApi")&&t.isAdminApi?l.getApiKey()?r.apiKey=l.getApiKey():f({error:"An apiKey is need to use the "+e+" api."}):l.getAuthToken()?r.authToken=l.getAuthToken():f({error:"An authToken is need to use the "+e+" api."}),c(t.endpoint,t.method,n,r,a).then((function(e){return e.json()})).then((function(e){e.hasOwnProperty("data")?(e.data.hasOwnProperty("authToken")&&o.CometChat.setAuthToken(e.data.authToken),d(e)):f(e)})).catch((function(e){var t={error:s.FETCH_ERROR.ERROR_IN_API_CALL};f(t)}))})).catch((function(e){return f}))}))},t.postData=c},function(e,t,n){"use strict";t.__esModule=!0,t.BaseMessage=void 0;var r=function(){function e(e,t,n,r){this.receiverId=e,this.type=t,this.receiverType=n,this.category=r}return e.prototype.getId=function(){return this.id},e.prototype.setId=function(e){this.id=e},e.prototype.getConversationId=function(){return this.conversationId},e.prototype.setConversationId=function(e){this.conversationId=e},e.prototype.getParentMessageId=function(){return this.parentMessageId},e.prototype.setParentMessageId=function(e){this.parentMessageId=e},e.prototype.getMuid=function(){return this.muid},e.prototype.setMuid=function(e){this.muid=e},e.prototype.getSender=function(){return this.sender},e.prototype.setSender=function(e){this.sender=e},e.prototype.getReceiver=function(){return this.receiver},e.prototype.setReceiver=function(e){this.receiver=e},e.prototype.getReceiverId=function(){return this.receiverId},e.prototype.setReceiverId=function(e){this.receiverId=e},e.prototype.getType=function(){return this.type},e.prototype.setType=function(e){this.type=e},e.prototype.getReceiverType=function(){return this.receiverType},e.prototype.setReceiverType=function(e){this.receiverType=e},e.prototype.getSentAt=function(){return this.sentAt},e.prototype.setSentAt=function(e){this.sentAt=e},e.prototype.getStatus=function(){return this.status},e.prototype.setStatus=function(e){this.status=e},e.prototype.getDeliveredAt=function(){return this.deliveredAt},e.prototype.setDeliveredAt=function(e){this.deliveredAt=e},e.prototype.getDeliveredToMeAt=function(){return this.deliveredToMeAt},e.prototype.setDeliveredToMeAt=function(e){this.deliveredToMeAt=e},e.prototype.getReadAt=function(){return this.readAt},e.prototype.setReadAt=function(e){this.readAt=e},e.prototype.getReadByMeAt=function(){return this.readByMeAt},e.prototype.setReadByMeAt=function(e){this.readByMeAt=e},e.prototype.getCategory=function(){return this.category},e.prototype.setCategory=function(e){this.category=e},e.prototype.getEditedAt=function(){return this.editedAt},e.prototype.setEditedAt=function(e){this.editedAt=e},e.prototype.getEditedBy=function(){return this.editedBy},e.prototype.setEditedBy=function(e){this.editedBy=e},e.prototype.getDeletedAt=function(){return this.deletedAt},e.prototype.setDeletedAt=function(e){this.deletedAt=e},e.prototype.getDeletedBy=function(){return this.deletedBy},e.prototype.setDeletedBy=function(e){this.deletedBy=e},e.prototype.getReplyCount=function(){return this.replyCount},e.prototype.setReplyCount=function(e){this.replyCount=e},e.prototype.getRawMessage=function(){return this.rawMessage},e.prototype.setRawMessage=function(e){this.rawMessage=e},e}();t.BaseMessage=r},function(e,t,n){"use strict";t.__esModule=!0,t.Group=void 0;var r=n(1),o=function(){function e(e,t,n,r,o,i,a){this.hasJoined=!1,this.membersCount=0,this.guid=e,t&&(this.name=t),n&&(this.type=n),!r&&""!==r||"password"!=n||(this.password=r),(o||""===o)&&(this.icon=o),(i||""===i)&&(this.description=i),a&&(this.hasJoined=a)}return e.prototype.getGuid=function(){return this.guid},e.prototype.setGuid=function(e){this.guid=e},e.prototype.getName=function(){return this.name},e.prototype.setName=function(e){e&&(this.name=e)},e.prototype.getType=function(){return this.type},e.prototype.setType=function(e){this.type=e},e.prototype.getPassword=function(){return this.password},e.prototype.setPassword=function(e){this.password=e},e.prototype.getIcon=function(){return this.icon},e.prototype.setIcon=function(e){this.icon=e},e.prototype.getDescription=function(){return this.description},e.prototype.setDescription=function(e){this.description=e},e.prototype.getOwner=function(){return this.owner},e.prototype.setOwner=function(e){this.owner=e},e.prototype.getMetadata=function(){return this.metadata},e.prototype.setMetadata=function(e){this.metadata=e},e.prototype.getCreatedAt=function(){return this.createdAt},e.prototype.setCreatedAt=function(e){this.createdAt=e},e.prototype.getUpdatedAt=function(){return this.updatedAt},e.prototype.setUpdatedAt=function(e){this.updatedAt=e},e.prototype.getHasJoined=function(){return this.hasJoined},e.prototype.setHasJoined=function(e){this.hasJoined=e},e.prototype.getWsChannel=function(){return this.wsChannel},e.prototype.setWsChannel=function(e){this.wsChannel=e},e.prototype.setScope=function(e){this.scope=e},e.prototype.getScope=function(){return this.scope},e.prototype.getJoinedAt=function(){return this.joinedAt},e.prototype.setJoinedAt=function(e){this.joinedAt=e},e.prototype.getMembersCount=function(){return this.membersCount},e.prototype.setMembersCount=function(e){this.membersCount=e},e.prototype.setTags=function(e){this.tags=e},e.prototype.getTags=function(){return this.tags},e.TYPE=r.GroupType,e.Type=e.TYPE,e}();t.Group=o},function(e,t,n){"use strict";t.__esModule=!0,t.CometChatEvent=void 0;var r=n(0),o=n(5),i=function(){function e(e,t,n,o,i,a){r.isFalsy(e)||(this.appId=e),r.isFalsy(t)||(this.receiver=t),r.isFalsy(n)||(this.receiverType=n),r.isFalsy(i)||(this.deviceId=i),r.isFalsy(o)||(this.sender=o),r.isFalsy(a)||(this.messageSender=a)}return e.prototype.getAppId=function(){return this.appId},e.prototype.setAppId=function(e){this.appId=e},e.prototype.getReceiver=function(){return this.receiver},e.prototype.setReceiver=function(e){this.receiver=e},e.prototype.getSender=function(){return this.sender},e.prototype.setSender=function(e){this.sender=e},e.prototype.getReceiverType=function(){return this.receiverType},e.prototype.setReceiverType=function(e){this.receiverType=e},e.prototype.getType=function(){return this.type},e.prototype.setType=function(e){this.type=e},e.prototype.getDeviceId=function(){return this.deviceId},e.prototype.setDeviceId=function(e){this.deviceId=e},e.prototype.getMessageSender=function(){return this.messageSender},e.prototype.setMessageSender=function(e){this.messageSender=e},e.prototype.getCometChatEventJSON=function(){var e={};return e[o.KEYS.APP_ID]=this.getAppId(),e[o.KEYS.RECEIVER]=this.getReceiver(),e[o.KEYS.RECEIVER_TYPE]=this.getReceiverType(),e[o.KEYS.DEVICE_ID]=this.getDeviceId(),e[o.KEYS.TYPE]=this.getType(),e[o.KEYS.SENDER]=this.getSender(),r.isFalsy(this.getMessageSender())||(e[o.KEYS.MESSAGE_SENDER]=this.getMessageSender()),e},e}();t.CometChatEvent=i},function(e,t,n){"use strict";t.__esModule=!0,t.MessageController=void 0;var r=n(7),o=n(16),i=n(17),a=n(0),s=n(1),u=n(20),c=n(21),l=n(22),d=n(2),f=n(18),p=n(19),h=n(3),E=n(11),g=function(){function e(){}return e.trasformJSONMessge=function(e){try{var t=null;e.hasOwnProperty("rawMessage")||(t=JSON.parse(JSON.stringify(e)));var n=void 0;switch(e[s.MessageConstatnts.KEYS.CATEGORY]){case s.MessageConstatnts.CATEGORY.ACTION:n=u.Action.actionFromJSON(e);break;case s.MessageConstatnts.CATEGORY.CALL:n=c.Call.callFromJSON(e);break;case s.MessageConstatnts.CATEGORY.MESSAGE:switch(e[s.MessageConstatnts.KEYS.TYPE]){case s.MessageConstatnts.TYPE.TEXT:n=new o.TextMessage(e[s.MessageConstatnts.KEYS.RECEIVER],e[s.MessageConstatnts.KEYS.DATA][s.MessageConstatnts.KEYS.TEXT],e[s.MessageConstatnts.KEYS.RECEIVER_TYPE]);break;case s.MessageConstatnts.TYPE.CUSTOM:n=new p.CustomMessage(e[s.MessageConstatnts.KEYS.RECEIVER],e[s.MessageConstatnts.KEYS.DATA][s.MessageConstatnts.KEYS.CUSTOM_DATA],e[s.MessageConstatnts.KEYS.RECEIVER_TYPE]);break;default:if(n=new i.MediaMessage(e[s.MessageConstatnts.KEYS.RECEIVER],e[s.MessageConstatnts.KEYS.DATA][s.MessageConstatnts.KEYS.URL],e[s.MessageConstatnts.KEYS.TYPE],e[s.MessageConstatnts.KEYS.RECEIVER_TYPE]),e.hasOwnProperty(s.MessageConstatnts.KEYS.DATA)){var d=e[s.MessageConstatnts.KEYS.DATA];if(d.hasOwnProperty(s.MessageConstatnts.KEYS.ATTATCHMENTS)){var h,E=d[s.MessageConstatnts.KEYS.ATTATCHMENTS];new Array,E.map((function(e){h=new f.Attachment(e)})),n.setAttachment(h)}d.hasOwnProperty(s.MessageConstatnts.KEYS.TEXT)&&n.setCaption(d[s.MessageConstatnts.KEYS.TEXT])}n.hasOwnProperty("file")&&delete n.file}break;case s.MessageConstatnts.CATEGORY.CUSTOM:n=new p.CustomMessage(e[s.MessageConstatnts.KEYS.RECEIVER],e[s.MessageConstatnts.KEYS.DATA][s.MessageConstatnts.KEYS.CUSTOM_DATA],e[s.MessageConstatnts.KEYS.RECEIVER_TYPE],e.type)}e[s.MessageConstatnts.KEYS.MY_RECEIPTS]&&(e[s.MessageConstatnts.KEYS.MY_RECEIPTS]=e[s.MessageConstatnts.KEYS.MY_RECEIPTS],Object.keys(e[s.MessageConstatnts.KEYS.MY_RECEIPTS]).map((function(t){var n=new l.MessageReceipt;t==s.DELIVERY_RECEIPTS.DELIVERED_AT&&(n.setReceiptType(n.RECEIPT_TYPE.DELIVERY_RECEIPT),n.setDeliveredAt(e[s.MessageConstatnts.KEYS.MY_RECEIPTS][s.DELIVERY_RECEIPTS.DELIVERED_AT]),a.isFalsy(e[s.MessageConstatnts.KEYS.MY_RECEIPTS][s.DELIVERY_RECEIPTS.RECIPIENT])?e[s.DELIVERY_RECEIPTS.DELIVERED_TO_ME_AT]=e[s.MessageConstatnts.KEYS.MY_RECEIPTS][s.DELIVERY_RECEIPTS.DELIVERED_AT]:n.setSender(e[s.MessageConstatnts.KEYS.MY_RECEIPTS][s.DELIVERY_RECEIPTS.RECIPIENT]),n.setReceiverType(e[s.MessageConstatnts.KEYS.RECEIVER_TYPE]),n.setReceiver(e[s.MessageConstatnts.KEYS.RECEIVER])),e[s.MessageConstatnts.KEYS.MY_RECEIPTS][s.READ_RECEIPTS.READ_AT]&&(n.setReceiptType(n.RECEIPT_TYPE.READ_RECEIPT),n.setReadAt(e[s.MessageConstatnts.KEYS.MY_RECEIPTS][s.READ_RECEIPTS.READ_AT]),a.isFalsy(e[s.MessageConstatnts.KEYS.MY_RECEIPTS][s.READ_RECEIPTS.RECIPIENT])?e[s.READ_RECEIPTS.READ_BY_ME_AT]=e[s.MessageConstatnts.KEYS.MY_RECEIPTS][s.READ_RECEIPTS.READ_AT]:n.setSender(e[s.MessageConstatnts.KEYS.MY_RECEIPTS][s.READ_RECEIPTS.RECIPIENT]),n.setReceiverType(e[s.MessageConstatnts.KEYS.RECEIVER_TYPE]),n.setReceiver(e[s.MessageConstatnts.KEYS.RECEIVER]))})));try{if(Object.assign(n,e),(e=n).parentId&&(e.parentMessageId=e.parentId,delete e.parentId),e instanceof r.BaseMessage&&(a.isFalsy(t)||e.setRawMessage(t)),e instanceof o.TextMessage)e.setSender(e.getSender()),e.setReceiver(e.getReceiver()),e.getData()[s.MessageConstatnts.KEYS.METADATA]&&e.setMetadata(e.getData()[s.MessageConstatnts.KEYS.METADATA]);else if(e instanceof i.MediaMessage)e.getData()[s.MessageConstatnts.KEYS.METADATA]&&e.setMetadata(e.getData()[s.MessageConstatnts.KEYS.METADATA]),e.setSender(e.getSender()),e.setReceiver(e.getReceiver());else if(e instanceof u.Action)e.setSender(e.getSender()),e.setReceiver(e.getActionFor()),e.setActionBy(e.getActionBy()),e.setActionOn(e.getActionOn()),e.setActionFor(e.getActionFor()),e.setMessage(e.getMessage());else if(e instanceof c.Call){try{e.setSender(e.getSender())}catch(t){a.Logger.error("MessageController: trasformJSONMessge: setSender",t)}try{e.setCallInitiator(e.getCallInitiator())}catch(t){a.Logger.error("MessageController: trasformJSONMessge: setCallInitiator",t)}try{e.setReceiver(e.getCallReceiver()),e.setCallReceiver(e.getCallReceiver())}catch(t){a.Logger.error("MessageController: trasformJSONMessge: setCallreceiver",t)}}else e instanceof p.CustomMessage&&(e.getData()[s.MessageConstatnts.KEYS.METADATA]&&e.setMetadata(e.getData()[s.MessageConstatnts.KEYS.METADATA]),e.setSubType(e.getData()[s.MessageConstatnts.KEYS.CUSTOM_SUB_TYPE]),e.setSender(e.getSender()),e.setReceiver(e.getReceiver()))}catch(t){a.Logger.error("MessageController: trasformJSONMessge: Main",t),e=null}return e}catch(t){a.Logger.error("MessageController: trasformJSONMessge",t)}},e.getReceiptsFromJSON=function(e){return new Promise((function(t,n){try{var r=[];h.CometChat.getLoggedInUser().then((function(n){a.isFalsy(e.receipts)?t([]):(e.receipts.data.map((function(t){var o=new l.MessageReceipt;t[s.DELIVERY_RECEIPTS.DELIVERED_AT]&&(o.setReceiptType(o.RECEIPT_TYPE.DELIVERY_RECEIPT),o.setDeliveredAt(t[s.DELIVERY_RECEIPTS.DELIVERED_AT]),o.setTimestamp(t[s.DELIVERY_RECEIPTS.DELIVERED_AT]),a.isFalsy(t[s.DELIVERY_RECEIPTS.RECIPIENT])?o.setSender(n):o.setSender(E.UsersController.trasformJSONUser(t[s.DELIVERY_RECEIPTS.RECIPIENT])),o.setReceiverType(e[s.MessageConstatnts.KEYS.RECEIVER_TYPE]),o.setReceiver(e[s.MessageConstatnts.KEYS.RECEIVER])),t[s.READ_RECEIPTS.READ_AT]&&(o.setReceiptType(o.RECEIPT_TYPE.READ_RECEIPT),o.setReadAt(t[s.READ_RECEIPTS.READ_AT]),o.setTimestamp(t[t[s.READ_RECEIPTS.READ_AT]]),a.isFalsy(t[s.READ_RECEIPTS.RECIPIENT])?o.setSender(n):o.setSender(E.UsersController.trasformJSONUser(t[s.READ_RECEIPTS.RECIPIENT])),o.setReceiverType(e[s.MessageConstatnts.KEYS.RECEIVER_TYPE]),o.setReceiver(e[s.MessageConstatnts.KEYS.RECEIVER])),r.push(o)})),t(r))}))}catch(t){n(new d.CometChatException(t))}}))},e}();t.MessageController=g},function(e,t,n){"use strict";t.__esModule=!0,t.UsersController=void 0;var r=n(4),o=n(0),i=function(){function e(){}return e.trasformJSONUser=function(e){var t;try{e.uid=e.uid.toString(),e.name=e.name.toString(),e.status&&"offline"!==e.status?e.status="online":e.status="offline",t=new r.User(e),Object.assign(t,e),e=t}catch(e){o.Logger.error("UsersController:transformJSONUser",e)}return e},e}();t.UsersController=i},function(e,t,n){"use strict";t.__esModule=!0,t.LocalStorage=void 0;var r=n(0),o=n(1),i=n(13),a=n(3),s=n(2),u=function(){function e(e){this.store=o.constants.DEFAULT_STORE,r.isFalsy(e)||(this.store=e),this.localStore=i.createInstance({name:r.format(o.LOCAL_STORE.STORE_STRING,a.CometChat.getAppId(),o.LOCAL_STORE.COMMON_STORE)}),this.localStore.setDriver([i.LOCALSTORAGE,i.INDEXEDDB,i.WEBSQL])}return e.getInstance=function(){return null==e.localStorage&&(e.localStorage=new e),e.localStorage},e.prototype.set=function(e,t){return this.localStore.setItem(e,JSON.stringify(t))},e.prototype.remove=function(e){this.localStore.removeItem(e)},e.prototype.update=function(e,t){this.remove(e),this.set(e,t)},e.prototype.get=function(e){var t=this;return new Promise((function(n,r){try{t.localStore.getItem(e).then((function(t){try{n(JSON.parse(t))}catch(e){n(t)}}),(function(e){r(e)}))}catch(e){r(new s.CometChatException(e))}}))},e.prototype.clearStore=function(){var t=this;return new Promise((function(n,r){try{t.localStore.keys().then((function(e){if(0<e.length)for(var r=0;r<e.length;r++)"appId"!==e[r]&&t.localStore.removeItem(e[r]),r===e.length-1&&n(!0)}))}catch(e){r(e)}}))},e.prototype.clear=function(e){},e.prototype.selectStore=function(e){this.store=e},e.localStorage=null,e}();t.LocalStorage=u},function(e,t,n){(function(t){e.exports=function e(t,n,r){function o(a,s){if(!n[a]){if(!t[a]){if(i)return i(a,!0);var u=new Error("Cannot find module '"+a+"'");throw u.code="MODULE_NOT_FOUND",u}var c=n[a]={exports:{}};t[a][0].call(c.exports,(function(e){return o(t[a][1][e]||e)}),c,c.exports,e,t,n,r)}return n[a].exports}for(var i=!1,a=0;a<r.length;a++)o(r[a]);return o}({1:[function(e,n,r){(function(e){"use strict";var t,r,o=e.MutationObserver||e.WebKitMutationObserver;if(o){var i=0,a=new o(l),s=e.document.createTextNode("");a.observe(s,{characterData:!0}),t=function(){s.data=i=++i%2}}else if(e.setImmediate||void 0===e.MessageChannel)t="document"in e&&"onreadystatechange"in e.document.createElement("script")?function(){var t=e.document.createElement("script");t.onreadystatechange=function(){l(),t.onreadystatechange=null,t.parentNode.removeChild(t),t=null},e.document.documentElement.appendChild(t)}:function(){setTimeout(l,0)};else{var u=new e.MessageChannel;u.port1.onmessage=l,t=function(){u.port2.postMessage(0)}}var c=[];function l(){var e,t;r=!0;for(var n=c.length;n;){for(t=c,c=[],e=-1;++e<n;)t[e]();n=c.length}r=!1}n.exports=function(e){1!==c.push(e)||r||t()}}).call(this,void 0!==t?t:"undefined"!=typeof self?self:"undefined"!=typeof window?window:{})},{}],2:[function(e,t,n){"use strict";var r=e(1);function o(){}var i={},a=["REJECTED"],s=["FULFILLED"],u=["PENDING"];function c(e){if("function"!=typeof e)throw new TypeError("resolver must be a function");this.state=u,this.queue=[],this.outcome=void 0,e!==o&&p(this,e)}function l(e,t,n){this.promise=e,"function"==typeof t&&(this.onFulfilled=t,this.callFulfilled=this.otherCallFulfilled),"function"==typeof n&&(this.onRejected=n,this.callRejected=this.otherCallRejected)}function d(e,t,n){r((function(){var r;try{r=t(n)}catch(r){return i.reject(e,r)}r===e?i.reject(e,new TypeError("Cannot resolve promise with itself")):i.resolve(e,r)}))}function f(e){var t=e&&e.then;if(e&&("object"==typeof e||"function"==typeof e)&&"function"==typeof t)return function(){t.apply(e,arguments)}}function p(e,t){var n=!1;function r(t){n||(n=!0,i.reject(e,t))}function o(t){n||(n=!0,i.resolve(e,t))}var a=h((function(){t(o,r)}));"error"===a.status&&r(a.value)}function h(e,t){var n={};try{n.value=e(t),n.status="success"}catch(e){n.status="error",n.value=e}return n}(t.exports=c).prototype.catch=function(e){return this.then(null,e)},c.prototype.then=function(e,t){if("function"!=typeof e&&this.state===s||"function"!=typeof t&&this.state===a)return this;var n=new this.constructor(o);return this.state!==u?d(n,this.state===s?e:t,this.outcome):this.queue.push(new l(n,e,t)),n},l.prototype.callFulfilled=function(e){i.resolve(this.promise,e)},l.prototype.otherCallFulfilled=function(e){d(this.promise,this.onFulfilled,e)},l.prototype.callRejected=function(e){i.reject(this.promise,e)},l.prototype.otherCallRejected=function(e){d(this.promise,this.onRejected,e)},i.resolve=function(e,t){var n=h(f,t);if("error"===n.status)return i.reject(e,n.value);var r=n.value;if(r)p(e,r);else{e.state=s,e.outcome=t;for(var o=-1,a=e.queue.length;++o<a;)e.queue[o].callFulfilled(t)}return e},i.reject=function(e,t){e.state=a,e.outcome=t;for(var n=-1,r=e.queue.length;++n<r;)e.queue[n].callRejected(t);return e},c.resolve=function(e){return e instanceof this?e:i.resolve(new this(o),e)},c.reject=function(e){var t=new this(o);return i.reject(t,e)},c.all=function(e){var t=this;if("[object Array]"!==Object.prototype.toString.call(e))return this.reject(new TypeError("must be an array"));var n=e.length,r=!1;if(!n)return this.resolve([]);for(var a=new Array(n),s=0,u=-1,c=new this(o);++u<n;)l(e[u],u);return c;function l(e,o){t.resolve(e).then((function(e){a[o]=e,++s!==n||r||(r=!0,i.resolve(c,a))}),(function(e){r||(r=!0,i.reject(c,e))}))}},c.race=function(e){var t=this;if("[object Array]"!==Object.prototype.toString.call(e))return this.reject(new TypeError("must be an array"));var n=e.length,r=!1;if(!n)return this.resolve([]);for(var a,s=-1,u=new this(o);++s<n;)a=e[s],t.resolve(a).then((function(e){r||(r=!0,i.resolve(u,e))}),(function(e){r||(r=!0,i.reject(u,e))}));return u}},{1:1}],3:[function(e,n,r){(function(t){"use strict";"function"!=typeof t.Promise&&(t.Promise=e(2))}).call(this,void 0!==t?t:"undefined"!=typeof self?self:"undefined"!=typeof window?window:{})},{2:2}],4:[function(e,t,n){"use strict";var r="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},o=function(){try{if("undefined"!=typeof indexedDB)return indexedDB;if("undefined"!=typeof webkitIndexedDB)return webkitIndexedDB;if("undefined"!=typeof mozIndexedDB)return mozIndexedDB;if("undefined"!=typeof OIndexedDB)return OIndexedDB;if("undefined"!=typeof msIndexedDB)return msIndexedDB}catch(e){return}}();function i(t,n){t=t||[],n=n||{};try{return new Blob(t,n)}catch(e){if("TypeError"!==e.name)throw e;for(var r=new("undefined"!=typeof BlobBuilder?BlobBuilder:"undefined"!=typeof MSBlobBuilder?MSBlobBuilder:"undefined"!=typeof MozBlobBuilder?MozBlobBuilder:WebKitBlobBuilder),o=0;o<t.length;o+=1)r.append(t[o]);return r.getBlob(n.type)}}"undefined"==typeof Promise&&e(3);var a=Promise;function s(e,t){t&&e.then((function(e){t(null,e)}),(function(e){t(e)}))}function u(e,t,n){"function"==typeof t&&e.then(t),"function"==typeof n&&e.catch(n)}function c(e){return"string"!=typeof e&&(e=String(e)),e}function l(){if(arguments.length&&"function"==typeof arguments[arguments.length-1])return arguments[arguments.length-1]}var d="local-forage-detect-blob-support",f=void 0,p={},h=Object.prototype.toString,E="readonly",g="readwrite";function v(e){return"boolean"==typeof f?a.resolve(f):(t=e,new a((function(e){var n=t.transaction(d,g),r=i([""]);n.objectStore(d).put(r,"key"),n.onabort=function(t){t.preventDefault(),t.stopPropagation(),e(!1)},n.oncomplete=function(){var t=navigator.userAgent.match(/Chrome\/(\d+)/),n=navigator.userAgent.match(/Edge\//);e(n||!t||43<=parseInt(t[1],10))}})).catch((function(){return!1}))).then((function(e){return f=e}));var t}function m(e){var t=p[e.name],n={};n.promise=new a((function(e,t){n.resolve=e,n.reject=t})),t.deferredOperations.push(n),t.dbReady?t.dbReady=t.dbReady.then((function(){return n.promise})):t.dbReady=n.promise}function _(e){var t=p[e.name].deferredOperations.pop();if(t)return t.resolve(),t.promise}function S(e,t){var n=p[e.name].deferredOperations.pop();if(n)return n.reject(t),n.promise}function y(e,t){return new a((function(n,r){if(p[e.name]=p[e.name]||{forages:[],db:null,dbReady:null,deferredOperations:[]},e.db){if(!t)return n(e.db);m(e),e.db.close()}var i=[e.name];t&&i.push(e.version);var a=o.open.apply(o,i);t&&(a.onupgradeneeded=function(t){var n=a.result;try{n.createObjectStore(e.storeName),t.oldVersion<=1&&n.createObjectStore(d)}catch(t){if("ConstraintError"!==t.name)throw t}}),a.onerror=function(e){e.preventDefault(),r(a.error)},a.onsuccess=function(){n(a.result),_(e)}}))}function C(e){return y(e,!1)}function T(e){return y(e,!0)}function I(e,t){if(!e.db)return!0;var n=!e.db.objectStoreNames.contains(e.storeName),r=e.version<e.db.version,o=e.version>e.db.version;if(r&&(e.version,e.version=e.db.version),o||n){if(n){var i=e.db.version+1;i>e.version&&(e.version=i)}return!0}return!1}function A(e){var t=function(e){for(var t=e.length,n=new ArrayBuffer(t),r=new Uint8Array(n),o=0;o<t;o++)r[o]=e.charCodeAt(o);return n}(atob(e.data));return i([t],{type:e.type})}function R(e){return e&&e.__local_forage_encoded_blob}function O(e){var t=this,n=t._initReady().then((function(){var e=p[t._dbInfo.name];if(e&&e.dbReady)return e.dbReady}));return u(n,e,e),n}function N(e,t,n,r){void 0===r&&(r=1);try{var o=e.db.transaction(e.storeName,t);n(null,o)}catch(o){if(0<r&&(!e.db||"InvalidStateError"===o.name||"NotFoundError"===o.name))return a.resolve().then((function(){if(!e.db||"NotFoundError"===o.name&&!e.db.objectStoreNames.contains(e.storeName)&&e.version<=e.db.version)return e.db&&(e.version=e.db.version+1),T(e)})).then((function(){return function(e){m(e);for(var t=p[e.name],n=t.forages,r=0;r<n.length;r++){var o=n[r];o._dbInfo.db&&(o._dbInfo.db.close(),o._dbInfo.db=null)}return e.db=null,C(e).then((function(t){return e.db=t,I(e)?T(e):t})).then((function(r){e.db=t.db=r;for(var o=0;o<n.length;o++)n[o]._dbInfo.db=r})).catch((function(t){throw S(e,t),t}))}(e).then((function(){N(e,t,n,r-1)}))})).catch(n);n(o)}}var b={_driver:"asyncStorage",_initStorage:function(e){var t=this,n={db:null};if(e)for(var r in e)n[r]=e[r];var o=p[n.name];o||(o={forages:[],db:null,dbReady:null,deferredOperations:[]},p[n.name]=o),o.forages.push(t),t._initReady||(t._initReady=t.ready,t.ready=O);var i=[];function s(){return a.resolve()}for(var u=0;u<o.forages.length;u++){var c=o.forages[u];c!==t&&i.push(c._initReady().catch(s))}var l=o.forages.slice(0);return a.all(i).then((function(){return n.db=o.db,C(n)})).then((function(e){return n.db=e,I(n,t._defaultConfig.version)?T(n):e})).then((function(e){n.db=o.db=e,t._dbInfo=n;for(var r=0;r<l.length;r++){var i=l[r];i!==t&&(i._dbInfo.db=n.db,i._dbInfo.version=n.version)}}))},_support:function(){try{if(!o)return!1;var e="undefined"!=typeof openDatabase&&/(Safari|iPhone|iPad|iPod)/.test(navigator.userAgent)&&!/Chrome/.test(navigator.userAgent)&&!/BlackBerry/.test(navigator.platform),t="function"==typeof fetch&&-1!==fetch.toString().indexOf("[native code");return(!e||t)&&"undefined"!=typeof indexedDB&&"undefined"!=typeof IDBKeyRange}catch(e){return!1}}(),iterate:function(e,t){var n=this,r=new a((function(t,r){n.ready().then((function(){N(n._dbInfo,E,(function(o,i){if(o)return r(o);try{var a=i.objectStore(n._dbInfo.storeName).openCursor(),s=1;a.onsuccess=function(){var n=a.result;if(n){var r=n.value;R(r)&&(r=A(r));var o=e(r,n.key,s++);void 0!==o?t(o):n.continue()}else t()},a.onerror=function(){r(a.error)}}catch(o){r(o)}}))})).catch(r)}));return s(r,t),r},getItem:function(e,t){var n=this;e=c(e);var r=new a((function(t,r){n.ready().then((function(){N(n._dbInfo,E,(function(o,i){if(o)return r(o);try{var a=i.objectStore(n._dbInfo.storeName).get(e);a.onsuccess=function(){var e=a.result;void 0===e&&(e=null),R(e)&&(e=A(e)),t(e)},a.onerror=function(){r(a.error)}}catch(o){r(o)}}))})).catch(r)}));return s(r,t),r},setItem:function(e,t,n){var r=this;e=c(e);var o=new a((function(n,o){var i;r.ready().then((function(){return i=r._dbInfo,"[object Blob]"===h.call(t)?v(i.db).then((function(e){return e?t:(n=t,new a((function(e,t){var r=new FileReader;r.onerror=t,r.onloadend=function(t){var r=btoa(t.target.result||"");e({__local_forage_encoded_blob:!0,data:r,type:n.type})},r.readAsBinaryString(n)})));var n})):t})).then((function(t){N(r._dbInfo,g,(function(i,a){if(i)return o(i);try{var s=a.objectStore(r._dbInfo.storeName);null===t&&(t=void 0);var u=s.put(t,e);a.oncomplete=function(){void 0===t&&(t=null),n(t)},a.onabort=a.onerror=function(){var e=u.error?u.error:u.transaction.error;o(e)}}catch(i){o(i)}}))})).catch(o)}));return s(o,n),o},removeItem:function(e,t){var n=this;e=c(e);var r=new a((function(t,r){n.ready().then((function(){N(n._dbInfo,g,(function(o,i){if(o)return r(o);try{var a=i.objectStore(n._dbInfo.storeName).delete(e);i.oncomplete=function(){t()},i.onerror=function(){r(a.error)},i.onabort=function(){var e=a.error?a.error:a.transaction.error;r(e)}}catch(o){r(o)}}))})).catch(r)}));return s(r,t),r},clear:function(e){var t=this,n=new a((function(e,n){t.ready().then((function(){N(t._dbInfo,g,(function(r,o){if(r)return n(r);try{var i=o.objectStore(t._dbInfo.storeName).clear();o.oncomplete=function(){e()},o.onabort=o.onerror=function(){var e=i.error?i.error:i.transaction.error;n(e)}}catch(r){n(r)}}))})).catch(n)}));return s(n,e),n},length:function(e){var t=this,n=new a((function(e,n){t.ready().then((function(){N(t._dbInfo,E,(function(r,o){if(r)return n(r);try{var i=o.objectStore(t._dbInfo.storeName).count();i.onsuccess=function(){e(i.result)},i.onerror=function(){n(i.error)}}catch(r){n(r)}}))})).catch(n)}));return s(n,e),n},key:function(e,t){var n=this,r=new a((function(t,r){e<0?t(null):n.ready().then((function(){N(n._dbInfo,E,(function(o,i){if(o)return r(o);try{var a=i.objectStore(n._dbInfo.storeName),s=!1,u=a.openCursor();u.onsuccess=function(){var n=u.result;n?0===e||s?t(n.key):(s=!0,n.advance(e)):t(null)},u.onerror=function(){r(u.error)}}catch(o){r(o)}}))})).catch(r)}));return s(r,t),r},keys:function(e){var t=this,n=new a((function(e,n){t.ready().then((function(){N(t._dbInfo,E,(function(r,o){if(r)return n(r);try{var i=o.objectStore(t._dbInfo.storeName).openCursor(),a=[];i.onsuccess=function(){var t=i.result;t?(a.push(t.key),t.continue()):e(a)},i.onerror=function(){n(i.error)}}catch(r){n(r)}}))})).catch(n)}));return s(n,e),n},dropInstance:function(e,t){t=l.apply(this,arguments);var n,r=this.config();if((e="function"!=typeof e&&e||{}).name||(e.name=e.name||r.name,e.storeName=e.storeName||r.storeName),e.name){var i=e.name===r.name&&this._dbInfo.db?a.resolve(this._dbInfo.db):C(e).then((function(t){var n=p[e.name],r=n.forages;n.db=t;for(var o=0;o<r.length;o++)r[o]._dbInfo.db=t;return t}));n=e.storeName?i.then((function(t){if(t.objectStoreNames.contains(e.storeName)){var n=t.version+1;m(e);var r=p[e.name],i=r.forages;t.close();for(var s=0;s<i.length;s++){var u=i[s];u._dbInfo.db=null,u._dbInfo.version=n}var c=new a((function(t,r){var i=o.open(e.name,n);i.onerror=function(e){i.result.close(),r(e)},i.onupgradeneeded=function(){i.result.deleteObjectStore(e.storeName)},i.onsuccess=function(){var e=i.result;e.close(),t(e)}}));return c.then((function(e){r.db=e;for(var t=0;t<i.length;t++){var n=i[t];n._dbInfo.db=e,_(n._dbInfo)}})).catch((function(t){throw(S(e,t)||a.resolve()).catch((function(){})),t}))}})):i.then((function(t){m(e);var n=p[e.name],r=n.forages;t.close();for(var i=0;i<r.length;i++)r[i]._dbInfo.db=null;var s=new a((function(t,n){var r=o.deleteDatabase(e.name);r.onerror=r.onblocked=function(e){var t=r.result;t&&t.close(),n(e)},r.onsuccess=function(){var e=r.result;e&&e.close(),t(e)}}));return s.then((function(e){n.db=e;for(var t=0;t<r.length;t++)_(r[t]._dbInfo)})).catch((function(t){throw(S(e,t)||a.resolve()).catch((function(){})),t}))}))}else n=a.reject("Invalid arguments");return s(n,t),n}},w="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",P=/^~~local_forage_type~([^~]+)~/,L="__lfsc__:",M=L.length,D="arbf",x="blob",k=M+D.length,U=Object.prototype.toString;function Y(e){var t,n,r,o,i,a=.75*e.length,s=e.length,u=0;"="===e[e.length-1]&&(a--,"="===e[e.length-2]&&a--);var c=new ArrayBuffer(a),l=new Uint8Array(c);for(t=0;t<s;t+=4)n=w.indexOf(e[t]),r=w.indexOf(e[t+1]),o=w.indexOf(e[t+2]),i=w.indexOf(e[t+3]),l[u++]=n<<2|r>>4,l[u++]=(15&r)<<4|o>>2,l[u++]=(3&o)<<6|63&i;return c}function G(e){var t,n=new Uint8Array(e),r="";for(t=0;t<n.length;t+=3)r+=w[n[t]>>2],r+=w[(3&n[t])<<4|n[t+1]>>4],r+=w[(15&n[t+1])<<2|n[t+2]>>6],r+=w[63&n[t+2]];return n.length%3==2?r=r.substring(0,r.length-1)+"=":n.length%3==1&&(r=r.substring(0,r.length-2)+"=="),r}var F={serialize:function(e,t){var n="";if(e&&(n=U.call(e)),e&&("[object ArrayBuffer]"===n||e.buffer&&"[object ArrayBuffer]"===U.call(e.buffer))){var r,o=L;e instanceof ArrayBuffer?(r=e,o+=D):(r=e.buffer,"[object Int8Array]"===n?o+="si08":"[object Uint8Array]"===n?o+="ui08":"[object Uint8ClampedArray]"===n?o+="uic8":"[object Int16Array]"===n?o+="si16":"[object Uint16Array]"===n?o+="ur16":"[object Int32Array]"===n?o+="si32":"[object Uint32Array]"===n?o+="ui32":"[object Float32Array]"===n?o+="fl32":"[object Float64Array]"===n?o+="fl64":t(new Error("Failed to get type for BinaryArray"))),t(o+G(r))}else if("[object Blob]"===n){var i=new FileReader;i.onload=function(){var n="~~local_forage_type~"+e.type+"~"+G(this.result);t(L+x+n)},i.readAsArrayBuffer(e)}else try{t(JSON.stringify(e))}catch(n){t(null,n)}},deserialize:function(e){if(e.substring(0,M)!==L)return JSON.parse(e);var t,n=e.substring(k),r=e.substring(M,k);if(r===x&&P.test(n)){var o=n.match(P);t=o[1],n=n.substring(o[0].length)}var a=Y(n);switch(r){case D:return a;case x:return i([a],{type:t});case"si08":return new Int8Array(a);case"ui08":return new Uint8Array(a);case"uic8":return new Uint8ClampedArray(a);case"si16":return new Int16Array(a);case"ur16":return new Uint16Array(a);case"si32":return new Int32Array(a);case"ui32":return new Uint32Array(a);case"fl32":return new Float32Array(a);case"fl64":return new Float64Array(a);default:throw new Error("Unkown type: "+r)}},stringToBuffer:Y,bufferToString:G};function K(e,t,n,r){e.executeSql("CREATE TABLE IF NOT EXISTS "+t.storeName+" (id INTEGER PRIMARY KEY, key unique, value)",[],n,r)}function B(e,t,n,r,o,i){e.executeSql(n,r,o,(function(e,a){a.code===a.SYNTAX_ERR?e.executeSql("SELECT name FROM sqlite_master WHERE type='table' AND name = ?",[t.storeName],(function(e,s){s.rows.length?i(e,a):K(e,t,(function(){e.executeSql(n,r,o,i)}),i)}),i):i(e,a)}),i)}function j(e,t,n,r){var o=this;e=c(e);var i=new a((function(i,a){o.ready().then((function(){void 0===t&&(t=null);var s=t,u=o._dbInfo;u.serializer.serialize(t,(function(t,c){c?a(c):u.db.transaction((function(n){B(n,u,"INSERT OR REPLACE INTO "+u.storeName+" (key, value) VALUES (?, ?)",[e,t],(function(){i(s)}),(function(e,t){a(t)}))}),(function(t){if(t.code===t.QUOTA_ERR){if(0<r)return void i(j.apply(o,[e,s,n,r-1]));a(t)}}))}))})).catch(a)}));return s(i,n),i}var V={_driver:"webSQLStorage",_initStorage:function(e){var t=this,n={db:null};if(e)for(var r in e)n[r]="string"!=typeof e[r]?e[r].toString():e[r];var o=new a((function(r,o){try{n.db=openDatabase(n.name,String(n.version),n.description,n.size)}catch(e){return o(e)}n.db.transaction((function(e){K(e,n,(function(){t._dbInfo=n,r()}),(function(e,t){o(t)}))}),o)}));return n.serializer=F,o},_support:"function"==typeof openDatabase,iterate:function(e,t){var n=this,r=new a((function(t,r){n.ready().then((function(){var o=n._dbInfo;o.db.transaction((function(n){B(n,o,"SELECT * FROM "+o.storeName,[],(function(n,r){for(var i=r.rows,a=i.length,s=0;s<a;s++){var u=i.item(s),c=u.value;if(c&&(c=o.serializer.deserialize(c)),void 0!==(c=e(c,u.key,s+1)))return void t(c)}t()}),(function(e,t){r(t)}))}))})).catch(r)}));return s(r,t),r},getItem:function(e,t){var n=this;e=c(e);var r=new a((function(t,r){n.ready().then((function(){var o=n._dbInfo;o.db.transaction((function(n){B(n,o,"SELECT * FROM "+o.storeName+" WHERE key = ? LIMIT 1",[e],(function(e,n){var r=n.rows.length?n.rows.item(0).value:null;r&&(r=o.serializer.deserialize(r)),t(r)}),(function(e,t){r(t)}))}))})).catch(r)}));return s(r,t),r},setItem:function(e,t,n){return j.apply(this,[e,t,n,1])},removeItem:function(e,t){var n=this;e=c(e);var r=new a((function(t,r){n.ready().then((function(){var o=n._dbInfo;o.db.transaction((function(n){B(n,o,"DELETE FROM "+o.storeName+" WHERE key = ?",[e],(function(){t()}),(function(e,t){r(t)}))}))})).catch(r)}));return s(r,t),r},clear:function(e){var t=this,n=new a((function(e,n){t.ready().then((function(){var r=t._dbInfo;r.db.transaction((function(t){B(t,r,"DELETE FROM "+r.storeName,[],(function(){e()}),(function(e,t){n(t)}))}))})).catch(n)}));return s(n,e),n},length:function(e){var t=this,n=new a((function(e,n){t.ready().then((function(){var r=t._dbInfo;r.db.transaction((function(t){B(t,r,"SELECT COUNT(key) as c FROM "+r.storeName,[],(function(t,n){var r=n.rows.item(0).c;e(r)}),(function(e,t){n(t)}))}))})).catch(n)}));return s(n,e),n},key:function(e,t){var n=this,r=new a((function(t,r){n.ready().then((function(){var o=n._dbInfo;o.db.transaction((function(n){B(n,o,"SELECT key FROM "+o.storeName+" WHERE id = ? LIMIT 1",[e+1],(function(e,n){var r=n.rows.length?n.rows.item(0).key:null;t(r)}),(function(e,t){r(t)}))}))})).catch(r)}));return s(r,t),r},keys:function(e){var t=this,n=new a((function(e,n){t.ready().then((function(){var r=t._dbInfo;r.db.transaction((function(t){B(t,r,"SELECT key FROM "+r.storeName,[],(function(t,n){for(var r=[],o=0;o<n.rows.length;o++)r.push(n.rows.item(o).key);e(r)}),(function(e,t){n(t)}))}))})).catch(n)}));return s(n,e),n},dropInstance:function(e,t){t=l.apply(this,arguments);var n=this.config();(e="function"!=typeof e&&e||{}).name||(e.name=e.name||n.name,e.storeName=e.storeName||n.storeName);var r,o=this;return s(r=e.name?new a((function(t){var r,i;r=e.name===n.name?o._dbInfo.db:openDatabase(e.name,"","",0),e.storeName?t({db:r,storeNames:[e.storeName]}):t((i=r,new a((function(e,t){i.transaction((function(n){n.executeSql("SELECT name FROM sqlite_master WHERE type='table' AND name <> '__WebKitDatabaseInfoTable__'",[],(function(t,n){for(var r=[],o=0;o<n.rows.length;o++)r.push(n.rows.item(o).name);e({db:i,storeNames:r})}),(function(e,n){t(n)}))}),(function(e){t(e)}))}))))})).then((function(e){return new a((function(t,n){e.db.transaction((function(r){function o(e){return new a((function(t,n){r.executeSql("DROP TABLE IF EXISTS "+e,[],(function(){t()}),(function(e,t){n(t)}))}))}for(var i=[],s=0,u=e.storeNames.length;s<u;s++)i.push(o(e.storeNames[s]));a.all(i).then((function(){t()})).catch((function(e){n(e)}))}),(function(e){n(e)}))}))})):a.reject("Invalid arguments"),t),r}};function H(e,t){var n=e.name+"/";return e.storeName!==t.storeName&&(n+=e.storeName+"/"),n}function W(){return!function(){var e="_localforage_support_test";try{return localStorage.setItem(e,!0),localStorage.removeItem(e),!1}catch(e){return!0}}()||0<localStorage.length}var J={_driver:"localStorageWrapper",_initStorage:function(e){var t={};if(e)for(var n in e)t[n]=e[n];return t.keyPrefix=H(e,this._defaultConfig),W()?((this._dbInfo=t).serializer=F,a.resolve()):a.reject()},_support:function(){try{return"undefined"!=typeof localStorage&&"setItem"in localStorage&&!!localStorage.setItem}catch(e){return!1}}(),iterate:function(e,t){var n=this,r=n.ready().then((function(){for(var t=n._dbInfo,r=t.keyPrefix,o=r.length,i=localStorage.length,a=1,s=0;s<i;s++){var u=localStorage.key(s);if(0===u.indexOf(r)){var c=localStorage.getItem(u);if(c&&(c=t.serializer.deserialize(c)),void 0!==(c=e(c,u.substring(o),a++)))return c}}}));return s(r,t),r},getItem:function(e,t){var n=this;e=c(e);var r=n.ready().then((function(){var t=n._dbInfo,r=localStorage.getItem(t.keyPrefix+e);return r&&(r=t.serializer.deserialize(r)),r}));return s(r,t),r},setItem:function(e,t,n){var r=this;e=c(e);var o=r.ready().then((function(){void 0===t&&(t=null);var n=t;return new a((function(o,i){var a=r._dbInfo;a.serializer.serialize(t,(function(t,r){if(r)i(r);else try{localStorage.setItem(a.keyPrefix+e,t),o(n)}catch(t){"QuotaExceededError"!==t.name&&"NS_ERROR_DOM_QUOTA_REACHED"!==t.name||i(t),i(t)}}))}))}));return s(o,n),o},removeItem:function(e,t){var n=this;e=c(e);var r=n.ready().then((function(){var t=n._dbInfo;localStorage.removeItem(t.keyPrefix+e)}));return s(r,t),r},clear:function(e){var t=this,n=t.ready().then((function(){for(var e=t._dbInfo.keyPrefix,n=localStorage.length-1;0<=n;n--){var r=localStorage.key(n);0===r.indexOf(e)&&localStorage.removeItem(r)}}));return s(n,e),n},length:function(e){var t=this.keys().then((function(e){return e.length}));return s(t,e),t},key:function(e,t){var n=this,r=n.ready().then((function(){var t,r=n._dbInfo;try{t=localStorage.key(e)}catch(r){t=null}return t&&(t=t.substring(r.keyPrefix.length)),t}));return s(r,t),r},keys:function(e){var t=this,n=t.ready().then((function(){for(var e=t._dbInfo,n=localStorage.length,r=[],o=0;o<n;o++){var i=localStorage.key(o);0===i.indexOf(e.keyPrefix)&&r.push(i.substring(e.keyPrefix.length))}return r}));return s(n,e),n},dropInstance:function(e,t){if(t=l.apply(this,arguments),!(e="function"!=typeof e&&e||{}).name){var n=this.config();e.name=e.name||n.name,e.storeName=e.storeName||n.storeName}var r,o=this;return s(r=e.name?new a((function(t){e.storeName?t(H(e,o._defaultConfig)):t(e.name+"/")})).then((function(e){for(var t=localStorage.length-1;0<=t;t--){var n=localStorage.key(t);0===n.indexOf(e)&&localStorage.removeItem(n)}})):a.reject("Invalid arguments"),t),r}},z=function(e,t){for(var n=e.length,r=0;r<n;){if((o=e[r])===(i=t)||"number"==typeof o&&"number"==typeof i&&isNaN(o)&&isNaN(i))return!0;r++}var o,i;return!1},q=Array.isArray||function(e){return"[object Array]"===Object.prototype.toString.call(e)},Q={},X={},$={INDEXEDDB:b,WEBSQL:V,LOCALSTORAGE:J},Z=[$.INDEXEDDB._driver,$.WEBSQL._driver,$.LOCALSTORAGE._driver],ee=["dropInstance"],te=["clear","getItem","iterate","key","keys","length","removeItem","setItem"].concat(ee),ne={description:"",driver:Z.slice(),name:"localforage",size:4980736,storeName:"keyvaluepairs",version:1};function re(e,t){e[t]=function(){var n=arguments;return e.ready().then((function(){return e[t].apply(e,n)}))}}function oe(){for(var e=1;e<arguments.length;e++){var t=arguments[e];if(t)for(var n in t)t.hasOwnProperty(n)&&(q(t[n])?arguments[0][n]=t[n].slice():arguments[0][n]=t[n])}return arguments[0]}var ie=function(){function e(t){for(var n in function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),$)if($.hasOwnProperty(n)){var r=$[n],o=r._driver;this[n]=o,Q[o]||this.defineDriver(r)}this._defaultConfig=oe({},ne),this._config=oe({},this._defaultConfig,t),this._driverSet=null,this._initDriver=null,this._ready=!1,this._dbInfo=null,this._wrapLibraryMethodsWithReady(),this.setDriver(this._config.driver).catch((function(){}))}return e.prototype.config=function(e){if("object"!==(void 0===e?"undefined":r(e)))return"string"==typeof e?this._config[e]:this._config;if(this._ready)return new Error("Can't call config() after localforage has been used.");for(var t in e){if("storeName"===t&&(e[t]=e[t].replace(/\W/g,"_")),"version"===t&&"number"!=typeof e[t])return new Error("Database version must be a number.");this._config[t]=e[t]}return!("driver"in e&&e.driver)||this.setDriver(this._config.driver)},e.prototype.defineDriver=function(e,t,n){var r=new a((function(t,n){try{var r=e._driver,o=new Error("Custom driver not compliant; see https://mozilla.github.io/localForage/#definedriver");if(!e._driver)return void n(o);for(var i=te.concat("_initStorage"),u=0,c=i.length;u<c;u++){var l=i[u];if((!z(ee,l)||e[l])&&"function"!=typeof e[l])return void n(o)}!function(){for(var t=function(e){return function(){var t=new Error("Method "+e+" is not implemented by the current driver"),n=a.reject(t);return s(n,arguments[arguments.length-1]),n}},n=0,r=ee.length;n<r;n++){var o=ee[n];e[o]||(e[o]=t(o))}}();var d=function(n){Q[r],Q[r]=e,X[r]=n,t()};"_support"in e?e._support&&"function"==typeof e._support?e._support().then(d,n):d(!!e._support):d(!0)}catch(o){n(o)}}));return u(r,t,n),r},e.prototype.driver=function(){return this._driver||null},e.prototype.getDriver=function(e,t,n){var r=Q[e]?a.resolve(Q[e]):a.reject(new Error("Driver not found."));return u(r,t,n),r},e.prototype.getSerializer=function(e){var t=a.resolve(F);return u(t,e),t},e.prototype.ready=function(e){var t=this,n=t._driverSet.then((function(){return null===t._ready&&(t._ready=t._initDriver()),t._ready}));return u(n,e,e),n},e.prototype.setDriver=function(e,t,n){var r=this;q(e)||(e=[e]);var o=this._getSupportedDrivers(e);function i(){r._config.driver=r.driver()}function s(e){return r._extend(e),i(),r._ready=r._initStorage(r._config),r._ready}var c=null!==this._driverSet?this._driverSet.catch((function(){return a.resolve()})):a.resolve();return this._driverSet=c.then((function(){var e=o[0];return r._dbInfo=null,r._ready=null,r.getDriver(e).then((function(e){var t;r._driver=e._driver,i(),r._wrapLibraryMethodsWithReady(),r._initDriver=(t=o,function(){var e=0;function n(){for(;e<t.length;){var o=t[e];return e++,r._dbInfo=null,r._ready=null,r.getDriver(o).then(s).catch(n)}i();var u=new Error("No available storage method found.");return r._driverSet=a.reject(u),r._driverSet}return n()})}))})).catch((function(){i();var e=new Error("No available storage method found.");return r._driverSet=a.reject(e),r._driverSet})),u(this._driverSet,t,n),this._driverSet},e.prototype.supports=function(e){return!!X[e]},e.prototype._extend=function(e){oe(this,e)},e.prototype._getSupportedDrivers=function(e){for(var t=[],n=0,r=e.length;n<r;n++){var o=e[n];this.supports(o)&&t.push(o)}return t},e.prototype._wrapLibraryMethodsWithReady=function(){for(var e=0,t=te.length;e<t;e++)re(this,te[e])},e.prototype.createInstance=function(t){return new e(t)},e}(),ae=new ie;t.exports=ae},{3:3}]},{},[4])(4)}).call(this,n(39))},function(e,t,n){"use strict";t.__esModule=!0,t.FETCH_ERROR=t.TYPINGNOTIFICATION_CONSTANTS=t.LOGIN_ERROR=t.MESSAGE_ERRORS=t.MESSAGES_REQUEST_ERRORS=t.USERS_REQUEST_ERRORS=t.GROUP_CREATION_ERRORS=t.INIT_ERROR=t.ERRORS=t.SERVER_ERRORS=void 0,t.SERVER_ERRORS={AUTH_ERR:{code:"AUTH_ERR_AUTH_TOKEN_NOT_FOUND",message:"The auth token %s% does not exist. Please make sure you are logged in and have a valid auth token or try login again."}},t.ERRORS={PARAMETER_MISSING:{code:"MISSING_PARAMETERS",name:"Invalid or no parameter passed to the method."}},t.INIT_ERROR={NO_APP_ID:{code:t.ERRORS.PARAMETER_MISSING.code,name:t.ERRORS.PARAMETER_MISSING.name,message:"AppID cannot be empty. Please specify a valid appID.",details:{}}},t.GROUP_CREATION_ERRORS={EMPTY_PASSWORD:{code:"ERR_EMPTY_GROUP_PASS",details:void 0,message:"Password is mandatory to join a group.",name:void 0}},t.USERS_REQUEST_ERRORS={EMPTY_USERS_LIST:{code:"EMPTY_USERS_LIST",name:"EMPTY_USERS_LIST",message:"The users list needs to have atleast one UID.",details:{}}},t.MESSAGES_REQUEST_ERRORS={REQUEST_IN_PROGRESS_ERROR:{code:"REQUEST_IN_PROGRESS",name:"REQUEST_IN_PROGRESS",message:"Request in progress.",details:{}},NOT_ENOUGH_PARAMS:{code:"NOT_ENOUGH_PARAMETERS",name:"NOT_ENOUGH_PARAMETERS",message:"`Timestamp`, `MessageId` or `updatedAfter` is required to use the 'fetchNext()' method.",details:{}}},t.MESSAGE_ERRORS={INVALID_CUSTOM_DATA:{code:"-1",name:"%s_CUSTOM_DATA",message:"",details:{}}},t.LOGIN_ERROR={NOT_INITIALIZED:{code:"-1",name:"COMETCHAT_INITIALIZATION_NOT_DONE",message:"please initialize the cometchat before using login method.",details:{}},UNAUTHORISED:{code:401,name:"USER_NOT_AUTHORISED",message:"The `authToken` of the user is not authorised. Please verify again.",details:{}},WS_CONNECTION_FAIL:{code:-1,name:"WS_CONNECTION_FAIL",message:"WS Connection failed. %s",details:{}},WS_CONNECTION_FAIL_PORT_ERROR:{code:-1,name:"WS_CONNECTION_FAIL",message:"WS Connection failed. Trying to connect with port: %s",details:{}},WS_CONNECTION_FALLBACK_FAIL_PORT_ERROR:{code:-1,name:"WS_CONNECTION_FALLBACK_FAIL",message:"WS Connection fallback failed. Trying to connect with port: %s",details:{}},WS_AUTH_FAIL:{code:-1,name:"WS_AUTH_FAIL",message:"WS username/password not correct.",details:{}},NO_INTERNET:{code:-1,name:"NO_INTERNET_CONNECTION",message:"You do not have internet connection.",details:{}},REQUEST_IN_PROGRESS:{code:-1,name:"LOGIN_IN_PROGRESS",message:"Please wait until the previous login request ends.",details:{}}},t.TYPINGNOTIFICATION_CONSTANTS={TOO_MANY_REQUEST:{code:"TOO_MANY_REQUEST",name:"TOO MANY REQUEST",message:"too many request, wait for `%s` seconds before sending next request.",details:{}}},t.FETCH_ERROR={ERROR_IN_API_CALL:{code:"FAILED_TO_FETCH",name:"FAILED_TO_FETCH",message:"There is an unknown issue with the API request. Please check your internet connection and verify the api call.",details:{}}}},function(e,t,n){"use strict";t.__esModule=!0,t.GroupsController=void 0;var r=n(8),o=n(1),i=n(0),a=function(){function e(){}return e.trasformJSONGroup=function(e){var t;try{t=new r.Group(e[o.GroupConstants.KEYS.GUID],e[o.GroupConstants.KEYS.NAME],e[o.GroupConstants.KEYS.TYPE]),e.wsChannel&&delete e.wsChannel,Object.assign(t,e),e=t}catch(e){i.Logger.error("GroupsController:transformJSONGroup",e)}return e},e}();t.GroupsController=a},function(e,t,n){"use strict";var r,o=this&&this.__extends||(r=function(e,t){return(r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])})(e,t)},function(e,t){function n(){this.constructor=e}r(e,t),e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)}),i=this&&this.__assign||function(){return(i=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var o in t=arguments[n])Object.prototype.hasOwnProperty.call(t,o)&&(e[o]=t[o]);return e}).apply(this,arguments)};t.__esModule=!0,t.TextMessage=void 0;var a=n(7),s=n(1),u=n(4),c=n(8),l=n(0),d=function(e){function t(t,n,r){var o=e.call(this,t,"text",r,s.MessageCategory.MESSAGE)||this;return o.type="text",o.data={text:n},o.text=n,o}return o(t,e),t.prototype.getSender=function(){try{return this.getSenderFromData()}catch(t){return this.sender}},t.prototype.getReceiver=function(){try{return this.getReceiverFromData()}catch(t){return this.receiver}},t.prototype.getMetadata=function(){return this.data.metadata&&(this.metadata=this.data.metadata),this.metadata},t.prototype.setMetadata=function(e){this.metadata=e,this.data=i(i({},this.data),{metadata:e})},t.prototype.getData=function(){return this.data},t.prototype.setData=function(e){this.data=e},t.prototype.getText=function(){return this.text},t.prototype.setText=function(e){this.text=e,this.data.text=e},t.prototype.setProcessedText=function(e){this.processedText=e},t.prototype.getProcessedText=function(){return this.processedText},t.prototype.getTags=function(){return this.tags},t.prototype.setTags=function(e){this.tags=e},t.prototype.getSenderFromData=function(){try{var e=this.getData();if(e[s.ResponseConstants.RESPONSE_KEYS.KEY_ENTITIES][s.MessageConstatnts.KEYS.SENDER][s.ResponseConstants.RESPONSE_KEYS.KEY_ENTITITY])return new u.User(e[s.ResponseConstants.RESPONSE_KEYS.KEY_ENTITIES][s.MessageConstatnts.KEYS.SENDER][s.ResponseConstants.RESPONSE_KEYS.KEY_ENTITITY])}catch(e){l.Logger.error("TextMessageModel: getSenderFromData",e)}},t.prototype.getReceiverFromData=function(){try{var e=this.getData(),t=e[s.ResponseConstants.RESPONSE_KEYS.KEY_ENTITIES][s.MessageConstatnts.KEYS.RECEIVER][s.ResponseConstants.RESPONSE_KEYS.KEY_ENTITITY];if(e[s.ResponseConstants.RESPONSE_KEYS.KEY_ENTITIES][s.MessageConstatnts.KEYS.RECEIVER][s.ResponseConstants.RESPONSE_KEYS.KEY_ENTITYTYPE]==[s.ResponseConstants.RESPONSE_KEYS.KEY_ENTITY_TYPE.USER])return new u.User(t);var n=new c.Group(t[s.GroupConstants.KEYS.GUID],t[s.GroupConstants.KEYS.NAME],t[s.MessageConstatnts.KEYS.TYPE]);return Object.assign(n,t)}catch(e){l.Logger.error("TextMessageModel: getReceiverFromData",e)}},t.TYPE=s.MessageConstatnts.TYPE.TEXT,t.RECEIVER_TYPE=s.MessageConstatnts.RECEIVER_TYPE,t.CATEGORY=s.MessageConstatnts.CATEGORY.MESSAGE,t}(a.BaseMessage);t.TextMessage=d},function(e,t,n){"use strict";var r,o=this&&this.__extends||(r=function(e,t){return(r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])})(e,t)},function(e,t){function n(){this.constructor=e}r(e,t),e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)}),i=this&&this.__assign||function(){return(i=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var o in t=arguments[n])Object.prototype.hasOwnProperty.call(t,o)&&(e[o]=t[o]);return e}).apply(this,arguments)};t.__esModule=!0,t.MediaMessage=void 0;var a=n(7),s=n(1),u=n(4),c=n(18),l=n(8),d=n(0),f=function(e){function t(t,n,r,o){var i=e.call(this,t,r,o,s.MessageCategory.MESSAGE)||this;return i.data={},"object"!=typeof n?i.data={url:n}:i.file=n,i}return o(t,e),t.prototype.setCaption=function(e){this.caption=e,this.data[s.MessageConstatnts.KEYS.TEXT]=e},t.prototype.getCaption=function(){return this.data[s.MessageConstatnts.KEYS.TEXT]},t.prototype.getSender=function(){try{return this.getSenderFromData()}catch(t){return this.sender}},t.prototype.getReceiver=function(){try{return this.getReceiverFromData()}catch(t){return this.receiver}},t.prototype.getMetadata=function(){return this.data.metadata&&(this.metadata=this.data.metadata),this.metadata},t.prototype.setMetadata=function(e){this.metadata=e,this.data=i(i({},this.data),{metadata:e})},t.prototype.getData=function(){return this.data},t.prototype.setData=function(e){this.data=e},t.prototype.getAttachment=function(){return new c.Attachment(this.data.attachments[0])},t.prototype.setAttachment=function(e){this.data.attachments=[e.toJSON(e)]},t.prototype.getURL=function(){try{var e=this.getData();if(e[s.MessageConstatnts.KEYS.URL])return e[s.MessageConstatnts.KEYS.URL]}catch(e){d.Logger.error("MediaMessageModel: getURL",e)}},t.prototype.getTags=function(){return this.tags},t.prototype.setTags=function(e){this.tags=e},t.prototype.getSenderFromData=function(){try{var e=this.getData();if(e[s.ResponseConstants.RESPONSE_KEYS.KEY_ENTITIES][s.MessageConstatnts.KEYS.SENDER][s.ResponseConstants.RESPONSE_KEYS.KEY_ENTITITY])return new u.User(e[s.ResponseConstants.RESPONSE_KEYS.KEY_ENTITIES][s.MessageConstatnts.KEYS.SENDER][s.ResponseConstants.RESPONSE_KEYS.KEY_ENTITITY])}catch(e){d.Logger.error("MediaMessageModel: getSenderFromData",e)}},t.prototype.getReceiverFromData=function(){try{var e=this.getData(),t=e[s.ResponseConstants.RESPONSE_KEYS.KEY_ENTITIES][s.MessageConstatnts.KEYS.RECEIVER][s.ResponseConstants.RESPONSE_KEYS.KEY_ENTITITY];if(e[s.ResponseConstants.RESPONSE_KEYS.KEY_ENTITIES][s.MessageConstatnts.KEYS.RECEIVER][s.ResponseConstants.RESPONSE_KEYS.KEY_ENTITYTYPE]==[s.ResponseConstants.RESPONSE_KEYS.KEY_ENTITY_TYPE.USER])return new u.User(t);var n=new l.Group(t[s.GroupConstants.KEYS.GUID],t[s.GroupConstants.KEYS.NAME],t[s.MessageConstatnts.KEYS.TYPE]);return Object.assign(n,t)}catch(e){d.Logger.error("MediaMessageModel: getReceiverFromData",e)}},t.TYPE=s.MessageConstatnts.TYPE,t.RECEIVER_TYPE=s.MessageConstatnts.RECEIVER_TYPE,t.CATEGORY=s.MessageConstatnts.CATEGORY,t}(a.BaseMessage);t.MediaMessage=f},function(e,t,n){"use strict";t.__esModule=!0,t.Attachment=void 0;var r=n(1),o=function(){function e(e){e.hasOwnProperty(r.ATTACHMENTS_CONSTANTS.KEYS.EXTENSION)&&(this.extension=e[r.ATTACHMENTS_CONSTANTS.KEYS.EXTENSION]),e.hasOwnProperty(r.ATTACHMENTS_CONSTANTS.KEYS.MIME_TYPE)&&(this.mimeType=e[r.ATTACHMENTS_CONSTANTS.KEYS.MIME_TYPE]),e.hasOwnProperty(r.ATTACHMENTS_CONSTANTS.KEYS.NAME)&&(this.name=e[r.ATTACHMENTS_CONSTANTS.KEYS.NAME]),e.hasOwnProperty(r.ATTACHMENTS_CONSTANTS.KEYS.SIZE)&&(this.size=e[r.ATTACHMENTS_CONSTANTS.KEYS.SIZE]),e.hasOwnProperty(r.ATTACHMENTS_CONSTANTS.KEYS.URL)&&(this.url=e[r.ATTACHMENTS_CONSTANTS.KEYS.URL])}return e.prototype.createFileFromJSON=function(t){return new e(t)},e.prototype.toJSON=function(e){return{extension:e.getExtension(),mimeType:e.getMimeType(),name:e.getName(),url:e.getUrl(),size:e.getSize()}},e.prototype.getExtension=function(){return this.extension},e.prototype.setExtension=function(e){this.extension=e},e.prototype.getMimeType=function(){return this.mimeType},e.prototype.setMimeType=function(e){this.mimeType=e},e.prototype.getName=function(){return this.name},e.prototype.setName=function(e){this.name=e},e.prototype.getSize=function(){return this.size},e.prototype.setSize=function(e){this.size=e},e.prototype.getUrl=function(){return this.url},e.prototype.setUrl=function(e){this.url=e},e}();t.Attachment=o},function(e,t,n){"use strict";var r,o=this&&this.__extends||(r=function(e,t){return(r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])})(e,t)},function(e,t){function n(){this.constructor=e}r(e,t),e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)}),i=this&&this.__assign||function(){return(i=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var o in t=arguments[n])Object.prototype.hasOwnProperty.call(t,o)&&(e[o]=t[o]);return e}).apply(this,arguments)};t.__esModule=!0,t.CustomMessage=void 0;var a=n(7),s=n(1),u=n(4),c=n(0),l=n(8),d=function(e){function t(){for(var t=[],n=0;n<arguments.length;n++)t[n]=arguments[n];var r=this;if(3==t.length){var o=t[0],i=t[1],a=t[2];r=e.call(this,o,s.MessageConstatnts.TYPE.CUSTOM,i,s.MessageCategory.MESSAGE)||this,("object"!=typeof a||Array.isArray(a))&&(a={}),r.customData=a,c.isFalsy(r.data)&&(r.data={}),r.data[s.MessageConstatnts.KEYS.CUSTOM_DATA]=a}if(4==t.length){o=t[0],i=t[1];var u=t[2];a=t[3],r=e.call(this,o,u,i,s.MessageCategory.CUSTOM)||this,("object"!=typeof a||Array.isArray(a))&&(a={}),r.customData=a,c.isFalsy(r.data)&&(r.data={}),r.data[s.MessageConstatnts.KEYS.CUSTOM_DATA]=a}return r}return o(t,e),t.prototype.getCustomData=function(){return this.customData},t.prototype.setCustomData=function(e){this.customData=e,this.data[s.MessageConstatnts.KEYS.CUSTOM_DATA]=e},t.prototype.getSender=function(){try{return this.getSenderFromData()}catch(t){return this.sender}},t.prototype.getReceiver=function(){try{return this.getReceiverFromData()}catch(t){return this.receiver}},t.prototype.getSubType=function(){return this.subType},t.prototype.setSubType=function(e){this.subType=e,this.data=i(i({},this.data),{subType:e})},t.prototype.getMetadata=function(){return this.metadata},t.prototype.setMetadata=function(e){this.metadata=e,this.data=i(i({},this.data),{metadata:e})},t.prototype.getData=function(){return this.data},t.prototype.getTags=function(){return this.tags},t.prototype.setTags=function(e){this.tags=e},t.prototype.getSenderFromData=function(){try{var e=this.getData();if(e[s.ResponseConstants.RESPONSE_KEYS.KEY_ENTITIES][s.MessageConstatnts.KEYS.SENDER][s.ResponseConstants.RESPONSE_KEYS.KEY_ENTITITY])return new u.User(e[s.ResponseConstants.RESPONSE_KEYS.KEY_ENTITIES][s.MessageConstatnts.KEYS.SENDER][s.ResponseConstants.RESPONSE_KEYS.KEY_ENTITITY])}catch(e){c.Logger.error("CustomMessageModel: getSenderFromData",e)}},t.prototype.getReceiverFromData=function(){try{var e=this.getData(),t=e[s.ResponseConstants.RESPONSE_KEYS.KEY_ENTITIES][s.MessageConstatnts.KEYS.RECEIVER][s.ResponseConstants.RESPONSE_KEYS.KEY_ENTITITY];if(e[s.ResponseConstants.RESPONSE_KEYS.KEY_ENTITIES][s.MessageConstatnts.KEYS.RECEIVER][s.ResponseConstants.RESPONSE_KEYS.KEY_ENTITYTYPE]==[s.ResponseConstants.RESPONSE_KEYS.KEY_ENTITY_TYPE.USER])return new u.User(t);var n=new l.Group(t[s.GroupConstants.KEYS.GUID],t[s.GroupConstants.KEYS.NAME],t[s.MessageConstatnts.KEYS.TYPE]);return Object.assign(n,t)}catch(e){c.Logger.error("CustomMessageModel: getReceiverFromData",e)}},t}(a.BaseMessage);t.CustomMessage=d},function(e,t,n){"use strict";var r,o=this&&this.__extends||(r=function(e,t){return(r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])})(e,t)},function(e,t){function n(){this.constructor=e}r(e,t),e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)}),i=this&&this.__assign||function(){return(i=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var o in t=arguments[n])Object.prototype.hasOwnProperty.call(t,o)&&(e[o]=t[o]);return e}).apply(this,arguments)};t.__esModule=!0,t.Action=void 0;var a=n(7),s=n(8),u=n(4),c=n(1),l=n(0),d=n(10),f=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return o(t,e),t.actionFromJSON=function(e){var t=new this(e[c.MessageConstatnts.KEYS.RECEIVER],e[c.MessageConstatnts.KEYS.TYPE],e[c.MessageConstatnts.KEYS.RECEIVER_TYPE],c.MessageCategory.ACTION),n=e[c.MessageConstatnts.KEYS.DATA];if(t.data=n,t.setAction(n[c.MessageConstatnts.KEYS.ACTION]),n[c.ActionConstatnts.ACTION_KEYS.EXTRAS]){var r=n[c.ActionConstatnts.ACTION_KEYS.EXTRAS];if(r[c.ActionConstatnts.ACTION_KEYS.SCOPE]){var o=r[c.ActionConstatnts.ACTION_KEYS.SCOPE];o[c.ActionConstatnts.ACTION_KEYS.NEW]&&o[c.ActionConstatnts.ACTION_KEYS.OLD]&&(t.setOldScope(o[c.ActionConstatnts.ACTION_KEYS.OLD]),t.setNewScope(o[c.ActionConstatnts.ACTION_KEYS.NEW]))}}n[c.MessageConstatnts.KEYS.METADATA]&&t.setMetadata(n[c.MessageConstatnts.KEYS.METADATA]);var i=n[c.ActionConstatnts.ACTION_KEYS.ENTITIES];if(i[c.ActionConstatnts.ACTION_SUBJECTS.ACTION_BY])if(i[c.ActionConstatnts.ACTION_SUBJECTS.ACTION_BY][c.ActionConstatnts.ACTION_KEYS.ENTITY_TYPE]==c.ActionConstatnts.ACTION_ENTITY_TYPE.USER){var a=new u.User(i[c.ActionConstatnts.ACTION_SUBJECTS.ACTION_BY][c.ActionConstatnts.ACTION_KEYS.ENTITY]);Object.assign(a,i[c.ActionConstatnts.ACTION_SUBJECTS.ACTION_BY][c.ActionConstatnts.ACTION_KEYS.ENTITY]),t.actionBy=a,t.setSender(a)}else{var l=new s.Group("","","");Object.assign(l,i[c.ActionConstatnts.ACTION_SUBJECTS.ACTION_BY][c.ActionConstatnts.ACTION_KEYS.ENTITY]),t.actionBy=l}if(i[c.ActionConstatnts.ACTION_SUBJECTS.ACTION_FOR]&&(i[c.ActionConstatnts.ACTION_SUBJECTS.ACTION_FOR][c.ActionConstatnts.ACTION_KEYS.ENTITY_TYPE]==c.ActionConstatnts.ACTION_ENTITY_TYPE.USER?(a=new u.User(i[c.ActionConstatnts.ACTION_SUBJECTS.ACTION_FOR][c.ActionConstatnts.ACTION_KEYS.ENTITY]),Object.assign(a,i[c.ActionConstatnts.ACTION_SUBJECTS.ACTION_FOR][c.ActionConstatnts.ACTION_KEYS.ENTITY]),t.actionFor=a):(l=new s.Group("","",""),Object.assign(l,i[c.ActionConstatnts.ACTION_SUBJECTS.ACTION_FOR][c.ActionConstatnts.ACTION_KEYS.ENTITY]),t.actionFor=l)),i[c.ActionConstatnts.ACTION_SUBJECTS.ACTION_ON])if(i[c.ActionConstatnts.ACTION_SUBJECTS.ACTION_ON][c.ActionConstatnts.ACTION_KEYS.ENTITY_TYPE]==c.ActionConstatnts.ACTION_ENTITY_TYPE.USER)a=new u.User(i[c.ActionConstatnts.ACTION_SUBJECTS.ACTION_ON][c.ActionConstatnts.ACTION_KEYS.ENTITY]),Object.assign(a,i[c.ActionConstatnts.ACTION_SUBJECTS.ACTION_ON][c.ActionConstatnts.ACTION_KEYS.ENTITY]),t.actionOn=a;else if(i[c.ActionConstatnts.ACTION_SUBJECTS.ACTION_ON][c.ActionConstatnts.ACTION_KEYS.ENTITY_TYPE]==c.ActionConstatnts.ACTION_ENTITY_TYPE.GROUP)l=new s.Group("","",""),Object.assign(l,i[c.ActionConstatnts.ACTION_SUBJECTS.ACTION_ON][c.ActionConstatnts.ACTION_KEYS.ENTITY]),t.actionOn=l;else if(i[c.ActionConstatnts.ACTION_SUBJECTS.ACTION_ON][c.ActionConstatnts.ACTION_KEYS.ENTITY_TYPE]==c.ActionConstatnts.ACTION_ENTITY_TYPE.MESSAGE){var f=d.MessageController.trasformJSONMessge(i[c.ActionConstatnts.ACTION_SUBJECTS.ACTION_ON][c.ActionConstatnts.ACTION_KEYS.ENTITY]);t.actionOn=f}return t.setMessage(t.getActionMessage(t)),t},t.prototype.getOldScope=function(){return this.oldScope},t.prototype.setOldScope=function(e){this.oldScope=e},t.prototype.getNewScope=function(){return this.newScope},t.prototype.setNewScope=function(e){this.newScope=e},t.prototype.getRawData=function(){return this.rawData},t.prototype.setRawData=function(e){this.rawData=e},t.prototype.getMessage=function(){return this.message},t.prototype.setMessage=function(e){this.message=e},t.prototype.getAction=function(){return this.action},t.prototype.setAction=function(e){this.action=e},t.prototype.getSender=function(){try{return this.getSenderFromData()}catch(e){return this.sender}},t.prototype.getActionBy=function(){return this.actionBy},t.prototype.setActionBy=function(e){this.actionBy=e},t.prototype.getActionOn=function(){return this.actionOn},t.prototype.setActionOn=function(e){this.actionOn=e},t.prototype.getActionFor=function(){return this.actionFor},t.prototype.setActionFor=function(e){this.actionFor=e},t.prototype.getMetadata=function(){return this.data.metadata&&(this.metadata=this.data.metadata),this.metadata},t.prototype.setMetadata=function(e){this.metadata=e,this.data=i(i({},this.data),{metadata:e})},t.prototype.getActionMessage=function(e){var t="";switch(e.getType()){case c.ActionConstatnts.ACTION_KEYS.ACTION_TYPE_USER:case c.ActionConstatnts.ACTION_KEYS.ACTION_TYPE_GROUP:switch(e.getAction()){case c.ActionConstatnts.ACTION_KEYS.ACTION_CREATED:case c.ActionConstatnts.ACTION_KEYS.ACTION_UPDATED:case c.ActionConstatnts.ACTION_KEYS.ACTION_DELETED:}break;case c.ActionConstatnts.ACTION_KEYS.ACTION_TYPE_GROUP_MEMBER:switch(e.getAction()){case c.ActionConstatnts.ACTION_KEYS.TYPE_MEMBER_JOINED:var n=e.getActionBy();t=l.format(c.ActionConstatnts.ActionMessages.ACTION_GROUP_JOINED_MESSAGE,n.getName());break;case c.ActionConstatnts.ACTION_KEYS.TYPE_MEMBER_LEFT:n=e.getActionBy(),t=l.format(c.ActionConstatnts.ActionMessages.ACTION_GROUP_LEFT_MESSAGE,n.getName());break;case c.ActionConstatnts.ACTION_KEYS.TYPE_MEMBER_KICKED:n=e.getActionBy();var r=e.getActionOn();t=l.format(c.ActionConstatnts.ActionMessages.ACTION_MEMBER_KICKED_MESSAGE,n.getName(),r.getName());break;case c.ActionConstatnts.ACTION_KEYS.TYPE_MEMBER_BANNED:n=e.getActionBy(),r=e.getActionOn(),t=l.format(c.ActionConstatnts.ActionMessages.ACTION_MEMBER_BANNED_MESSAGE,n.getName(),r.getName());break;case c.ActionConstatnts.ACTION_KEYS.TYPE_MEMBER_UNBANNED:n=e.getActionBy(),r=e.getActionOn(),t=l.format(c.ActionConstatnts.ActionMessages.ACTION_MEMBER_UNBANNED_MESSAGE,n.getName(),r.getName());break;case c.ActionConstatnts.ACTION_KEYS.ACTION_SCOPE_CHANGED:n=e.getActionBy(),r=e.getActionOn();var o=e.getNewScope();t=l.format(c.ActionConstatnts.ActionMessages.ACTION_MEMBER_SCOPE_CHANGED,n.getName(),r.getName(),o);break;case c.ActionConstatnts.ACTION_KEYS.TYPE_MEMBER_ADDED:n=e.getActionBy(),r=e.getActionOn(),t=l.format(c.ActionConstatnts.ActionMessages.ACTION_MEMBER_ADDED_TO_GROUP,n.getName(),r.getName());break;case c.ActionConstatnts.ACTION_KEYS.TYPE_MESSAGE_EDITED:t=l.format(c.ActionConstatnts.ActionMessages.ACTION_MESSAGE_EDITED_MESSAGE,"");break;case c.ActionConstatnts.ACTION_KEYS.TYPE_MESSAGE_DELETED:t=l.format(c.ActionConstatnts.ActionMessages.ACTION_MESSAGE_DELETED_MESSAGE,"")}}return t},t.prototype.getSenderFromData=function(){var e=this.data[c.ActionConstatnts.ACTION_KEYS.ENTITIES];if(e[c.ActionConstatnts.ACTION_SUBJECTS.ACTION_BY]&&e[c.ActionConstatnts.ACTION_SUBJECTS.ACTION_BY][c.ActionConstatnts.ACTION_KEYS.ENTITY_TYPE]==c.ActionConstatnts.ACTION_ENTITY_TYPE.USER){var t=new u.User(e[c.ActionConstatnts.ACTION_SUBJECTS.ACTION_BY][c.ActionConstatnts.ACTION_KEYS.ENTITY]);return Object.assign(t,e[c.ActionConstatnts.ACTION_SUBJECTS.ACTION_BY][c.ActionConstatnts.ACTION_KEYS.ENTITY]),t}},t.TYPE=c.MessageConstatnts.TYPE,t.RECEIVER_TYPE=c.MessageConstatnts.RECEIVER_TYPE,t.CATEGORY=c.MessageConstatnts.CATEGORY,t.ACTION_TYPE=c.ActionConstatnts.ACTION_TYPE,t}(a.BaseMessage);t.Action=f},function(e,t,n){"use strict";var r,o=this&&this.__extends||(r=function(e,t){return(r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])})(e,t)},function(e,t){function n(){this.constructor=e}r(e,t),e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)}),i=this&&this.__assign||function(){return(i=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var o in t=arguments[n])Object.prototype.hasOwnProperty.call(t,o)&&(e[o]=t[o]);return e}).apply(this,arguments)};t.__esModule=!0,t.Call=void 0;var a=n(7),s=n(8),u=n(1),c=n(0),l=n(4),d=function(e){function t(t,n,r,o){return c.isFalsy(o)?e.call(this,t,n,r,u.MessageCategory.CALL)||this:e.call(this,t,n,r,o)||this}return o(t,e),t.prototype.getCallInitiator=function(){return this.getCallInitiatedByFromData()},t.prototype.setCallInitiator=function(e){this.callInitiator=e},t.prototype.getCallReceiver=function(){return this.getCallReceivedByFromData()},t.prototype.setCallReceiver=function(e){this.callReceiver=e},t.prototype.getData=function(){return this.data},t.prototype.setData=function(e){this.data=e},t.prototype.getSessionId=function(){return this.sessionId},t.prototype.setSessionId=function(e){this.sessionId=e},t.prototype.getMetadata=function(){return this.data.metadata&&(this.metadata=this.data.metadata),this.metadata},t.prototype.setMetadata=function(e){this.metadata=e,this.data=i(i({},this.data),{metadata:e})},t.prototype.getSender=function(){try{return this.getSenderFromData()}catch(t){return this.sender}},t.prototype.getAction=function(){return this.action},t.prototype.setAction=function(e){this.action=e},t.prototype.getInitiatedAt=function(){return this.initiatedAt},t.prototype.setInitiatedAt=function(e){this.initiatedAt=e},t.prototype.getJoinedAt=function(){return this.joinedAt},t.prototype.setJoinedAt=function(e){this.joinedAt=e},t.prototype.getRawData=function(){return this.rawData},t.prototype.setRawData=function(e){this.rawData=e},t.callFromJSON=function(e){try{var t=new this(e[u.MessageConstatnts.KEYS.RECEIVER],e[u.MessageConstatnts.KEYS.TYPE],e[u.MessageConstatnts.KEYS.RECEIVER_TYPE],u.MessageCategory.CALL),n=e[u.MessageConstatnts.KEYS.DATA];t.setAction(n[u.MessageConstatnts.KEYS.ACTION]),n[u.MessageConstatnts.KEYS.METADATA]&&t.setMetadata(n[u.MessageConstatnts.KEYS.METADATA]);var r=n[u.ActionConstatnts.ACTION_KEYS.ENTITIES];if(r[u.ActionConstatnts.ACTION_SUBJECTS.ACTION_BY]&&r[u.ActionConstatnts.ACTION_SUBJECTS.ACTION_BY],r[u.ActionConstatnts.ACTION_SUBJECTS.ACTION_ON]){var o=r[u.ActionConstatnts.ACTION_SUBJECTS.ACTION_ON];if(o[u.CallConstants.CALL_KEYS.CALL_ENTITY]){var i=o[u.CallConstants.CALL_KEYS.CALL_ENTITY];if(i[u.CallConstants.CALL_KEYS.CALL_SESSION_ID]&&(t.sessionId=i[u.CallConstants.CALL_KEYS.CALL_SESSION_ID]),i[u.CallConstants.CALL_KEYS.CALL_STATUS]&&(t.status=i[u.CallConstants.CALL_KEYS.CALL_STATUS]),i[u.CallConstants.CALL_KEYS.CALL_DATA]){var a=i[u.CallConstants.CALL_KEYS.CALL_DATA];a[u.CallConstants.CALL_KEYS.CALL_METADATA]&&(t.metadata=a[u.CallConstants.CALL_KEYS.CALL_METADATA]),a[u.ResponseConstants.RESPONSE_KEYS.KEY_ENTITIES]&&a[u.ResponseConstants.RESPONSE_KEYS.KEY_ENTITIES]}i[u.CallConstants.CALL_KEYS.CALL_INITIATED_AT]&&(t.initiatedAt=i[u.CallConstants.CALL_KEYS.CALL_INITIATED_AT]),i[u.CallConstants.CALL_KEYS.CALL_JOINED_AT]&&(t.joinedAt=i[u.CallConstants.CALL_KEYS.CALL_JOINED_AT]),i[u.CallConstants.CALL_KEYS.CALL_LEFT_AT]&&(t.joinedAt=i[u.CallConstants.CALL_KEYS.CALL_LEFT_AT])}}return t}catch(e){c.Logger.error("CallModel: callFromJSON",e)}},t.prototype.getSenderFromData=function(){try{var e=this.getData();if((e=e[u.ActionConstatnts.ACTION_KEYS.ENTITIES])[u.ActionConstatnts.ACTION_SUBJECTS.ACTION_BY][u.CallConstants.CALL_KEYS.CALL_ENTITY])return new l.User(e[u.ActionConstatnts.ACTION_SUBJECTS.ACTION_BY][u.CallConstants.CALL_KEYS.CALL_ENTITY])}catch(e){c.Logger.error("CallModel:getSenderFromData",e)}},t.prototype.getCallInitiatedByFromData=function(){try{var e=this.getData();if((e=e[u.ActionConstatnts.ACTION_KEYS.ENTITIES])[u.ActionConstatnts.ACTION_SUBJECTS.ACTION_ON][u.CallConstants.CALL_KEYS.CALL_ENTITY][u.CallConstants.CALL_KEYS.CALL_DATA][u.ActionConstatnts.ACTION_KEYS.ENTITIES][u.CallConstants.CALL_KEYS.CALL_SENDER])return new l.User(e[u.ActionConstatnts.ACTION_SUBJECTS.ACTION_ON][u.CallConstants.CALL_KEYS.CALL_ENTITY][u.CallConstants.CALL_KEYS.CALL_DATA][u.ActionConstatnts.ACTION_KEYS.ENTITIES][u.CallConstants.CALL_KEYS.CALL_SENDER][u.CallConstants.CALL_KEYS.CALL_ENTITY])}catch(e){c.Logger.error("CallModel:getCallInitiatedByFromData",e)}},t.prototype.getCallReceivedByFromData=function(){try{var e=this.getData();if((e=e[u.ActionConstatnts.ACTION_KEYS.ENTITIES])[u.ActionConstatnts.ACTION_SUBJECTS.ACTION_FOR][u.CallConstants.CALL_KEYS.CALL_ENTITY]){if(e[u.ActionConstatnts.ACTION_SUBJECTS.ACTION_FOR][u.CallConstants.CALL_KEYS.CALL_ENTITY_TYPE]==u.CallConstants.CALL_KEYS.CALL_ENTITY_USER)return new l.User(e[u.ActionConstatnts.ACTION_SUBJECTS.ACTION_FOR][u.CallConstants.CALL_KEYS.CALL_ENTITY]);var t=new s.Group(e[u.ActionConstatnts.ACTION_SUBJECTS.ACTION_FOR][u.CallConstants.CALL_KEYS.CALL_ENTITY][u.GroupConstants.KEYS.GUID],e[u.ActionConstatnts.ACTION_SUBJECTS.ACTION_FOR][u.CallConstants.CALL_KEYS.CALL_ENTITY][u.GroupConstants.KEYS.NAME],e[u.ActionConstatnts.ACTION_SUBJECTS.ACTION_FOR][u.CallConstants.CALL_KEYS.CALL_ENTITY][u.GroupConstants.KEYS.TYPE]);return Object.assign(t,e[u.ActionConstatnts.ACTION_SUBJECTS.ACTION_FOR][u.CallConstants.CALL_KEYS.CALL_ENTITY])}}catch(e){c.Logger.error("CallModel:getCallReceivedByFromData",e)}},t.TYPE=u.MessageConstatnts.TYPE,t.RECEIVER_TYPE=u.MessageConstatnts.RECEIVER_TYPE,t.CATEGORY=u.MessageConstatnts.CATEGORY,t.ACTION_TYPE=u.ActionConstatnts.ACTION_TYPE,t}(a.BaseMessage);t.Call=d},function(e,t,n){"use strict";t.__esModule=!0,t.MessageReceipt=void 0;var r=function(){function e(){this.RECEIPT_TYPE={READ_RECEIPT:"read",DELIVERY_RECEIPT:"delivery"},this.receiptType=this.RECEIPT_TYPE.DELIVERY_RECEIPT}return e.prototype.getReceiverType=function(){return this.receiverType},e.prototype.setReceiverType=function(e){this.receiverType=e},e.prototype.getSender=function(){return this.sender},e.prototype.setSender=function(e){this.sender=e},e.prototype.getReceiver=function(){return this.receiver},e.prototype.setReceiver=function(e){this.receiver=e},e.prototype.getTimestamp=function(){return this.timestamp},e.prototype.setTimestamp=function(e){this.timestamp=e},e.prototype.setReadAt=function(e){this.readAt=e},e.prototype.getReadAt=function(){return this.readAt},e.prototype.setDeliveredAt=function(e){this.deliveredAt=e},e.prototype.getDeliveredAt=function(){return this.deliveredAt},e.prototype.getMessageId=function(){return this.messageId},e.prototype.setMessageId=function(e){this.messageId=e},e.prototype.getReceiptType=function(){return this.receiptType},e.prototype.setReceiptType=function(e){void 0===e&&(e=this.RECEIPT_TYPE.DELIVERY_RECEIPT),this.receiptType=e},e}();t.MessageReceipt=r},function(e,t,n){"use strict";var r,o=this&&this.__extends||(r=function(e,t){return(r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])})(e,t)},function(e,t){function n(){this.constructor=e}r(e,t),e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)});t.__esModule=!0,t.WSConnectionListener=t.UserLoginListener=t.CallsListener=t.UserCallListener=t.GroupsListener=t.UsersListener=t.MessagesListener=t.Listener=t.ConnectionListener=t.LoginListener=t.OngoingCallListener=t.GroupListener=t.UserListener=t.CallListener=t.MessageListener=void 0;var i=n(0),a=function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];this.onTextMessageReceived=void 0,this.onMediaMessageReceived=void 0,this.onCustomMessageReceived=void 0,this.onTypingStarted=void 0,this.onTypingEnded=void 0,this.onMessagesDelivered=void 0,this.onMessagesRead=void 0,this.onMessageEdited=void 0,this.onMessageDeleted=void 0,this.onTransientMessageReceived=void 0,i.isFalsy(e[0].onTextMessageReceived)||(this.onTextMessageReceived=e[0].onTextMessageReceived),i.isFalsy(e[0].onMediaMessageReceived)||(this.onMediaMessageReceived=e[0].onMediaMessageReceived),i.isFalsy(e[0].onTypingStarted)||(this.onTypingStarted=e[0].onTypingStarted),i.isFalsy(e[0].onTypingEnded)||(this.onTypingEnded=e[0].onTypingEnded),i.isFalsy(e[0].onMessagesDelivered)||(this.onMessagesDelivered=e[0].onMessagesDelivered),i.isFalsy(e[0].onMessagesRead)||(this.onMessagesRead=e[0].onMessagesRead),i.isFalsy(e[0].onCustomMessageReceived)||(this.onCustomMessageReceived=e[0].onCustomMessageReceived),i.isFalsy(e[0].onMessageEdited)||(this.onMessageEdited=e[0].onMessageEdited),i.isFalsy(e[0].onMessageDeleted)||(this.onMessageDeleted=e[0].onMessageDeleted),i.isFalsy(e[0].onTransientMessageReceived)||(this.onTransientMessageReceived=e[0].onTransientMessageReceived)};t.MessageListener=a;var s=function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];this.onIncomingCallReceived=void 0,this.onOutgoingCallAccepted=void 0,this.onOutgoingCallRejected=void 0,this.onIncomingCallCancelled=void 0,i.isFalsy(e[0].onIncomingCallReceived)||(this.onIncomingCallReceived=e[0].onIncomingCallReceived),i.isFalsy(e[0].onOutgoingCallAccepted)||(this.onOutgoingCallAccepted=e[0].onOutgoingCallAccepted),i.isFalsy(e[0].onOutgoingCallRejected)||(this.onOutgoingCallRejected=e[0].onOutgoingCallRejected),i.isFalsy(e[0].onIncomingCallCancelled)||(this.onIncomingCallCancelled=e[0].onIncomingCallCancelled)};t.CallListener=s;var u=function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];i.isFalsy(e[0].onUserOnline)||(this.onUserOnline=e[0].onUserOnline),i.isFalsy(e[0].onUserOffline)||(this.onUserOffline=e[0].onUserOffline)};t.UserListener=u;var c=function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];i.isFalsy(e[0].onGroupMemberJoined)||(this.onGroupMemberJoined=e[0].onGroupMemberJoined),i.isFalsy(e[0].onGroupMemberLeft)||(this.onGroupMemberLeft=e[0].onGroupMemberLeft),i.isFalsy(e[0].onGroupMemberKicked)||(this.onGroupMemberKicked=e[0].onGroupMemberKicked),i.isFalsy(e[0].onGroupMemberBanned)||(this.onGroupMemberBanned=e[0].onGroupMemberBanned),i.isFalsy(e[0].onGroupMemberUnbanned)||(this.onGroupMemberUnbanned=e[0].onGroupMemberUnbanned),i.isFalsy(e[0].onGroupMemberScopeChanged)||(this.onGroupMemberScopeChanged=e[0].onGroupMemberScopeChanged),i.isFalsy(e[0].onMemberAddedToGroup)||(this.onGroupMemberAddedToGroup=e[0].onMemberAddedToGroup)};t.GroupListener=c;var l=function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];i.isFalsy(e[0].onYouLeft)||(this.onYouLeft=e[0].onYouLeft),i.isFalsy(e[0].onYouJoined)||(this.onYouJoined=e[0].onYouJoined),i.isFalsy(e[0].onUserJoined)||(this.onUserJoined=e[0].onUserJoined),i.isFalsy(e[0].onUserLeft)||(this.onUserLeft=e[0].onUserLeft),i.isFalsy(e[0].onUserListUpdated)||(this.onUserListUpdated=e[0].onUserListUpdated),i.isFalsy(e[0].onMediaDeviceListUpdated)||(this.onMediaDeviceListUpdated=e[0].onMediaDeviceListUpdated),i.isFalsy(e[0].onRecordingStarted)||(this.onRecordingStarted=e[0].onRecordingStarted),i.isFalsy(e[0].onRecordingStopped)||(this.onRecordingStopped=e[0].onRecordingStopped),i.isFalsy(e[0].onScreenShareStarted)||(this.onScreenShareStarted=e[0].onScreenShareStarted),i.isFalsy(e[0].onScreenShareStopped)||(this.onScreenShareStopped=e[0].onScreenShareStopped),i.isFalsy(e[0].onUserMuted)||(this.onUserMuted=e[0].onUserMuted),i.isFalsy(e[0].onCallEnded)||(this.onCallEnded=e[0].onCallEnded),i.isFalsy(e[0].onError)||(this.onError=e[0].onError)};t.OngoingCallListener=l;var d=function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];i.isFalsy(e[0].loginSuccess)||(this.loginSuccess=e[0].loginSuccess),i.isFalsy(e[0].loginFailure)||(this.loginFailure=e[0].loginFailure),i.isFalsy(e[0].logoutSuccess)||(this.logoutSuccess=e[0].logoutSuccess),i.isFalsy(e[0].logoutFailure)||(this.logoutFailure=e[0].logoutFailure)};t.LoginListener=d;var f=function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];this.onConnected=void 0,this.inConnecting=void 0,this.onDisconnected=void 0,this.onFeatureThrottled=void 0,i.isFalsy(e[0].onConnected)||(this.onConnected=e[0].onConnected),i.isFalsy(e[0].inConnecting)||(this.inConnecting=e[0].inConnecting),i.isFalsy(e[0].onDisconnected)||(this.onDisconnected=e[0].onDisconnected),i.isFalsy(e[0].onFeatureThrottled)||(this.onFeatureThrottled=e[0].onFeatureThrottled)};t.ConnectionListener=f;var p=function(e,t){this._name=e,this._callback=t},h=function(e){function t(t,n,r,o){var i=e.call(this,t,o)||this;return i._eventListener=n,r&&(i._cursor=r),i}return o(t,e),t}(t.Listener=p);t.MessagesListener=h;var E=function(e){function t(t,n,r,o){var i=e.call(this,t,o)||this;return i._eventListener=n,r&&(i._cursor=r),i}return o(t,e),t}(p);t.UsersListener=E;var g=function(e){function t(t,n,r,o){var i=e.call(this,t,o)||this;return i._eventListener=n,r&&(i._cursor=r),i}return o(t,e),t}(p);t.GroupsListener=g;var v=function(e){function t(t,n,r){var o=e.call(this,"callListner",r)||this;return o._eventListener=t,o}return o(t,e),t}(p);t.UserCallListener=v;var m=function(e){function t(t,n,r,o){var i=e.call(this,t,o)||this;return i._eventListener=n,i}return o(t,e),t}(p);t.CallsListener=m;var _=function(e){function t(t,n,r,o){var i=e.call(this,t,o)||this;return i._eventListener=n,r&&(i._cursor=r),i}return o(t,e),t}(p);t.UserLoginListener=_;var S=function(e){function t(t,n,r,o){var i=e.call(this,t,o)||this;return i._eventListener=n,r&&(i._cursor=r),i}return o(t,e),t}(p);t.WSConnectionListener=S},function(e,t,n){"use strict";t.__esModule=!0,t.ConversationController=void 0;var r=n(35),o=n(0),i=function(){function e(){}return e.trasformJSONConversation=function(e,t,n,i,a,s){var u;try{u=new r.Conversation(e,t,n,i,a,s)}catch(e){o.Logger.error("ConversationController:transformJSONConversation",e)}return u},e}();t.ConversationController=i},function(e,t,n){"use strict";t.__esModule=!0,t.MessageListnerMaping=void 0;var r=n(0),o=n(1),i=n(13),a=n(3),s=function(){function e(e){this.store=o.constants.DEFAULT_STORE,r.isFalsy(e)||(this.store=e),this.settingsStore=i.createInstance({name:r.format(o.LOCAL_STORE.STORE_STRING,a.CometChat.getAppId(),o.LOCAL_STORE.MESSAGE_LISTENERS_LIST)}),this.settingsStore.setDriver([i.LOCALSTORAGE,i.INDEXEDDB,i.WEBSQL])}return e.getInstance=function(){return null==e.settingsStore&&(e.settingsStore=new e),e.settingsStore},e.prototype.set=function(e,t){return this.settingsStore.setItem(e,t)},e.prototype.remove=function(e){this.settingsStore.removeItem(e)},e.prototype.get=function(e){return this.settingsStore.getItem(e)},e.prototype.clearStore=function(){return this.settingsStore.clear()},e.prototype.clear=function(e){},e.prototype.selectStore=function(e){this.store=e},e.settingsStore=null,e}();t.MessageListnerMaping=s},function(e,t,n){"use strict";t.__esModule=!0,t.TypingIndicator=void 0;var r=function(){function e(e,t,n){this.receiverId=e,this.receiverType=t,this.metadata=n}return e.prototype.getReceiverType=function(){return this.receiverType},e.prototype.setReceiverType=function(e){this.receiverType=e},e.prototype.getReceiverId=function(){return this.receiverId},e.prototype.setReceiverId=function(e){this.receiverId=e},e.prototype.getMetadata=function(){return this.metadata},e.prototype.setMetadata=function(e){this.metadata=e},e.prototype.getSender=function(){return this.sender},e.prototype.setSender=function(e){this.sender=e},e}();t.TypingIndicator=r},function(e,t,n){"use strict";t.__esModule=!0,t.TransientMessage=void 0;var r=function(){function e(e,t,n){this.receiverId=e,this.receiverType=t,this.data=n||{}}return e.prototype.getReceiverId=function(){return this.receiverId},e.prototype.setReceiverId=function(e){this.receiverId=e},e.prototype.getReceiverType=function(){return this.receiverType},e.prototype.setReceiverType=function(e){this.receiverType=e},e.prototype.getData=function(){return this.data},e.prototype.setData=function(e){this.data=e},e.prototype.getSender=function(){return this.sender},e.prototype.setSender=function(e){this.sender=e},e}();t.TransientMessage=r},function(e,t,n){"use strict";t.__esModule=!0,t.EndpointFactory=void 0;var r=n(0),o=n(1),i=n(12),a=n(3),s=n(2),u=function(){function t(){this.baseUrl="https://%s.apiclient-%s.cometchat.io/",this.apiVersion=o.APPINFO.apiVersion,this.adminApiUrl="https://%s.api-%s.cometchat.io/",this.adminApiVersion=o.APPINFO.apiVersion,this.extensionApi="https://%s-%s.cometchat.io/%s",this.prosodyApi="https://%s.%s/%s",this.wsApi="https://%s/%s",this.uriEndpoints={authToken:{endpoint:"users/{{uid}}/auth_tokens",method:"POST",data:{uid:"string|max:100"},isAdminApi:!0},appSettings:{endpoint:"settings",method:"GET"},login:{endpoint:"admin/users/auth",method:"POST",data:{uid:"string|max:100"}},logout:{endpoint:"admin/users/auth/{{authToken}}",method:"DELETE"},getMyDetails:{endpoint:"me",method:"GET"},updateMyDetails:{endpoint:"me",method:"PUT"},getJWT:{endpoint:"me/jwt",method:"POST"},users:{endpoint:"users",method:"GET"},user:{endpoint:"users/{{uid}}",method:"GET"},blockUsers:{endpoint:"blockedusers",method:"POST"},blockedUsersList:{endpoint:"blockedusers",method:"GET"},unblockUsers:{endpoint:"blockedusers",method:"DELETE"},userLogout:{endpoint:"me",method:"DELETE"},createUser:{endpoint:"users",method:"POST",isAdminApi:!0},updateUser:{endpoint:"users/{{uid}}",method:"PUT",isAdminApi:!0},sendFriendRequests:{endpoint:"user/friends",method:"POST",data:{uids:"array<string|max:100>"}},getFriends:{endpoint:"user/friends",method:"GET"},unfriend:{endpoint:"user/friends/{{uid}}/{{gid}}",method:"DELETE",data:{uids:"array<string|max:100>"}},acceptFriendRequest:{endpoint:"user/friends/{{uid}}/accept",method:"PUT",data:{uids:"array<string|max:100>"}},rejectFriendRequest:{endpoint:"user/friends/{{uid}}/reject",method:"DELETE",data:{uids:"array<string|max:100>"}},createGroup:{endpoint:"groups",method:"POST",data:{guid:"required|string|max:100",name:"required|string|max:100",type:"enum|public,protected,password",password:"filled|string|max:100"}},getGroups:{endpoint:"groups",method:"GET"},getGroup:{endpoint:"groups/{{guid}}",method:"GET"},updateGroup:{endpoint:"groups/{{guid}}",method:"PUT"},deleteGroup:{endpoint:"groups/{{guid}}",method:"DELETE"},addGroupMembers:{endpoint:"groups/{{guid}}/members",method:"POST",data:{uids:"array<string|max:100>"}},getGroupMembers:{endpoint:"groups/{{guid}}/members",method:"GET"},joinGroup:{endpoint:"groups/{{guid}}/members",method:"POST"},leaveGroup:{endpoint:"groups/{{guid}}/members",method:"DELETE"},kickGroupMembers:{endpoint:"groups/{{guid}}/members/{{uid}}",method:"DELETE",data:{uids:"array<string|max:100>"}},changeScopeOfMember:{endpoint:"groups/{{guid}}/members/{{uid}}",method:"PUT",data:{uids:"array<string|max:100>"}},banGroupMember:{endpoint:"groups/{{guid}}/bannedusers/{{uid}}",method:"POST",data:{uids:"array<string|max:100>"}},unbanGroupMember:{endpoint:"groups/{{guid}}/bannedusers/{{uid}}",method:"DELETE",data:{uids:"array<string|max:100>"}},addMemebersToGroup:{endpoint:"groups/{{guid}}/members",method:"PUT"},getBannedGroupMembers:{endpoint:"groups/{{guid}}/bannedusers",method:"GET"},promotemoteGroupMember:{endpoint:"groups/{{guid}}/promote",method:"PUT",data:{uids:"array<string|max:100>"}},demoteGroupMember:{endpoint:"groups/{{guid}}/demote",method:"DELETE",data:{uids:"array<string|max:100>"}},transferOwnership:{endpoint:"groups/{{guid}}/owner",method:"PATCH"},sendMessage:{endpoint:"messages",method:"POST",data:{sender:"array:string:max:100>",isGroupMember:"filled|boolean|bail",data:"required|json"}},sendMessageInThread:{endpoint:"messages/{{parentId}}/thread",method:"POST",data:{sender:"array:string:max:100>",isGroupMember:"filled|boolean|bail",data:"required|json"}},getMessages:{endpoint:"messages",method:"GET"},getMessageDetails:{endpoint:"messages/{{messageId}}",method:"GET"},getUserMessages:{endpoint:"users/{{listId}}/messages",method:"GET"},getGroupMessages:{endpoint:"groups/{{listId}}/messages",method:"GET"},getThreadMessages:{endpoint:"messages/{{listId}}/thread",method:"GET"},getMessage:{endpoint:"user/messages/{{muid}}",method:"GET"},updateMessage:{endpoint:"messages/{{messageId}}",method:"PUT"},deleteMessage:{endpoint:"messages/{{messageId}}",method:"DELETE"},createCallSession:{endpoint:"calls",method:"POST",data:{}},updateCallSession:{endpoint:"calls/{{sessionid}}",method:"put",data:{}},getConversations:{endpoint:"conversations",method:"GET"},getUserConversation:{endpoint:"users/{{uid}}/conversation",method:"GET"},getGroupConversation:{endpoint:"groups/{{guid}}/conversation",method:"GET"},deleteUserConversation:{endpoint:"users/{{uid}}/conversation",method:"DELETE"},deleteGroupConversation:{endpoint:"groups/{{guid}}/conversation",method:"DELETE"},updateUserConversation:{endpoint:"users/{{uid}}/conversation",method:"PUT"},updateGroupConversation:{endpoint:"groups/{{guid}}/conversation",method:"PUT"}}}return t.prototype.getEndpointData=function(n){return new Promise((function(u,c){try{i.LocalStorage.getInstance().get(o.LOCAL_STORE.KEY_APP_SETTINGS).then((function(e){if(r.isFalsy(e)){var i={};if((new t).uriEndpoints.hasOwnProperty(n))if((i=(new t).uriEndpoints[n]).hasOwnProperty("isAdminApi")){var s=r.format((new t).adminApiUrl,a.CometChat.getAppId(),a.CometChat.appSettings.getRegion())+(new t).adminApiVersion+"/"+i.endpoint;i.endpoint=s}else s=r.format((new t).baseUrl,a.CometChat.getAppId(),a.CometChat.appSettings.getRegion())+(new t).apiVersion+"/"+i.endpoint,i.endpoint=s;u(i)}else i={},(new t).uriEndpoints.hasOwnProperty(n)&&((i=(new t).uriEndpoints[n]).hasOwnProperty("isAdminApi")?i.endpoint="https://"+e[o.APP_SETTINGS.KEYS.ADMIN_API_HOST]+"/"+(new t).adminApiVersion+"/"+i.endpoint:(s="https://"+e[o.APP_SETTINGS.KEYS.CLIENT_API_HOST]+"/"+(new t).apiVersion+"/"+i.endpoint,i.endpoint=s)),u(i)}),(function(e){var o;(new t).uriEndpoints.hasOwnProperty(n)&&((o=(new t).uriEndpoints[n]).hasOwnProperty(["isAdminApi"])?o.endpoint=r.format((new t).adminApiUrl,a.CometChat.getAppId(),a.CometChat.appSettings.getRegion())+(new t).adminApiVersion+"/"+o.endpoint:o.endpoint=r.format((new t).baseUrl,a.CometChat.getAppId(),a.CometChat.appSettings.getRegion())+(new t).apiVersion+"/"+o.endpoint),u(o)}))}catch(e){c(new s.CometChatException(e))}}))},t}();t.EndpointFactory=u},function(e,t,n){"use strict";t.__esModule=!0,t.getEndPoint=void 0;var r=n(28),o=n(2);t.getEndPoint=function(e,t){void 0===e&&(e=""),void 0===t&&(t={});var n=new r.EndpointFactory;return new Promise((function(r,i){try{n.getEndpointData(e).then((function(e){var n=e;if(n){for(var o in t)n.endpoint=n.endpoint.replace("{{"+o+"}}",t[o]);r(n)}else i({error:"Unknown endPoint name."})}))}catch(e){i(new o.CometChatException(e))}}))}},function(e,t,n){"use strict";t.__esModule=!0,t.KeyStore=void 0;var r=n(3),o=n(0),i=n(1),a=n(13),s=n(2),u=function(){function e(e){this.store=i.constants.DEFAULT_STORE,o.isFalsy(e)||(this.store=e),this.keyStore=a.createInstance({name:o.format(i.LOCAL_STORE.STORE_STRING,r.CometChat.getAppId(),i.LOCAL_STORE.KEYS_STORE)}),this.keyStore.setDriver([a.LOCALSTORAGE,a.INDEXEDDB,a.WEBSQL])}return e.getInstance=function(){return null==e.KeyStore&&(e.KeyStore=new e),e.KeyStore},e.prototype.set=function(e,t){return this.keyStore.setItem(e,t)},e.prototype.remove=function(e){this.keyStore.removeItem(e)},e.prototype.get=function(e){var t=this;return new Promise((function(n,r){try{t.keyStore.getItem(e).then((function(t){try{n(JSON.parse(t))}catch(e){n(t)}}),(function(e){r(e)}))}catch(e){r(new s.CometChatException(e))}}))},e.prototype.clearStore=function(){return this.keyStore.clear()},e}();t.KeyStore=u},function(e,t,n){"use strict";t.__esModule=!0,t.CallController=void 0;var r=n(1),o=n(0),i=n(3),a=n(2),s=n(23),u=n(12),c=n(32),l=n(4),d=function(){function t(){this.TAG="calling Log",this.CALL_NO_ANSWER_INTERVAL=45e3,this.view=void 0,this.isDev=!1}return t.prototype.getCallListner=function(){return t.callListner},t.prototype.setCallListner=function(e){t.callListner=new s.UserCallListener(e)},t.getInstance=function(){try{return null!=this.callController&&null!=this.callController||(this.callController=new t),this.callController}catch(e){o.Logger.error("CallController: getInstance",e)}},t.prototype.getActiveCall=function(){try{return o.isFalsy(this.call)?null:this.call}catch(e){o.Logger.error("CallController: getActiveCall",e)}},t.prototype.initiateCall=function(e){var t=this;return new Promise((function(n,i){try{o.isFalsy(t.call)?null!=e&&null!=e?(t.call=e,t.startCallTimer(),n(e)):i(new a.CometChatException(r.CALL_ERROR.ERROR_IN_CALLING)):i(new a.CometChatException(r.CALL_ERROR.CALL_ALREADY_INITIATED))}catch(n){i(new a.CometChatException(n))}}))},t.prototype.endCall=function(e){var t=this;try{document.getElementsByName("frame").forEach((function(e){t.view&&(t.view.removeChild(e),t.view=void 0)})),this.endCallSession()}catch(e){o.Logger.error("CallController: endCall",e)}},t.prototype.onCallStarted=function(e){var t=this;return new Promise((function(n,i){try{o.isFalsy(t.call)?null!=e&&null!=e?n(t.call=e):i(new a.CometChatException(r.CALL_ERROR.ERROR_IN_CALLING)):i(new a.CometChatException(r.CALL_ERROR.CALL_ALREADY_INITIATED))}catch(n){i(new a.CometChatException(n))}}))},t.prototype.endCallSession=function(){try{this.call=void 0,t.callController=void 0,this.timer&&this.stopCallTimer(),this.view=void 0,this.removeListener(),t.callScreen=null,t.callSettings=null}catch(e){o.Logger.error("CallController:EndCallSession",{e:e})}},t.prototype.startCallTimer=function(){var t=this;try{this.timer=setTimeout((function(){t.call?i.CometChat.sendUnansweredResponse(t.call.getSessionId()).then((function(e){t.endCallSession()}),(function(e){t.endCallSession()})):t.endCallSession()}),this.CALL_NO_ANSWER_INTERVAL)}catch(e){o.Logger.error("CallController: startCallTimer",e)}},t.prototype.stopCallTimer=function(){try{clearTimeout(this.timer)}catch(e){o.Logger.error("CallController: stopCallTimer",e)}},t.prototype.startCall=function(n,r){var i=this;try{this.timer&&this.stopCallTimer();var a=document.createElement("iframe");this.getCallUrl().then((function(e){a.src=e+"",a.name="frame",a.setAttribute("allow","camera; microphone; display-capture;"),a.setAttribute("width","100%"),a.setAttribute("height","100%"),t.callScreen=a,t.callSettings=n,r&&(i.view=r),r.appendChild(a),i.addListener()}))}catch(e){o.Logger.error("CallController: startCall",e)}},t.prototype.addListener=function(){window.addEventListener("message",this.handler,!0)},t.prototype.removeListener=function(){window.removeEventListener("message",this.handler,!0)},t.prototype.handler=function(e){var n,a=this,s=t.callSettings,u=t.callScreen,c=t.getInstance().getActiveCall();try{if(void 0!==(n=JSON.parse(e.data))&&n.type==r.CallConstants.POST_MESSAGES.TYPES.HANGUP)t.deviceList=null,c?(o.Logger.info(this.TAG,t.callListner),window.setTimeout((function(){i.CometChat.endCall(c.getSessionId(),!0).then((function(e){o.Logger.info(a.TAG,{call:e})})).catch((function(e){o.Logger.info(a.TAG,"The Call Was Already Ended")}))}),1e3)):i.CometChat.endCall(s.getSessionId(),!0).then((function(e){o.Logger.info(a.TAG,{call:e})})).catch((function(e){o.Logger.info(a.TAG,"The Call Was Already Ended")}));else if(void 0!==n&&n.type==r.CallConstants.POST_MESSAGES.TYPES.ACTION_MESSAGE&&n.action==r.CallConstants.POST_MESSAGES.ACTIONS.USER_JOINED){if(n.value){var d=void 0,f=n.value;o.isFalsy(f.uid)||o.isFalsy(f.name)||((d=new l.User(f)).setStatus("online"),i.CometChat.user.getUid().toLowerCase()!=d.getUid().toLowerCase()&&t.callListner&&(o.isFalsy(t.callListner._eventListener.onUserJoined)||t.callListner._eventListener.onUserJoined(d)))}}else if(void 0!==n&&n.type==r.CallConstants.POST_MESSAGES.TYPES.ACTION_MESSAGE&&n.action==r.CallConstants.POST_MESSAGES.ACTIONS.USER_LEFT)n.value&&(d=void 0,f=n.value,o.isFalsy(f.uid)||o.isFalsy(f.name)||((d=new l.User(f)).setStatus("online"),i.CometChat.user.getUid().toLowerCase()!=d.getUid().toLowerCase()&&t.callListner&&(o.isFalsy(t.callListner._eventListener.onUserLeft)||t.callListner._eventListener.onUserLeft(d))));else if(void 0!==n&&n.type==r.CallConstants.POST_MESSAGES.TYPES.ACTION_MESSAGE&&n.action==r.CallConstants.POST_MESSAGES.ACTIONS.USER_LIST_CHANGED){var p=[];n.value&&0<n.value.length&&(n.value.map((function(e){if(!o.isFalsy(e.uid)&&!o.isFalsy(e.name)){var t=new l.User(e);t.setStatus("online"),p.push(t)}})),t.callListner&&(o.isFalsy(t.callListner._eventListener.onUserListUpdated)||t.callListner._eventListener.onUserListUpdated(p)))}else if(void 0!==n&&n.type==r.CallConstants.POST_MESSAGES.TYPES.ACTION_MESSAGE&&n.action==r.CallConstants.POST_MESSAGES.ACTIONS.INITIAL_DEVICE_LIST)o.Logger.info("initialDeviceList received in SDK = ",n),n.value&&(t.deviceList=n.value);else if(void 0!==n&&n.type==r.CallConstants.POST_MESSAGES.TYPES.ACTION_MESSAGE&&n.action==r.CallConstants.POST_MESSAGES.ACTIONS.DEVICE_CHANGE){if(o.Logger.info("onDeviceChange received in SDK = ",n),n.value){t.deviceList=n.value;var h=t.getAvailableDeviceObject(t.deviceList);t.callListner&&(o.isFalsy(t.callListner._eventListener.onMediaDeviceListUpdated)||t.callListner._eventListener.onMediaDeviceListUpdated(h))}}else if(void 0!==n&&n.type==r.CallConstants.POST_MESSAGES.TYPES.ACTION_MESSAGE&&n.action==r.CallConstants.POST_MESSAGES.ACTIONS.RECORDING_TOGGLED){if(o.Logger.info("onRecordingToggled received in SDK = ",n),n.value&&(v=n.value).hasOwnProperty("user")&&v.hasOwnProperty("recordingStarted")&&!o.isFalsy(v.user.uid)&&!o.isFalsy(v.user.name)){var E=new l.User(v.user);E.setStatus("online");var g=v.recordingStarted;t.callListner&&(g?o.isFalsy(t.callListner._eventListener.onRecordingStarted)||t.callListner._eventListener.onRecordingStarted(E):o.isFalsy(t.callListner._eventListener.onRecordingStopped)||t.callListner._eventListener.onRecordingStopped(E))}}else if(void 0!==n&&n.type==r.CallConstants.POST_MESSAGES.TYPES.ACTION_MESSAGE&&n.action==r.CallConstants.POST_MESSAGES.ACTIONS.USER_MUTED){var v;if(o.Logger.info("onUserMuted received in SDK = ",n),n.value&&(v=n.value).hasOwnProperty("muted")&&v.hasOwnProperty("mutedBy")&&!o.isFalsy(v.muted.uid)&&!o.isFalsy(v.muted.name)&&!o.isFalsy(v.mutedBy.uid)&&!o.isFalsy(v.mutedBy.name)){var m=new l.User(v.muted);m.setStatus("online");var _=new l.User(v.mutedBy);_.setStatus("online"),t.callListner&&(o.isFalsy(t.callListner._eventListener.onUserMuted)||t.callListner._eventListener.onUserMuted(m,_))}}else void 0!==n&&n.type==r.CallConstants.POST_MESSAGES.TYPES.ACTION_MESSAGE&&n.action==r.CallConstants.POST_MESSAGES.ACTIONS.SCREEN_SHARE_STARTED?t.callListner&&(o.isFalsy(t.callListner._eventListener.onScreenShareStarted)||t.callListner._eventListener.onScreenShareStarted(null)):void 0!==n&&n.type==r.CallConstants.POST_MESSAGES.TYPES.ACTION_MESSAGE&&n.action==r.CallConstants.POST_MESSAGES.ACTIONS.SCREEN_SHARE_STOPPED?t.callListner&&(o.isFalsy(t.callListner._eventListener.onScreenShareStopped)||t.callListner._eventListener.onScreenShareStopped(null)):void 0!==n&&n.type&&n.action&&n.type==r.CallConstants.POST_MESSAGES.TYPES.ACTION_MESSAGE&&n.action==r.CallConstants.POST_MESSAGES.ACTIONS.LOAD&&null!=u.contentWindow&&u.contentWindow.postMessage({type:r.CallConstants.POST_MESSAGES.TYPES.COMETCHAT_RTC_SETTINGS,callsettings:JSON.stringify(s)},"*")}catch(e){n=void 0,o.Logger.error("CallController: startCall",e)}},t.prototype.getCallUrl=function(){var e=this,t=void 0;return new Promise((function(n,i){try{e.isDev?(t="http://localhost:3000/?v="+r.CALLING_COMPONENT_VERSION,n(t)):u.LocalStorage.getInstance().get(r.LOCAL_STORE.KEY_APP_SETTINGS).then((function(e){if(o.isFalsy(e))o.getAppSettings().then((function(e){var o="rtc-web"+e[r.APP_SETTINGS.KEYS.WEBRTC_HOST].slice(3);t="https://"+o+"/?v="+r.CALLING_COMPONENT_VERSION,n(t)}));else{var i="rtc-web"+e[r.APP_SETTINGS.KEYS.WEBRTC_HOST].slice(3);t="https://"+i+"/?v="+r.CALLING_COMPONENT_VERSION,n(t)}}))}catch(e){i(new a.CometChatException(e))}}))},t.getAvailableDeviceArray=function(e){var t=[];try{return e&&0<e.length&&e.map((function(e){t.push(new c.MediaDevice(e.deviceId,e.label,e.active))})),t}catch(e){return o.Logger.error("CallController: getAvailableDeviceArray",e),t}},t.getAvailableDeviceObject=function(e){var n=[],i=[],a=[];try{return o.isFalsy(e)||o.isFalsy(e[r.CallConstants.AUDIO_INPUT_DEVICES])||(n=t.getAvailableDeviceArray(e[r.CallConstants.AUDIO_INPUT_DEVICES])),o.isFalsy(e)||o.isFalsy(e[r.CallConstants.AUDIO_OUTPUT_DEVICES])||(i=t.getAvailableDeviceArray(e[r.CallConstants.AUDIO_OUTPUT_DEVICES])),o.isFalsy(e)||o.isFalsy(e[r.CallConstants.VIDEO_INPUT_DEVICES])||(a=t.getAvailableDeviceArray(e[r.CallConstants.VIDEO_INPUT_DEVICES])),{audioInputDevices:n,audioOutputDevices:i,videoInputDevices:a}}catch(e){return o.Logger.error("CallController: getAvailableDeviceObject",e),{audioInputDevices:n,audioOutputDevices:i,videoInputDevices:a}}},t.prototype.getAudioInputDevices=function(){var n=[];try{return o.isFalsy(t.deviceList)||o.isFalsy(t.deviceList[r.CallConstants.AUDIO_INPUT_DEVICES])||(n=t.getAvailableDeviceArray(t.deviceList[r.CallConstants.AUDIO_INPUT_DEVICES])),n}catch(e){return o.Logger.error("CallController: getAudioInputDevices",e),n}},t.prototype.getAudioOutputDevices=function(){var n=[];try{return o.isFalsy(t.deviceList)||o.isFalsy(t.deviceList[r.CallConstants.AUDIO_OUTPUT_DEVICES])||(n=t.getAvailableDeviceArray(t.deviceList[r.CallConstants.AUDIO_OUTPUT_DEVICES])),n}catch(e){return o.Logger.error("CallController: getAudioOutputDevices",e),n}},t.prototype.getVideoInputDevices=function(){var n=[];try{return o.isFalsy(t.deviceList)||o.isFalsy(t.deviceList[r.CallConstants.VIDEO_INPUT_DEVICES])||(n=t.getAvailableDeviceArray(t.deviceList[r.CallConstants.VIDEO_INPUT_DEVICES])),n}catch(e){return o.Logger.error("CallController: getVideoInputDevices",e),n}},t.prototype.setAudioInputDevice=function(e){try{if(t.callScreen&&!o.isFalsy(e)){var n=t.getAvailableDeviceArray(t.deviceList[r.CallConstants.AUDIO_INPUT_DEVICES]).filter((function(t){return t[r.CallConstants.MEDIA_DEVICE.ID]===e&&!t[r.CallConstants.MEDIA_DEVICE.ACTIVE]}));n&&0<n.length&&t.callScreen.contentWindow.postMessage({type:r.CallConstants.POST_MESSAGES.TYPES.ACTION_MESSAGE,action:r.CallConstants.POST_MESSAGES.ACTIONS.CHANGE_AUDIO_INPUT,value:e},"*")}}catch(n){o.Logger.error("CallController: setAudioInputDevice",n)}},t.prototype.setAudioOutputDevice=function(e){try{if(t.callScreen&&!o.isFalsy(e)){var n=t.getAvailableDeviceArray(t.deviceList[r.CallConstants.AUDIO_OUTPUT_DEVICES]).filter((function(t){return t[r.CallConstants.MEDIA_DEVICE.ID]===e&&!t[r.CallConstants.MEDIA_DEVICE.ACTIVE]}));n&&0<n.length&&t.callScreen.contentWindow.postMessage({type:r.CallConstants.POST_MESSAGES.TYPES.ACTION_MESSAGE,action:r.CallConstants.POST_MESSAGES.ACTIONS.CHANGE_AUDIO_OUTPUT,value:e},"*")}}catch(n){o.Logger.error("CallController: setAudioOutputDevice",n)}},t.prototype.setVideoInputDevice=function(e){try{if(t.callScreen&&!o.isFalsy(e)){var n=t.getAvailableDeviceArray(t.deviceList[r.CallConstants.VIDEO_INPUT_DEVICES]).filter((function(t){return t[r.CallConstants.MEDIA_DEVICE.ID]===e&&!t[r.CallConstants.MEDIA_DEVICE.ACTIVE]}));n&&0<n.length&&t.callScreen.contentWindow.postMessage({type:r.CallConstants.POST_MESSAGES.TYPES.ACTION_MESSAGE,action:r.CallConstants.POST_MESSAGES.ACTIONS.CHANGE_VIDEO_INPUT,value:e},"*")}}catch(n){o.Logger.error("CallController: setVideoInputDevice",n)}},t.prototype.muteAudio=function(e){try{t.callScreen&&(e?t.callScreen.contentWindow.postMessage({type:r.CallConstants.POST_MESSAGES.TYPES.ACTION_MESSAGE,action:r.CallConstants.POST_MESSAGES.ACTIONS.MUTE_AUDIO},"*"):t.callScreen.contentWindow.postMessage({type:r.CallConstants.POST_MESSAGES.TYPES.ACTION_MESSAGE,action:r.CallConstants.POST_MESSAGES.ACTIONS.UNMUTE_AUDIO},"*"))}catch(e){o.Logger.error("CallController: muteAudio",e)}},t.prototype.pauseVideo=function(e){try{t.callScreen&&(e?t.callScreen.contentWindow.postMessage({type:r.CallConstants.POST_MESSAGES.TYPES.ACTION_MESSAGE,action:r.CallConstants.POST_MESSAGES.ACTIONS.PAUSE_VIDEO},"*"):t.callScreen.contentWindow.postMessage({type:r.CallConstants.POST_MESSAGES.TYPES.ACTION_MESSAGE,action:r.CallConstants.POST_MESSAGES.ACTIONS.UNPAUSE_VIDEO},"*"))}catch(e){o.Logger.error("CallController: pauseVideo",e)}},t.prototype.setMode=function(e){try{t.callScreen&&!o.isFalsy(e)&&(e=e.toUpperCase(),-1<Object.values(r.CallConstants.CALL_MODE).indexOf(e)&&e!=r.CallConstants.CALL_MODE.SINGLE&&t.callScreen.contentWindow.postMessage({type:r.CallConstants.POST_MESSAGES.TYPES.ACTION_MESSAGE,action:r.CallConstants.POST_MESSAGES.ACTIONS.SWITCH_MODE,value:e},"*"))}catch(e){o.Logger.error("CallController: setMode",e)}},t.prototype.startScreenShare=function(){try{t.callScreen&&t.callScreen.contentWindow.postMessage({type:r.CallConstants.POST_MESSAGES.TYPES.ACTION_MESSAGE,action:r.CallConstants.POST_MESSAGES.ACTIONS.START_SCREENSHARE},"*")}catch(e){o.Logger.error("CallController: startScreenShare",e)}},t.prototype.stopScreenShare=function(){try{t.callScreen&&t.callScreen.contentWindow.postMessage({type:r.CallConstants.POST_MESSAGES.TYPES.ACTION_MESSAGE,action:r.CallConstants.POST_MESSAGES.ACTIONS.STOP_SCREENSHARE},"*")}catch(e){o.Logger.error("CallController: stopScreenShare",e)}},t.prototype.startRecording=function(){try{t.callScreen&&t.callScreen.contentWindow.postMessage({type:r.CallConstants.POST_MESSAGES.TYPES.ACTION_MESSAGE,action:r.CallConstants.POST_MESSAGES.ACTIONS.START_RECORDING},"*")}catch(e){o.Logger.error("CallController: startRecording",e)}},t.prototype.stopRecording=function(){try{t.callScreen&&t.callScreen.contentWindow.postMessage({type:r.CallConstants.POST_MESSAGES.TYPES.ACTION_MESSAGE,action:r.CallConstants.POST_MESSAGES.ACTIONS.STOP_RECORDING},"*")}catch(e){o.Logger.error("CallController: stopRecording",e)}},t.prototype.endSession=function(){try{t.callScreen&&t.callScreen.contentWindow.postMessage({type:r.CallConstants.POST_MESSAGES.TYPES.ACTION_MESSAGE,action:r.CallConstants.POST_MESSAGES.ACTIONS.END_CALL},"*")}catch(e){o.Logger.error("CallController: endSession",e)}},t.callController=void 0,t.callListner=void 0,t}();t.CallController=d},function(e,t,n){"use strict";t.__esModule=!0,t.MediaDevice=void 0;var r=n(0),o=function(){function e(e,t,n){this.id="",this.name="",this.active=!1,r.isFalsy(e)||(this.id=e),r.isFalsy(t)||(this.name=t),this.active=!!n}return e.prototype.getId=function(){return this.id},e.prototype.setId=function(e){this.id=e||""},e.prototype.getName=function(){return this.name},e.prototype.setName=function(e){this.name=e||""},e.prototype.getIsActive=function(){return this.active},e.prototype.setIsActive=function(e){this.active=!!e},e}();t.MediaDevice=o},function(e,t,n){"use strict";t.__esModule=!0,t.GroupMembersController=void 0;var r=n(34),o=n(1),i=n(0),a=function(){function e(){}return e.trasformJSONGroupMember=function(e){var t;try{return e.status&&"offline"!==e.status?e.status="online":e.status="offline",t=new r.GroupMember(e[o.GroupMemersConstans.KEYS.UID]),Object.assign(t,e),t}catch(t){return i.Logger.error("GroupMembersController:trasformJSONGroupMember",{e:t,groupMember:e}),e}},e}();t.GroupMembersController=a},function(e,t,n){"use strict";var r,o=this&&this.__extends||(r=function(e,t){return(r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])})(e,t)},function(e,t){function n(){this.constructor=e}r(e,t),e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)});t.__esModule=!0,t.GroupMember=void 0;var i=n(4),a=n(1),s=function(e){function t(t,n){var r=e.call(this,t)||this;return r.joinedAt=0,n&&(r.scope=n),r}return o(t,e),t.prototype.setScope=function(e){this.scope=e},t.prototype.setJoinedAt=function(e){this.joinedAt=e},t.prototype.setGuid=function(e){this.guid=e},t.prototype.getScope=function(){return this.scope},t.prototype.getJoinedAt=function(){return this.joinedAt},t.prototype.getGuid=function(){return this.guid},t.GroupMemberScope=a.GroupMemberScope,t}(i.User);t.GroupMember=s},function(e,t,n){"use strict";t.__esModule=!0,t.Conversation=void 0;var r=n(10),o=n(1),i=n(11),a=n(15),s=function(){function e(e,t,n,s,u,c){this.conversationId=e,this.conversationType=t,this.tags=c,void 0!==n&&void 0!==(this.lastMessage=n).id&&(this.lastMessage=r.MessageController.trasformJSONMessge(n)),this.conversationType==o.MessageConstatnts.RECEIVER_TYPE.USER?this.conversationWith=i.UsersController.trasformJSONUser(s):this.conversationWith=a.GroupsController.trasformJSONGroup(s),this.unreadMessageCount=void 0!==u?u:0}return e.prototype.setConversationId=function(e){this.conversationId=e},e.prototype.setConversationType=function(e){this.conversationType=e},e.prototype.setLastMessage=function(e){this.lastMessage=e},e.prototype.setConversationWith=function(e){this.conversationWith=e},e.prototype.setUnreadMessageCount=function(e){this.unreadMessageCount=e},e.prototype.getConversationId=function(){return this.conversationId},e.prototype.getConversationType=function(){return this.conversationType},e.prototype.getLastMessage=function(){return this.lastMessage},e.prototype.getConversationWith=function(){return this.conversationWith},e.prototype.getUnreadMessageCount=function(){return this.unreadMessageCount},e.prototype.getTags=function(){return this.tags},e}();t.Conversation=s},function(e,t,n){"use strict";t.__esModule=!0,t.TypingNotificationController=void 0;var r=n(0),o=function(){function e(){}return e.addTypingStarted=function(e){this.TYPING_STARTED_MAP[e]=r.getCurrentTime()},e.removeTypingStarted=function(e){delete this.TYPING_STARTED_MAP[e]},e.getTypingStartedMap=function(e){if(e)return this.TYPING_STARTED_MAP[e]},e.addTypingEnded=function(e){this.TYPING_ENDED_MAP[e]=r.getCurrentTime()},e.removeTypingEnded=function(e){delete this.TYPING_ENDED_MAP[e]},e.getTypingEndedMap=function(e){if(e)return this.TYPING_ENDED_MAP[e]},e.addIncomingTypingStarted=function(e){this.INCOMING_TYPING_STARTED_MAP[e.getReceiverId()]={typingNotification:e,timestamp:r.getCurrentTime()}},e.removeIncomingTypingStarted=function(e){delete this.INCOMING_TYPING_STARTED_MAP[e.getReceiverId()]},e.TYPING_STARTED_MAP={},e.TYPING_ENDED_MAP={},e.INCOMING_TYPING_STARTED_MAP={},e}();t.TypingNotificationController=o},function(e,t,n){"use strict";var r=this&&this.__spreadArrays||function(){for(var e=0,t=0,n=arguments.length;t<n;t++)e+=arguments[t].length;var r=Array(e),o=0;for(t=0;t<n;t++)for(var i=arguments[t],a=0,s=i.length;a<s;a++,o++)r[o]=i[a];return r};t.__esModule=!0,t.ListenerHandlers=void 0;var o=n(0),i=n(23),a=function(){function e(){this.connectionHandlers=[],this.loginHandlers=[],this.messageHandlers=[],this.userHandlers=[],this.groupHandlers=[],this.callHandlers=[]}return e.getInstance=function(){return null!=this.listenerHandlers&&null!=this.listenerHandlers||(this.listenerHandlers=new e),this.listenerHandlers},e.prototype.addConnectionEventListener=function(e,t){try{this.connectionHandlers=this.connectionHandlers.filter((function(t){return t._name!=e})),this.connectionHandlers=r(this.connectionHandlers,[new i.WSConnectionListener(e,t)])}catch(t){o.Logger.error("ListenerHandlers: addWSConnectionEventListener",t)}},e.prototype.removeConnectionEventListener=function(t){try{this.connectionHandlers=this.connectionHandlers.filter((function(e){return e._name!==t}))}catch(e){o.Logger.error("ListenerHandlers: removeWSConnectionEventListener",e)}},e.prototype.addLoginEventListener=function(e,t){try{this.loginHandlers=this.loginHandlers.filter((function(t){return t._name!=e})),this.loginHandlers=r(this.loginHandlers,[new i.UserLoginListener(e,t)])}catch(t){o.Logger.error("ListenerHandlers: addLoginEventListener",t)}},e.prototype.removeLoginEventListener=function(t){try{this.loginHandlers=this.loginHandlers.filter((function(e){return e._name!==t}))}catch(e){o.Logger.error("ListenerHandlers: removeLoginEventListener",e)}},e.prototype.addMessageEventListener=function(e,t){try{this.messageHandlers=this.messageHandlers.filter((function(t){return t._name!=e})),this.messageHandlers=r(this.messageHandlers,[new i.MessagesListener(e,t)])}catch(t){o.Logger.error("ListenerHandlers: addMessageEventListener",t)}},e.prototype.removeMessageEventListener=function(t){try{this.messageHandlers=this.messageHandlers.filter((function(e){return e._name!==t}))}catch(e){o.Logger.error("ListenerHandlers: removeMessageEventListener",e)}},e.prototype.addUserEventListener=function(e,t){try{this.userHandlers=this.userHandlers.filter((function(t){return t._name!=e})),this.userHandlers=r(this.userHandlers,[new i.UsersListener(e,t)])}catch(t){o.Logger.error("ListenerHandlers: addUserEventListener",t)}},e.prototype.removeUserEventListener=function(t){try{this.userHandlers=this.userHandlers.filter((function(e){return e._name!==t}))}catch(e){o.Logger.error("ListenerHandlers: removeUserEventListener",e)}},e.prototype.addGroupEventListener=function(e,t){try{this.groupHandlers=this.groupHandlers.filter((function(t){return t._name!=e})),this.groupHandlers=r(this.groupHandlers,[new i.GroupsListener(e,t)])}catch(t){o.Logger.error("ListenerHandlers: addGroupEventListener",t)}},e.prototype.removeGroupEventListener=function(t){try{this.groupHandlers=this.groupHandlers.filter((function(e){return e._name!==t}))}catch(e){o.Logger.error("ListenerHandlers: removeGroupEventListener",e)}},e.prototype.addCallEventListener=function(e,t){try{this.callHandlers=this.callHandlers.filter((function(t){return t._name!=e})),this.callHandlers=r(this.callHandlers,[new i.CallsListener(e,t)])}catch(t){o.Logger.error("ListenerHandlers: addCallEventListener",t)}},e.prototype.removeCallEventListener=function(t){try{this.callHandlers=this.callHandlers.filter((function(e){return e._name!==t}))}catch(e){o.Logger.error("ListenerHandlers: removeCallEventListener",e)}},e.listenerHandlers=new e,e}();t.ListenerHandlers=a},function(e,t,n){"use strict";t.__esModule=!0,t.CometChat=t.init=void 0;var r=n(3);t.init=function(e){return r.CometChat.getInstance(e)},t.CometChat=r.CometChat},function(e,t){var n;n=function(){return this}();try{n=n||new Function("return this")()}catch(e){"object"==typeof window&&(n=window)}e.exports=n},function(e,t,n){"use strict";t.__esModule=!0,t.GroupsRequestBuilder=t.GroupsRequest=void 0;var r=n(6),o=n(0),i=n(2),a=n(15),s=n(1),u=function(){function e(e){this.cursor=-1,this.total=-1,this.next_page=1,this.last_page=-1,this.current_page=1,this.total_pages=-1,this.hasJoined=0,this.withTags=!1,this.pagination={total:0,count:0,per_page:0,current_page:0,total_pages:0,links:[]},o.isFalsy(e)||(o.isFalsy(e.limit)||(this.limit=e.limit),o.isFalsy(e.searchKeyword)||(this.searchKeyword=e.searchKeyword),o.isFalsy(e.hasJoined)||(this.hasJoined=1),o.isFalsy(e.tags)||(this.tags=e.tags),o.isFalsy(e.showTags)||(this.withTags=e.showTags))}return e.prototype.validateGroupBuilder=function(){if(void 0===this.limit)return new i.CometChatException(JSON.parse(o.format(JSON.stringify(s.GENERAL_ERROR.METHOD_COMPULSORY),"SET_LIMIT","SET_LIMIT","Set Limit")));if(isNaN(this.limit))return new i.CometChatException(JSON.parse(o.format(JSON.stringify(s.GENERAL_ERROR.PARAMETER_MUST_BE_A_NUMBER),"SET_LIMIT","SET_LIMIT","setLimit()")));if(this.limit>s.DEFAULT_VALUES.GROUPS_MAX_LIMIT)return new i.CometChatException(JSON.parse(o.format(JSON.stringify(s.GENERAL_ERROR.LIMIT_EXCEEDED),"SET_LIMIT","SET_LIMIT",s.DEFAULT_VALUES.GROUPS_MAX_LIMIT)));if(this.limit<s.DEFAULT_VALUES.ZERO)return new i.CometChatException(JSON.parse(o.format(JSON.stringify(s.GENERAL_ERROR.PARAMETER_MUST_BE_A_POSITIVE_NUMBER),"SET_LIMIT","SET_LIMIT","setLimit()")));if(void 0!==this.searchKeyword){if(typeof this.searchKeyword!==s.COMMON_UTILITY_CONSTANTS.TYPE_CONSTANTS.STRING)return new i.CometChatException(JSON.parse(o.format(JSON.stringify(s.GENERAL_ERROR.PARAMETER_MUST_BE_A_STRING),"SET_SEARCH_KEYWORD","SET_SEARCH_KEYWORD","setSearchKeyword()")));if(o.isFalsy(this.searchKeyword.trim()))return new i.CometChatException(JSON.parse(o.format(JSON.stringify(s.GENERAL_ERROR.INVALID),"SET_SEARCH_KEYWORD","SET_SEARCH_KEYWORD","search keyword","search keyword")));this.searchKeyword=this.searchKeyword.trim()}if(void 0!==this.withTags){if(typeof this.withTags!==s.COMMON_UTILITY_CONSTANTS.TYPE_CONSTANTS.BOOLEAN)return new i.CometChatException(JSON.parse(o.format(JSON.stringify(s.GENERAL_ERROR.PARAMETER_MUST_BE_A_BOOLEAN),"WITH_TAGS","WITH_TAGS","withTags()")));1==this.withTags?this.withTags=!0:this.withTags=!1}return void 0===this.tags||Array.isArray(this.tags)?void 0:new i.CometChatException(JSON.parse(o.format(JSON.stringify(s.GENERAL_ERROR.PARAMETER_MUST_BE_AN_ARRAY),"TAGS","TAGS","setTags()")))},e.prototype.fetchNext=function(){var e=this;return new Promise((function(t,n){try{var o=e.validateGroupBuilder();if(o instanceof i.CometChatException)return void n(o);r.makeApiCall("getGroups",{},e.getNextData()).then((function(n){if(n.meta&&(e.total_pages=n.meta.pagination.total_pages),0<n.data.length){e.pagination=n.meta.pagination;var r=[];n.data.map((function(e,t){r.push(a.GroupsController.trasformJSONGroup(e))})),t(r)}t([])}),(function(e){n(new i.CometChatException(e.error))}))}catch(o){n(new i.CometChatException(o))}}))},e.prototype.getNextData=function(){var e={};if(e.per_page=this.limit,o.isFalsy(this.searchKeyword)||(e.searchKey=this.searchKeyword),o.isFalsy(this.hasJoined)||(e.hasJoined=1),o.isFalsy(this.tags)||(e.tags=this.tags),o.isFalsy(this.withTags)||(e.withTags=1),1==this.current_page)e.page=this.next_page,this.next_page++,this.current_page++;else{if(this.next_page>this.total_pages)return e.page=this.next_page,e;e.page=this.next_page++}return e},e.MAX_LIMIT=100,e.DEFAULT_LIMIT=30,e}();t.GroupsRequest=u;var c=function(){function e(){}return e.prototype.setLimit=function(e){return this.limit=e,this},e.prototype.setSearchKeyword=function(e){return this.searchKeyword=e,this},e.prototype.joinedOnly=function(e){return this.hasJoined=e,this},e.prototype.setTags=function(e){return this.tags=e,this},e.prototype.withTags=function(e){return this.showTags=e,this},e.prototype.build=function(){return new u(this)},e}();t.GroupsRequestBuilder=c},function(e,t,n){"use strict";t.__esModule=!0,t.GroupMembersRequestBuilder=t.GroupMembersRequest=void 0;var r=n(6),o=n(0),i=n(12),a=n(2),s=n(33),u=n(1),c=function(){function e(e){this.cursor=-1,this.total=-1,this.next_page=1,this.last_page=-1,this.current_page=1,this.total_pages=-1,this.pagination={total:0,count:0,per_page:0,current_page:0,total_pages:0,links:[]},this.store=i.LocalStorage.getInstance(),o.isFalsy(e)||(this.limit=e.limit,this.guid=e.guid,o.isFalsy(e.searchKeyword)||(this.searchKeyword=e.searchKeyword),o.isFalsy(e.scopes)||(this.scopes=e.scopes))}return e.prototype.validateGroupMembersBuilder=function(){if(void 0===this.limit)return new a.CometChatException(JSON.parse(o.format(JSON.stringify(u.GENERAL_ERROR.METHOD_COMPULSORY),"SET_LIMIT","SET_LIMIT","Set Limit")));if(isNaN(this.limit))return new a.CometChatException(JSON.parse(o.format(JSON.stringify(u.GENERAL_ERROR.PARAMETER_MUST_BE_A_NUMBER),"SET_LIMIT","SET_LIMIT","setLimit()")));if(this.limit>u.DEFAULT_VALUES.USERS_MAX_LIMIT)return new a.CometChatException(JSON.parse(o.format(JSON.stringify(u.GENERAL_ERROR.LIMIT_EXCEEDED),"SET_LIMIT","SET_LIMIT",u.DEFAULT_VALUES.USERS_MAX_LIMIT)));if(this.limit<u.DEFAULT_VALUES.ZERO)return new a.CometChatException(JSON.parse(o.format(JSON.stringify(u.GENERAL_ERROR.PARAMETER_MUST_BE_A_POSITIVE_NUMBER),"SET_LIMIT","SET_LIMIT","setLimit()")));if(void 0!==this.searchKeyword){if(typeof this.searchKeyword!==u.COMMON_UTILITY_CONSTANTS.TYPE_CONSTANTS.STRING)return new a.CometChatException(JSON.parse(o.format(JSON.stringify(u.GENERAL_ERROR.PARAMETER_MUST_BE_A_STRING),"SET_SEARCH_KEYWORD","SET_SEARCH_KEYWORD","setSearchKeyword()")));if(o.isFalsy(this.searchKeyword.trim()))return new a.CometChatException(JSON.parse(o.format(JSON.stringify(u.GENERAL_ERROR.INVALID),"SET_SEARCH_KEYWORD","SET_SEARCH_KEYWORD","search keyword","search keyword")));this.searchKeyword=this.searchKeyword.trim()}if(void 0!==this.guid){if(typeof this.guid!==u.COMMON_UTILITY_CONSTANTS.TYPE_CONSTANTS.STRING)return new a.CometChatException(JSON.parse(o.format(JSON.stringify(u.GENERAL_ERROR.PARAMETER_MUST_BE_A_STRING),"GUID","GUID","GroupMembersRequestBuilder()")));if(o.isFalsy(this.guid))return new a.CometChatException(JSON.parse(o.format(JSON.stringify(u.GENERAL_ERROR.INVALID),"GUID","GUID","GUID","GUID")))}return void 0===this.scopes||Array.isArray(this.scopes)?void 0:new a.CometChatException(JSON.parse(o.format(JSON.stringify(u.GENERAL_ERROR.PARAMETER_MUST_BE_AN_ARRAY),"SET_SCOPES","SET_SCOPES","setScopes()")))},e.prototype.fetchNext=function(){var e=this;return new Promise((function(t,n){try{var o=e.validateGroupMembersBuilder();if(o instanceof a.CometChatException)return void n(o);r.makeApiCall("getGroupMembers",{guid:e.guid},e.getNextData()).then((function(n){if(n.meta&&(e.total_pages=n.meta.pagination.total_pages),0<n.data.length){e.pagination=n.meta.pagination;var r=[];n.data.map((function(t){t.guid=e.guid,r.push(s.GroupMembersController.trasformJSONGroupMember(t))})),t(r)}else t([])}),(function(e){n(new a.CometChatException(e.error))}))}catch(o){n(new a.CometChatException(o))}}))},e.prototype.getNextData=function(){var e={};if(e.per_page=this.limit,o.isFalsy(this.searchKeyword)||(e.searchKey=this.searchKeyword),o.isFalsy(this.scopes)||(e.scopes=this.scopes),1==this.current_page)e.page=this.next_page,this.next_page++,this.current_page++;else{if(this.next_page>this.total_pages)return e.page=this.next_page,e;e.page=this.next_page++}return e},e.MAX_LIMIT=2,e.DEFAULT_LIMIT=1,e}();t.GroupMembersRequest=c;var l=function(){function e(e){this.guid=e}return e.prototype.setLimit=function(e){return this.limit=e,this},e.prototype.setSearchKeyword=function(e){return this.searchKeyword=e,this},e.prototype.setScopes=function(e){return this.scopes=e,this},e.prototype.build=function(){return new c(this)},e}();t.GroupMembersRequestBuilder=l},function(e,t,n){"use strict";t.__esModule=!0,t.BannedMembersRequestBuilder=t.BannedMembersRequest=void 0;var r=n(6),o=n(0),i=n(2),a=n(33),s=n(1),u=function(){function e(e){this.cursor=-1,this.total=-1,this.next_page=1,this.last_page=-1,this.current_page=1,this.total_pages=-1,this.pagination={total:0,count:0,per_page:0,current_page:0,total_pages:0,links:[]},o.isFalsy(e)||(this.limit=e.limit,this.guid=e.guid,o.isFalsy(e.searchKeyword)||(this.searchKeyword=e.searchKeyword),o.isFalsy(e.scopes)||(this.scopes=e.scopes))}return e.prototype.validateBannedMembersBuilder=function(){if(void 0===this.limit)return new i.CometChatException(JSON.parse(o.format(JSON.stringify(s.GENERAL_ERROR.METHOD_COMPULSORY),"SET_LIMIT","SET_LIMIT","Set Limit")));if(isNaN(this.limit))return new i.CometChatException(JSON.parse(o.format(JSON.stringify(s.GENERAL_ERROR.PARAMETER_MUST_BE_A_NUMBER),"SET_LIMIT","SET_LIMIT","setLimit()")));if(this.limit>s.DEFAULT_VALUES.USERS_MAX_LIMIT)return new i.CometChatException(JSON.parse(o.format(JSON.stringify(s.GENERAL_ERROR.LIMIT_EXCEEDED),"SET_LIMIT","SET_LIMIT",s.DEFAULT_VALUES.USERS_MAX_LIMIT)));if(this.limit<s.DEFAULT_VALUES.ZERO)return new i.CometChatException(JSON.parse(o.format(JSON.stringify(s.GENERAL_ERROR.PARAMETER_MUST_BE_A_POSITIVE_NUMBER),"SET_LIMIT","SET_LIMIT","setLimit()")));if(void 0!==this.searchKeyword){if(typeof this.searchKeyword!==s.COMMON_UTILITY_CONSTANTS.TYPE_CONSTANTS.STRING)return new i.CometChatException(JSON.parse(o.format(JSON.stringify(s.GENERAL_ERROR.PARAMETER_MUST_BE_A_STRING),"SET_SEARCH_KEYWORD","SET_SEARCH_KEYWORD","setSearchKeyword()")));if(o.isFalsy(this.searchKeyword.trim()))return new i.CometChatException(JSON.parse(o.format(JSON.stringify(s.GENERAL_ERROR.INVALID),"SET_SEARCH_KEYWORD","SET_SEARCH_KEYWORD","search keyword","search keyword")));this.searchKeyword=this.searchKeyword.trim()}if(void 0!==this.guid){if(typeof this.guid!==s.COMMON_UTILITY_CONSTANTS.TYPE_CONSTANTS.STRING)return new i.CometChatException(JSON.parse(o.format(JSON.stringify(s.GENERAL_ERROR.PARAMETER_MUST_BE_A_STRING),"GUID","GUID","GroupMembersRequestBuilder()")));if(o.isFalsy(this.guid))return new i.CometChatException(JSON.parse(o.format(JSON.stringify(s.GENERAL_ERROR.INVALID),"GUID","GUID","GUID","GUID")))}return void 0===this.scopes||Array.isArray(this.scopes)?void 0:new i.CometChatException(JSON.parse(o.format(JSON.stringify(s.GENERAL_ERROR.PARAMETER_MUST_BE_AN_ARRAY),"SET_SCOPES","SET_SCOPES","setScopes()")))},e.prototype.fetchNext=function(){var e=this;return new Promise((function(t,n){try{var o=e.validateBannedMembersBuilder();if(o instanceof i.CometChatException)return void n(o);r.makeApiCall("getBannedGroupMembers",{guid:e.guid},e.getNextData()).then((function(n){if(n.meta&&(e.total_pages=n.meta.pagination.total_pages),0<n.data.length){e.pagination=n.meta.pagination;var r=[];n.data.map((function(t){t.guid=e.guid,r.push(a.GroupMembersController.trasformJSONGroupMember(t))})),t(r)}else t([])}),(function(e){n(new i.CometChatException(e.error))}))}catch(o){n(new i.CometChatException(o))}}))},e.prototype.getNextData=function(){var e={};if(e.per_page=this.limit,o.isFalsy(this.searchKeyword)||(e.searchKey=this.searchKeyword),o.isFalsy(this.scopes)||(e.scopes=this.scopes),1==this.current_page)e.page=this.next_page,this.next_page++,this.current_page++;else{if(this.next_page>this.total_pages)return e.page=this.next_page,e;e.page=this.next_page++}return e},e.MAX_LIMIT=2,e.DEFAULT_LIMIT=1,e}();t.BannedMembersRequest=u;var c=function(){function e(e){this.guid=e}return e.prototype.setLimit=function(e){return this.limit=e,this},e.prototype.setSearchKeyword=function(e){return this.searchKeyword=e,this},e.prototype.setScopes=function(e){return this.scopes=e,this},e.prototype.build=function(){return new u(this)},e}();t.BannedMembersRequestBuilder=c},function(e,t,n){"use strict";t.__esModule=!0,t.UsersRequestBuilder=t.UsersRequest=void 0;var r=n(6),o=n(0),i=n(11),a=n(2),s=n(44),u=n(1),c=function(){function e(t){this.next_page=1,this.current_page=1,this.total_pages=-1,this.hideBlockedUsers=!1,this.friendsOnly=!1,this.fetchingInProgress=!1,this.withTags=!1,this.pagination={total:0,count:0,per_page:0,current_page:0,total_pages:0,links:[]},e.userStore=s.UserStore.getInstance(),o.isFalsy(t)||(this.limit=t.limit,o.isFalsy(t.searchKeyword)||(this.searchKeyword=t.searchKeyword),o.isFalsy(t.status)||(t.status==e.USER_STATUS.ONLINE?this.status=u.PresenceConstatnts.STATUS.AVAILABLE:this.status=t.status),o.isFalsy(t.shouldHideBlockedUsers)||(this.hideBlockedUsers=t.shouldHideBlockedUsers),o.isFalsy(t.showFriendsOnly)||(this.friendsOnly=t.showFriendsOnly),o.isFalsy(t.showTags)||(this.withTags=t.showTags),o.isFalsy(t.role)||(this.role=t.role),o.isFalsy(t.roles)||(this.roles=t.roles),o.isFalsy(t.tags)||(this.tags=t.tags),o.isFalsy(t.UIDs)||(this.UIDs=t.UIDs))}return e.prototype.validateUserBuilder=function(){if(void 0===this.limit)return new a.CometChatException(JSON.parse(o.format(JSON.stringify(u.GENERAL_ERROR.METHOD_COMPULSORY),"SET_LIMIT","SET_LIMIT","Set Limit")));if(isNaN(this.limit))return new a.CometChatException(JSON.parse(o.format(JSON.stringify(u.GENERAL_ERROR.PARAMETER_MUST_BE_A_NUMBER),"SET_LIMIT","SET_LIMIT","setLimit()")));if(this.limit>u.DEFAULT_VALUES.USERS_MAX_LIMIT)return new a.CometChatException(JSON.parse(o.format(JSON.stringify(u.GENERAL_ERROR.LIMIT_EXCEEDED),"SET_LIMIT","SET_LIMIT",u.DEFAULT_VALUES.USERS_MAX_LIMIT)));if(this.limit<u.DEFAULT_VALUES.ZERO)return new a.CometChatException(JSON.parse(o.format(JSON.stringify(u.GENERAL_ERROR.PARAMETER_MUST_BE_A_POSITIVE_NUMBER),"SET_LIMIT","SET_LIMIT","setLimit()")));if(void 0!==this.searchKeyword){if(typeof this.searchKeyword!==u.COMMON_UTILITY_CONSTANTS.TYPE_CONSTANTS.STRING)return new a.CometChatException(JSON.parse(o.format(JSON.stringify(u.GENERAL_ERROR.PARAMETER_MUST_BE_A_STRING),"SET_SEARCH_KEYWORD","SET_SEARCH_KEYWORD","setSearchKeyword()")));if(o.isFalsy(this.searchKeyword.trim()))return new a.CometChatException(JSON.parse(o.format(JSON.stringify(u.GENERAL_ERROR.INVALID),"SET_SEARCH_KEYWORD","SET_SEARCH_KEYWORD","search keyword","search keyword")));this.searchKeyword=this.searchKeyword.trim()}if(this.status){if(typeof this.status!==u.COMMON_UTILITY_CONSTANTS.TYPE_CONSTANTS.STRING)return new a.CometChatException(JSON.parse(o.format(JSON.stringify(u.GENERAL_ERROR.PARAMETER_MUST_BE_A_STRING),"SET_STATUS","SET_STATUS","setStatus()")));if("available"!=this.status.toLowerCase()&&"offline"!=this.status.toLowerCase())return new a.CometChatException(u.UserErrors.INVALID_STATUS)}if(void 0!==this.hideBlockedUsers){if(typeof this.hideBlockedUsers!==u.COMMON_UTILITY_CONSTANTS.TYPE_CONSTANTS.BOOLEAN)return new a.CometChatException(JSON.parse(o.format(JSON.stringify(u.GENERAL_ERROR.PARAMETER_MUST_BE_A_BOOLEAN),"HIDE_BLOCKED_USERS","HIDE_BLOCKED_USERS","hideBlockedUsers()")));1==this.hideBlockedUsers?this.hideBlockedUsers=!0:this.hideBlockedUsers=!1}if(void 0!==this.friendsOnly){if(typeof this.friendsOnly!==u.COMMON_UTILITY_CONSTANTS.TYPE_CONSTANTS.BOOLEAN)return new a.CometChatException(JSON.parse(o.format(JSON.stringify(u.GENERAL_ERROR.PARAMETER_MUST_BE_A_BOOLEAN),"FRIENDS_ONLY","FRIENDS_ONLY","friendsOnly()")));1==this.friendsOnly?this.friendsOnly=!0:this.friendsOnly=!1}if(void 0!==this.withTags){if(typeof this.withTags!==u.COMMON_UTILITY_CONSTANTS.TYPE_CONSTANTS.BOOLEAN)return new a.CometChatException(JSON.parse(o.format(JSON.stringify(u.GENERAL_ERROR.MUST_BE_A_BOOLEAN),"WITH_TAGS","WITH_TAGS","withTags()")));1==this.withTags?this.withTags=!0:this.withTags=!1}return void 0===this.roles||Array.isArray(this.roles)?void 0===this.tags||Array.isArray(this.tags)?void 0===this.UIDs||Array.isArray(this.UIDs)?void 0:new a.CometChatException(JSON.parse(o.format(JSON.stringify(u.GENERAL_ERROR.PARAMETER_MUST_BE_AN_ARRAY),"UIDs","UIDs","setUIDs()"))):new a.CometChatException(JSON.parse(o.format(JSON.stringify(u.GENERAL_ERROR.PARAMETER_MUST_BE_AN_ARRAY),"TAGS","TAGS","setTags()"))):new a.CometChatException(JSON.parse(o.format(JSON.stringify(u.GENERAL_ERROR.PARAMETER_MUST_BE_AN_ARRAY),"ROLES","ROLES","setRoles()")))},e.prototype.fetchNext=function(){var e=this;return new Promise((function(t,n){try{if(e.fetchingInProgress)e.fetchingInProgress=!1,t([]);else{e.fetchingInProgress=!0;var o=e.validateUserBuilder();if(o instanceof a.CometChatException)return void n(o);r.makeApiCall("users",{},e.getNextData()).then((function(n){if(n.meta&&(e.total_pages=n.meta.pagination.total_pages),0<n.data.length){e.pagination=n.meta.pagination;var r=[];n.data.map((function(e){r.push(i.UsersController.trasformJSONUser(e))})),t(r)}else t([]);e.fetchingInProgress=!1}),(function(t){e.fetchingInProgress=!1,n(new a.CometChatException(t.error))}))}}catch(o){e.fetchingInProgress=!1,n(new a.CometChatException(o))}}))},e.prototype.getNextData=function(){var e={};if(e.per_page=this.limit,o.isFalsy(this.searchKeyword)||(e.searchKey=this.searchKeyword),o.isFalsy(this.status)||(e.status=this.status),o.isFalsy(this.hideBlockedUsers)||(e.hideBlockedUsers=1),o.isFalsy(this.role)||(e.roles=this.role),o.isFalsy(this.roles)||(e.roles=this.roles),o.isFalsy(this.tags)||(e.tags=this.tags),o.isFalsy(this.friendsOnly)||(e.friendsOnly=1),o.isFalsy(this.withTags)||(e.withTags=1),o.isFalsy(this.UIDs)||(e.uids=this.UIDs),1==this.current_page)e.page=this.next_page,this.next_page++,this.current_page++;else{if(this.next_page>this.total_pages)return e.page=this.next_page,e;e.page=this.next_page++}return e},e.USER_STATUS={ONLINE:u.PresenceConstatnts.STATUS.ONLINE,OFFLINE:u.PresenceConstatnts.STATUS.OFFLINE},e}();t.UsersRequest=c;var l=function(){function e(){this.shouldHideBlockedUsers=!1}return e.prototype.setLimit=function(e){return this.limit=e,this},e.prototype.setStatus=function(e){return this.status=e,this},e.prototype.setSearchKeyword=function(e){return this.searchKeyword=e,this},e.prototype.hideBlockedUsers=function(e){return this.shouldHideBlockedUsers=e,this},e.prototype.setRole=function(e){return this.role=e,this},e.prototype.setRoles=function(e){return this.roles=e,this},e.prototype.friendsOnly=function(e){return this.showFriendsOnly=e,this},e.prototype.setTags=function(e){return this.tags=e,this},e.prototype.withTags=function(e){return this.showTags=e,this},e.prototype.setUIDs=function(e){return this.UIDs=e,this},e.prototype.build=function(){return this.role&&this.roles&&this.roles.push(this.role),new c(this)},e}();t.UsersRequestBuilder=l},function(e,t,n){"use strict";t.__esModule=!0,t.UserStore=void 0;var r=n(3),o=n(0),i=n(1),a=n(13),s=function(){function e(e){this.store=i.constants.DEFAULT_STORE,o.isFalsy(e)||(this.store=e),this.userStore=a.createInstance({name:o.format(i.LOCAL_STORE.STORE_STRING,r.CometChat.getAppId(),i.LOCAL_STORE.USERS_STORE)}),this.userStore.setDriver([a.LOCALSTORAGE,a.INDEXEDDB,a.WEBSQL])}return e.getInstance=function(){return null==e.UserStore&&(e.UserStore=new e),e.UserStore},e.prototype.set=function(e,t){return this.userStore.setItem(e,t)},e.prototype.remove=function(e){this.userStore.removeItem(e)},e.prototype.get=function(e){return this.userStore.getItem(e)},e.prototype.clearStore=function(){var e=this;return new Promise((function(t,n){e.userStore.clear().then((function(){t(!0)})).catch((function(e){n(e)}))}))},e.prototype.clear=function(e){},e.prototype.selectStore=function(e){this.store=e},e.prototype.storeUsers=function(e){var t=this;return e.map((function(e){t.set(e.getUid(),e)})),!0},e.prototype.storeUser=function(e){return this.set(e.getUid(),e),!0},e}();t.UserStore=s},function(e,t,n){"use strict";t.__esModule=!0,t.ConversationsRequestBuilder=t.ConversationsRequest=void 0;var r=n(6),o=n(0),i=n(2),a=n(24),s=n(1),u=function(){function e(e){this.limit=100,this.next_page=1,this.current_page=1,this.total_pages=-1,this.fetchingInProgress=!1,this.getUserAndGroupTags=!1,this.withTags=!1,this.pagination={total:0,count:0,per_page:0,current_page:0,total_pages:0,links:[]},o.isFalsy(e)||(this.limit=e.limit,o.isFalsy(e.conversationType)||(this.conversationType=e.conversationType),o.isFalsy(e.getUserAndGroupTags)||(this.getUserAndGroupTags=e.getUserAndGroupTags),e.tags&&(this.tags=e.tags),o.isFalsy(e.WithTags)||(this.withTags=e.WithTags))}return e.prototype.validateConversationBuilder=function(){return void 0===this.limit?new i.CometChatException(JSON.parse(o.format(JSON.stringify(s.GENERAL_ERROR.METHOD_COMPULSORY),"SET_LIMIT","SET_LIMIT","Set Limit"))):isNaN(this.limit)?new i.CometChatException(JSON.parse(o.format(JSON.stringify(s.GENERAL_ERROR.PARAMETER_MUST_BE_A_NUMBER),"SET_LIMIT","SET_LIMIT","setLimit()"))):this.limit>s.DEFAULT_VALUES.CONVERSATION_MAX_LIMIT?new i.CometChatException(JSON.parse(o.format(JSON.stringify(s.GENERAL_ERROR.LIMIT_EXCEEDED),"SET_LIMIT","SET_LIMIT",s.DEFAULT_VALUES.CONVERSATION_MAX_LIMIT))):this.limit<s.DEFAULT_VALUES.ZERO?new i.CometChatException(JSON.parse(o.format(JSON.stringify(s.GENERAL_ERROR.PARAMETER_MUST_BE_A_POSITIVE_NUMBER),"SET_LIMIT","SET_LIMIT","setLimit()"))):void 0},e.prototype.fetchNext=function(){var e=this;return new Promise((function(t,n){try{if(e.fetchingInProgress)e.fetchingInProgress=!1,t([]);else{e.fetchingInProgress=!0;var o=e.validateConversationBuilder();if(o instanceof i.CometChatException)return void n(o);r.makeApiCall("getConversations",{},e.getNextData()).then((function(n){if(n.meta&&(e.total_pages=n.meta.pagination.total_pages),0<n.data.length){e.pagination=n.meta.pagination;var r=[];n.data.map((function(e){r.push(a.ConversationController.trasformJSONConversation(e.conversationId,e.conversationType,e.lastMessage,e.conversationWith,parseInt(e.unreadMessageCount),e.tags?e.tags:[]))})),t(r)}else t([]);e.fetchingInProgress=!1}),(function(t){e.fetchingInProgress=!1,n(new i.CometChatException(t.error))}))}}catch(o){e.fetchingInProgress=!1,n(new i.CometChatException(o))}}))},e.prototype.getNextData=function(){var e={};if(e.per_page=this.limit,o.isFalsy(this.conversationType)||(e.conversationType=this.conversationType),o.isFalsy(this.getUserAndGroupTags)||(e.withUserAndGroupTags=this.getUserAndGroupTags),o.isFalsy(this.tags)||(e.tags=this.tags),o.isFalsy(this.withTags)||(e.withTags=this.withTags),1==this.current_page)e.page=this.next_page,this.next_page++,this.current_page++;else{if(this.next_page>this.total_pages)return e.page=this.next_page,e;e.page=this.next_page++}return e},e}();t.ConversationsRequest=u;var c=function(){function e(){this.WithTags=!1}return e.prototype.setLimit=function(e){return this.limit=e,this},e.prototype.setConversationType=function(e){return this.conversationType=e,this},e.prototype.withUserAndGroupTags=function(e){return"boolean"==typeof e&&(this.getUserAndGroupTags=e),this},e.prototype.setTags=function(e){return this.tags=e,this},e.prototype.withTags=function(e){return this.WithTags=e,this},e.prototype.build=function(){return new u(this)},e}();t.ConversationsRequestBuilder=c},function(e,t,n){"use strict";var r=this&&this.__awaiter||function(e,t,n,r){return new(n||(n=Promise))((function(o,i){function a(e){try{u(r.next(e))}catch(e){i(e)}}function s(e){try{u(r.throw(e))}catch(e){i(e)}}function u(e){var t;e.done?o(e.value):(t=e.value,t instanceof n?t:new n((function(e){e(t)}))).then(a,s)}u((r=r.apply(e,t||[])).next())}))},o=this&&this.__generator||function(e,t){var n,r,o,i,a={label:0,sent:function(){if(1&o[0])throw o[1];return o[1]},trys:[],ops:[]};return i={next:s(0),throw:s(1),return:s(2)},"function"==typeof Symbol&&(i[Symbol.iterator]=function(){return this}),i;function s(i){return function(s){return function(i){if(n)throw new TypeError("Generator is already executing.");for(;a;)try{if(n=1,r&&(o=2&i[0]?r.return:i[0]?r.throw||((o=r.return)&&o.call(r),0):r.next)&&!(o=o.call(r,i[1])).done)return o;switch(r=0,o&&(i=[2&i[0],o.value]),i[0]){case 0:case 1:o=i;break;case 4:return a.label++,{value:i[1],done:!1};case 5:a.label++,r=i[1],i=[0];continue;case 7:i=a.ops.pop(),a.trys.pop();continue;default:if(!(o=0<(o=a.trys).length&&o[o.length-1])&&(6===i[0]||2===i[0])){a=0;continue}if(3===i[0]&&(!o||i[1]>o[0]&&i[1]<o[3])){a.label=i[1];break}if(6===i[0]&&a.label<o[1]){a.label=o[1],o=i;break}if(o&&a.label<o[2]){a.label=o[2],a.ops.push(i);break}o[2]&&a.ops.pop(),a.trys.pop();continue}i=t.call(e,a)}catch(s){i=[6,s],r=0}finally{n=o=0}if(5&i[0])throw i[1];return{value:i[0]?i[1]:void 0,done:!0}}([i,s])}}},i=this&&this.__spreadArrays||function(){for(var e=0,t=0,n=arguments.length;t<n;t++)e+=arguments[t].length;var r=Array(e),o=0;for(t=0;t<n;t++)for(var i=arguments[t],a=0,s=i.length;a<s;a++,o++)r[o]=i[a];return r};t.__esModule=!0,t.MessagesRequestBuilder=t.MessagesRequest=void 0;var a=n(2),s=n(6),u=n(10),c=n(0),l=n(47),d=n(1),f=n(14),p=n(25),h=function(){function e(e){this.limit=d.DEFAULT_VALUES.MSGS_LIMIT,this.timestamp=0,this.id=d.DEFAULT_VALUES.DEFAULT_MSG_ID,this.messageStore=l.MessagesStore.getInstance(),this.endpointName="getUserMessages",this.listId="",this.totalPages=0,this.unread=!1,this.inProgress=!1,this.hideMessagesFromBlockedUsers=!1,this.updatedAt=0,this.onlyUpdates=0,this.paginationMeta={},this.WithTags=!1,this.hideDeletedMessages=!1,this.limit=e.limit,this.paginationMeta[d.MessageConstatnts.PAGINATION.KEYS.PER_PAGE]=this.limit,this.uid=e.uid,this.guid=e.guid,this.parentMessageId=e.parentMessageId,this.timestamp=e.timestamp,this.timestamp&&(this.paginationMeta[d.MessageConstatnts.PAGINATION.KEYS.SENT_AT]=this.timestamp),this.id=e.id,this.id!=d.DEFAULT_VALUES.DEFAULT_MSG_ID&&(this.paginationMeta[d.MessageConstatnts.PAGINATION.KEYS.ID]=this.id),this.hideMessagesFromBlockedUsers=e.HideMessagesFromBlockedUsers,this.hideMessagesFromBlockedUsers&&(this.paginationMeta[d.MessageConstatnts.PAGINATION.KEYS.HIDE_MESSAGES_FROM_BLOCKED_USER]=this.hideMessagesFromBlockedUsers),this.unread=e.unread,this.unread&&(this.paginationMeta[d.MessageConstatnts.PAGINATION.KEYS.UNREAD]=this.unread),e.searchKey&&(this.searchKey=e.searchKey,this.paginationMeta[d.MessageConstatnts.PAGINATION.KEYS.SEARCH_KEY]=this.searchKey),e.onlyUpdate&&(this.onlyUpdates=e.onlyUpdate,this.paginationMeta[d.MessageConstatnts.PAGINATION.KEYS.ONLY_UPDATES]=this.onlyUpdates),e.updatedAt&&(this.updatedAt=e.updatedAt,this.paginationMeta[d.MessageConstatnts.PAGINATION.KEYS.UPDATED_AT]=this.updatedAt),e.category&&(this.category=e.category),e.categories&&(this.categories=e.categories),e.type&&(this.type=e.type),e.types&&(this.types=e.types),e.WithTags&&(this.WithTags=e.WithTags),e.tags&&(this.tags=e.tags),e.HideReplies&&(this.hideReplies=e.HideReplies,this.paginationMeta[d.MessageConstatnts.PAGINATION.KEYS.HIDE_REPLIES]=this.hideReplies),this.hideDeletedMessages=e.HideDeletedMessages,this.hideDeletedMessages&&(this.paginationMeta[d.MessageConstatnts.PAGINATION.KEYS.HIDE_DELETED_MESSAGES]=this.hideDeletedMessages)}return e.prototype.fetchNext=function(){var e=this;return new Promise((function(t,n){return r(e,void 0,void 0,(function(){var e,r,i;return o(this,(function(o){switch(o.label){case 0:if(o.trys.push([0,5,,6]),this.inProgress)return this.inProgress=!1,n(new a.CometChatException(f.MESSAGES_REQUEST_ERRORS.REQUEST_IN_PROGRESS_ERROR)),[2];if(this.inProgress=!0,this.onlyUpdates){if(0==this.updatedAt)return this.inProgress=!1,n(new a.CometChatException(f.MESSAGES_REQUEST_ERRORS.NOT_ENOUGH_PARAMS)),[2]}else if(0==this.timestamp&&0==this.id&&0==this.updatedAt)return this.inProgress=!1,n(new a.CometChatException(f.MESSAGES_REQUEST_ERRORS.NOT_ENOUGH_PARAMS)),[2];this.affix=d.MessageConstatnts.PAGINATION.AFFIX.APPEND,this.paginationMeta[d.MessageConstatnts.PAGINATION.KEYS.AFFIX]=this.affix,this.currentMethod=d.MessageConstatnts.PAGINATION.AFFIX.APPEND,o.label=1;case 1:return o.trys.push([1,3,,4]),[4,this.makeAPICall()];case 2:return e=o.sent(),t(e),this.inProgress=!1,[3,4];case 3:return r=o.sent(),this.inProgress=!1,n(new a.CometChatException(r)),[3,4];case 4:return[3,6];case 5:return i=o.sent(),this.inProgress=!1,n(new a.CometChatException(i)),[3,6];case 6:return[2]}}))}))}))},e.prototype.fetchPrevious=function(){var e=this;return new Promise((function(t,n){return r(e,void 0,void 0,(function(){var e,r,i;return o(this,(function(o){switch(o.label){case 0:if(o.trys.push([0,5,,6]),this.inProgress)return n(new a.CometChatException(f.MESSAGES_REQUEST_ERRORS.REQUEST_IN_PROGRESS_ERROR)),this.inProgress=!1,[2];if(this.inProgress=!0,this.onlyUpdates&&0==this.updatedAt)return this.inProgress=!1,n(new a.CometChatException(f.MESSAGES_REQUEST_ERRORS.NOT_ENOUGH_PARAMS)),[2];this.affix=d.MessageConstatnts.PAGINATION.AFFIX.PREPEND,this.paginationMeta[d.MessageConstatnts.PAGINATION.KEYS.AFFIX]=this.affix,this.currentMethod=d.MessageConstatnts.PAGINATION.AFFIX.PREPEND,o.label=1;case 1:return o.trys.push([1,3,,4]),[4,this.makeAPICall()];case 2:return e=o.sent(),t(e),this.inProgress=!1,[3,4];case 3:return r=o.sent(),this.inProgress=!1,n(new a.CometChatException(r)),[3,4];case 4:return[3,6];case 5:return i=o.sent(),this.inProgress=!1,n(new a.CometChatException(i)),[3,6];case 6:return[2]}}))}))}))},e.prototype.makeAPICall=function(){var e=this;return new Promise((function(t,n){try{var i=e.uid;if(void 0!==i){if(typeof i!==d.COMMON_UTILITY_CONSTANTS.TYPE_CONSTANTS.STRING)return void n(new a.CometChatException(JSON.parse(c.format(JSON.stringify(d.GENERAL_ERROR.PARAMETER_MUST_BE_A_STRING),"UID","UID","setUID()"))));if(c.isFalsy(i.trim()))return void n(new a.CometChatException(JSON.parse(c.format(JSON.stringify(d.GENERAL_ERROR.INVALID),"UID","UID","UID","UID"))));e.uid=i.trim()}var l=e.guid;if(void 0!==l){if(typeof l!==d.COMMON_UTILITY_CONSTANTS.TYPE_CONSTANTS.STRING)return void n(new a.CometChatException(JSON.parse(c.format(JSON.stringify(d.GENERAL_ERROR.PARAMETER_MUST_BE_A_STRING),"GUID","GUID","setGUID()"))));if(c.isFalsy(l.trim()))return void n(new a.CometChatException(JSON.parse(c.format(JSON.stringify(d.GENERAL_ERROR.INVALID),"GUID","GUID","GUID","GUID"))));e.guid=l.trim()}var f=e.parentMessageId;if(void 0!==f){if(isNaN(f))return void n(new a.CometChatException(JSON.parse(c.format(JSON.stringify(d.GENERAL_ERROR.PARAMETER_MUST_BE_A_NUMBER),"PARENT_MESSAGE_ID","PARENT_MESSAGE_ID","setParentMessageId()"))));if(f<d.DEFAULT_VALUES.ZERO)return void n(new a.CometChatException(JSON.parse(c.format(JSON.stringify(d.GENERAL_ERROR.PARAMETER_MUST_BE_A_POSITIVE_NUMBER),"PARENT_MESSAGE_ID","PARENT_MESSAGE_ID","setParentMessageId()"))))}var h=e.paginationMeta[d.MessageConstatnts.PAGINATION.KEYS.PER_PAGE];if(void 0===h)return void n(new a.CometChatException(JSON.parse(c.format(JSON.stringify(d.GENERAL_ERROR.METHOD_COMPULSORY),"SET_LIMIT","SET_LIMIT","Set Limit"))));if(isNaN(h))return void n(new a.CometChatException(JSON.parse(c.format(JSON.stringify(d.GENERAL_ERROR.PARAMETER_MUST_BE_A_NUMBER),"SET_LIMIT","SET_LIMIT","setLimit()"))));if(h>d.DEFAULT_VALUES.MSGS_MAX_LIMIT)return void n(new a.CometChatException(JSON.parse(c.format(JSON.stringify(d.GENERAL_ERROR.LIMIT_EXCEEDED),"SET_LIMIT","SET_LIMIT",d.DEFAULT_VALUES.MSGS_MAX_LIMIT))));if(h<d.DEFAULT_VALUES.ZERO)return void n(new a.CometChatException(JSON.parse(c.format(JSON.stringify(d.GENERAL_ERROR.PARAMETER_MUST_BE_A_POSITIVE_NUMBER),"SET_LIMIT","SET_LIMIT","setLimit()"))));var E=e.paginationMeta[d.MessageConstatnts.PAGINATION.KEYS.SEARCH_KEY];if(void 0!==E){if(typeof E!==d.COMMON_UTILITY_CONSTANTS.TYPE_CONSTANTS.STRING)return void n(new a.CometChatException(JSON.parse(c.format(JSON.stringify(d.GENERAL_ERROR.PARAMETER_MUST_BE_A_STRING),"SET_SEARCH_KEYWORD","SET_SEARCH_KEYWORD","setSearchKeyword()"))));if(c.isFalsy(E.trim()))return void n(new a.CometChatException(JSON.parse(c.format(JSON.stringify(d.GENERAL_ERROR.INVALID),"SET_SEARCH_KEYWORD","SET_SEARCH_KEYWORD","search keyword","search keyword"))));e.paginationMeta[d.MessageConstatnts.PAGINATION.KEYS.SEARCH_KEY]=E.trim()}var g=e.paginationMeta[d.MessageConstatnts.PAGINATION.KEYS.ID];if(void 0!==g){if(isNaN(g))return void n(new a.CometChatException(JSON.parse(c.format(JSON.stringify(d.GENERAL_ERROR.PARAMETER_MUST_BE_A_NUMBER),"MESSAGE_ID","MESSAGE_ID","setMessageId()"))));if(g<d.DEFAULT_VALUES.ZERO)return void n(new a.CometChatException(JSON.parse(c.format(JSON.stringify(d.GENERAL_ERROR.PARAMETER_MUST_BE_A_POSITIVE_NUMBER),"MESSAGE_ID","MESSAGE_ID","setMessageId()"))))}var v=e.paginationMeta[d.MessageConstatnts.PAGINATION.KEYS.SENT_AT];if(void 0!==v){if(isNaN(v))return void n(new a.CometChatException(JSON.parse(c.format(JSON.stringify(d.GENERAL_ERROR.PARAMETER_MUST_BE_A_NUMBER),"TIMESTAMP","TIMESTAMP","setTimestamp()"))));if(v<d.DEFAULT_VALUES.ZERO)return void n(new a.CometChatException(JSON.parse(c.format(JSON.stringify(d.GENERAL_ERROR.PARAMETER_MUST_BE_A_POSITIVE_NUMBER),"TIMESTAMP","TIMESTAMP","setTimestamp()"))))}var m=e.hideMessagesFromBlockedUsers;if(void 0!==m){if(typeof m!==d.COMMON_UTILITY_CONSTANTS.TYPE_CONSTANTS.BOOLEAN)return void n(new a.CometChatException(JSON.parse(c.format(JSON.stringify(d.GENERAL_ERROR.PARAMETER_MUST_BE_A_BOOLEAN),"HIDE_MESSAGES_FROM_BLOCKED_USERS","HIDE_MESSAGES_FROM_BLOCKED_USERS","hideMessagesFromBlockedUsers()"))));e.paginationMeta[d.MessageConstatnts.PAGINATION.KEYS.HIDE_MESSAGES_FROM_BLOCKED_USER]=1==m?1:0}var _=e.unread;if(void 0!==_){if(typeof _!==d.COMMON_UTILITY_CONSTANTS.TYPE_CONSTANTS.BOOLEAN)return void n(new a.CometChatException(JSON.parse(c.format(JSON.stringify(d.GENERAL_ERROR.PARAMETER_MUST_BE_A_BOOLEAN),"UNREAD","UNREAD","setUnread()"))));e.paginationMeta[d.MessageConstatnts.PAGINATION.KEYS.UNREAD]=1==_?1:0}var S=e.category;if(void 0!==S){if(typeof S!==d.COMMON_UTILITY_CONSTANTS.TYPE_CONSTANTS.STRING)return void n(new a.CometChatException(JSON.parse(c.format(JSON.stringify(d.GENERAL_ERROR.PARAMETER_MUST_BE_A_STRING),"SET_CATEGORY","SET_CATEGORY","setCategory()"))));if(c.isFalsy(S.trim()))return void n(new a.CometChatException(JSON.parse(c.format(JSON.stringify(d.GENERAL_ERROR.INVALID),"SET_CATEGORY","SET_CATEGORY","category","category"))));e.paginationMeta[d.MessageConstatnts.PAGINATION.KEYS.CATEGORIES]=S.trim()}var y=e.categories;if(void 0!==y){if(!Array.isArray(y))return void n(new a.CometChatException(JSON.parse(c.format(JSON.stringify(d.GENERAL_ERROR.PARAMETER_MUST_BE_AN_ARRAY),"SET_CATEGORIES","SET_CATEGORIES","setCategories()"))));0<y.length&&(e.paginationMeta[d.MessageConstatnts.PAGINATION.KEYS.CATEGORIES]=y)}var C=e.type;if(void 0!==C){if(typeof C!==d.COMMON_UTILITY_CONSTANTS.TYPE_CONSTANTS.STRING)return void n(new a.CometChatException(JSON.parse(c.format(JSON.stringify(d.GENERAL_ERROR.PARAMETER_MUST_BE_A_STRING),"SET_TYPE","SET_TYPE","setType()"))));if(c.isFalsy(C.trim()))return void n(new a.CometChatException(JSON.parse(c.format(JSON.stringify(d.GENERAL_ERROR.INVALID),"SET_TYPE","SET_TYPE","type","type"))));e.paginationMeta[d.MessageConstatnts.PAGINATION.KEYS.TYPES]=C.trim()}var T=e.types;if(void 0!==T){if(!Array.isArray(T))return void n(new a.CometChatException(JSON.parse(c.format(JSON.stringify(d.GENERAL_ERROR.PARAMETER_MUST_BE_AN_ARRAY),"SET_TYPES","SET_TYPES","setTypes()"))));0<T.length&&(e.paginationMeta[d.MessageConstatnts.PAGINATION.KEYS.TYPES]=T)}var I=e.tags;if(void 0!==I){if(!Array.isArray(I))return void n(new a.CometChatException(JSON.parse(c.format(JSON.stringify(d.GENERAL_ERROR.PARAMETER_MUST_BE_AN_ARRAY),"SET_TAGS","SET_TAGS","setTags()"))));0<I.length&&(e.paginationMeta[d.MessageConstatnts.PAGINATION.KEYS.TAGS]=I)}var A=e.WithTags;if(void 0!==A){if(typeof A!==d.COMMON_UTILITY_CONSTANTS.TYPE_CONSTANTS.BOOLEAN)return void n(new a.CometChatException(JSON.parse(c.format(JSON.stringify(d.GENERAL_ERROR.PARAMETER_MUST_BE_A_BOOLEAN),"WITH_TAGS","WITH_TAGS","withTags()"))));e.paginationMeta[d.MessageConstatnts.PAGINATION.KEYS.WITH_TAGS]=1==A?1:0}var R=e.hideDeletedMessages;if(void 0!==R){if(typeof R!==d.COMMON_UTILITY_CONSTANTS.TYPE_CONSTANTS.BOOLEAN)return void n(new a.CometChatException(JSON.parse(c.format(JSON.stringify(d.GENERAL_ERROR.PARAMETER_MUST_BE_A_BOOLEAN),"HIDE_DELETED_MESSAGES","HIDE_DELETED_MESSAGES","hideDeletedMessages()"))));e.paginationMeta[d.MessageConstatnts.PAGINATION.KEYS.HIDE_DELETED_MESSAGES]=1==R?1:0}if(e.createEndpoint(),e.totalPages)if(1!=e.totalPages);else if(e.lastAffix==e.affix)return void t([]);s.makeApiCall(e.endpointName,{listId:e.listId},e.paginationMeta).then((function(n){return r(e,void 0,void 0,(function(){var e,r=this;return o(this,(function(o){return e=[],n[d.ResponseConstants.RESPONSE_KEYS.KEY_META][d.ResponseConstants.RESPONSE_KEYS.KEY_CURSOR].hasOwnProperty(d.MessageConstatnts.PAGINATION.KEYS.ID)&&0==this.id&&(this.id=parseInt(n.meta.cursor[d.MessageConstatnts.PAGINATION.KEYS.ID])),n[d.ResponseConstants.RESPONSE_KEYS.KEY_META][d.ResponseConstants.RESPONSE_KEYS.KEY_CURSOR].hasOwnProperty(d.MessageConstatnts.PAGINATION.KEYS.SENT_AT)&&0==this.timestamp&&(this.timestamp=n.meta.cursor[d.MessageConstatnts.PAGINATION.KEYS.SENT_AT]),n.meta.pagination.hasOwnProperty("total_pages")&&(this.totalPages=n.meta.pagination.total_pages),n.meta.cursor.hasOwnProperty("affix")&&(this.lastAffix=n.meta.cursor.affix),n.data[0]?(0<this.id&&(this.id=parseInt(n.data[0].id)),0<this.timestamp&&(this.timestamp=n.data[0].sentAt),n.data.map((function(t){p.MessageListnerMaping.getInstance().get(d.LOCAL_STORE.KEY_MESSAGE_LISTENER_LIST).then((function(e){parseInt(t.id)>e&&p.MessageListnerMaping.getInstance().set(d.LOCAL_STORE.KEY_MESSAGE_LISTENER_LIST,parseInt(t.id))}),(function(e){p.MessageListnerMaping.getInstance().set(d.LOCAL_STORE.KEY_MESSAGE_LISTENER_LIST,parseInt(t.id))})),r.affix==d.MessageConstatnts.PAGINATION.AFFIX.APPEND?(r.id<parseInt(t.id)&&0<r.id&&(r.id=parseInt(t.id)),r.timestamp<t.sentAt&&0<r.timestamp&&(r.timestamp=t.sentAt),r.updatedAt<t.updatedAt&&0<r.updatedAt&&(r.updatedAt=t.updatedAt)):(r.id>parseInt(t.id)&&(r.id=parseInt(t.id)),r.timestamp>t.sentAt&&(r.timestamp=t.sentAt),r.updatedAt>t.updatedAt&&(r.updatedAt=t.updatedAt)),r.id&&(r.paginationMeta[d.MessageConstatnts.PAGINATION.KEYS.ID]=r.id),r.timestamp&&(r.paginationMeta[d.MessageConstatnts.PAGINATION.KEYS.SENT_AT]=r.timestamp),r.updatedAt&&(r.paginationMeta[d.MessageConstatnts.PAGINATION.KEYS.UPDATED_AT]=r.updatedAt),e.push(u.MessageController.trasformJSONMessge(t))}))):e=[],t(e),[2]}))}))}),(function(e){n(new a.CometChatException(e.error))}))}catch(i){n(new a.CometChatException(i))}}))},e.prototype.createEndpoint=function(){this.parentMessageId?(this.endpointName="getThreadMessages",this.listId=this.parentMessageId.toString(),this.hideReplies&&(this.hideReplies=!1,delete this.paginationMeta[d.MessageConstatnts.PAGINATION.KEYS.HIDE_REPLIES])):(c.isFalsy(this.guid)||c.isFalsy(this.uid))&&c.isFalsy(this.guid)?(c.isFalsy(this.uid)?this.endpointName="getMessages":this.endpointName="getUserMessages",this.listId=this.uid):(this.endpointName="getGroupMessages",this.listId=this.guid)},e.prototype.makeData=function(){var e={};e[d.MessageConstatnts.PAGINATION.KEYS.PER_PAGE]=this.limit,e[d.MessageConstatnts.PAGINATION.KEYS.AFFIX]=this.affix,(c.isFalsy(this.guid)||c.isFalsy(this.uid))&&c.isFalsy(this.guid)&&c.isFalsy(this.uid)},e.prototype.getFilteredPreviousDataByReceiverId=function(e){return r(this,void 0,void 0,(function(){var t,n=this;return o(this,(function(r){switch(r.label){case 0:switch(t=[],e){case"user":return[3,1];case"group":return[3,3];case"both":return[3,5]}return[3,7];case 1:return[4,l.MessagesStore.getInstance().get(this.uid).then((function(e){Object.keys(e).filter((function(e){return parseInt(e)>n.id})).map((function(n){t=i(t,[e[n]])}))}))];case 2:return r.sent(),[3,9];case 3:return[4,l.MessagesStore.getInstance().get(this.guid).then((function(e){Object.keys(e).filter((function(e){return parseInt(e)>n.id})).map((function(n){t=i(t,[e[n]])}))}))];case 4:r.sent(),r.label=5;case 5:return[4,l.MessagesStore.getInstance().get(this.guid).then((function(e){Object.keys(e).filter((function(e){return parseInt(e)>n.id})).filter((function(t){return e[t].sender.uid==n.uid})).map((function(n){t=i(t,[e[n]])}))}))];case 6:return r.sent(),[3,9];case 7:return[4,l.MessagesStore.getInstance().getAllMessages().then((function(e){Object.keys(e).filter((function(e){return parseInt(e)>n.id})).map((function(n){t=i(t,[e[n]])}))}))];case 8:return r.sent(),[3,9];case 9:return[2,t]}}))}))},e.prototype.getFilteredNextDataByReceiverId=function(e){return r(this,void 0,void 0,(function(){var t,n=this;return o(this,(function(r){switch(r.label){case 0:switch(t=[],e){case"user":return[3,1];case"group":return[3,3];case"both":return[3,5]}return[3,7];case 1:return[4,l.MessagesStore.getInstance().get(this.uid).then((function(e){Object.keys(e).filter((function(e){return parseInt(e)>n.id})).map((function(n){t=i(t,[e[n]])}))}))];case 2:return r.sent(),[3,9];case 3:return[4,l.MessagesStore.getInstance().get(this.guid).then((function(e){Object.keys(e).filter((function(e){return parseInt(e)>n.id})).map((function(n){t=i(t,[e[n]])}))}))];case 4:r.sent(),r.label=5;case 5:return[4,l.MessagesStore.getInstance().get(this.guid).then((function(e){Object.keys(e).filter((function(e){return parseInt(e)>n.id})).filter((function(t){return e[t].sender.uid==n.uid})).map((function(n){t=i(t,[e[n]])}))}))];case 6:return r.sent(),[3,9];case 7:return[4,l.MessagesStore.getInstance().getAllMessages().then((function(e){Object.keys(e).filter((function(e){return parseInt(e)>n.id})).map((function(n){t=i(t,[e[n]])}))}))];case 8:return r.sent(),[3,9];case 9:return[2,t]}}))}))},e}();t.MessagesRequest=h;var E=function(){function e(){this.maxLimit=d.DEFAULT_VALUES.MSGS_MAX_LIMIT,this.timestamp=0,this.id=d.DEFAULT_VALUES.DEFAULT_MSG_ID,this.unread=!1,this.HideMessagesFromBlockedUsers=!1,this.onlyUpdate=0,this.HideDeletedMessages=!1,this.WithTags=!1}return e.prototype.setLimit=function(e){return this.limit=e,this},e.prototype.setGUID=function(e){return this.guid=e,this},e.prototype.setUID=function(e){return this.uid=e,this},e.prototype.setParentMessageId=function(e){return this.parentMessageId=e,this},e.prototype.setTimestamp=function(e){return void 0===e&&(e=c.getCurrentTime()),this.timestamp=e,this},e.prototype.setMessageId=function(e){return void 0===e&&(e=d.DEFAULT_VALUES.DEFAULT_MSG_ID),this.id=e,this},e.prototype.setUnread=function(e){return void 0===e&&(e=!1),this.unread=e,this},e.prototype.hideMessagesFromBlockedUsers=function(e){return void 0===e&&(e=!1),this.HideMessagesFromBlockedUsers=e,this},e.prototype.setSearchKeyword=function(e){return this.searchKey=e,this},e.prototype.setUpdatedAfter=function(e){return this.updatedAt=e,this},e.prototype.updatesOnly=function(e){return e&&(this.onlyUpdate=1),this},e.prototype.setCategory=function(e){return this.category=e,this},e.prototype.setCategories=function(e){return this.categories=e,this},e.prototype.setType=function(e){return this.type=e,this},e.prototype.setTypes=function(e){return this.types=e,this},e.prototype.hideReplies=function(e){return this.HideReplies=e,this},e.prototype.hideDeletedMessages=function(e){return this.HideDeletedMessages=e,this},e.prototype.setTags=function(e){return this.tags=e,this},e.prototype.withTags=function(e){return this.WithTags=e,this},e.prototype.build=function(){return this.category&&this.categories&&this.categories.push(this.category),this.type&&this.types&&this.types.push(this.type),new h(this)},e}();t.MessagesRequestBuilder=E},function(e,t,n){"use strict";var r=this&&this.__assign||function(){return(r=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var o in t=arguments[n])Object.prototype.hasOwnProperty.call(t,o)&&(e[o]=t[o]);return e}).apply(this,arguments)};t.__esModule=!0,t.MessagesStore=void 0;var o=n(3),i=n(0),a=n(1),s=n(13),u=function(){function e(e){this.store=a.constants.DEFAULT_STORE,i.isFalsy(e)||(this.store=e),this.messagesStore=s.createInstance({name:i.format(a.LOCAL_STORE.STORE_STRING,o.CometChat.getAppId(),a.LOCAL_STORE.MESSAGES_STORE)}),this.messagesStore.setDriver([s.LOCALSTORAGE,s.INDEXEDDB,s.WEBSQL])}return e.getInstance=function(){return null==e.MessagesStore&&(e.MessagesStore=new e),e.MessagesStore},e.prototype.set=function(e,t){return this.messagesStore.setItem(e,t)},e.prototype.remove=function(e){this.messagesStore.removeItem(e)},e.prototype.get=function(e){return this.messagesStore.getItem(e)},e.prototype.clearStore=function(){var e=this;return new Promise((function(t,n){e.messagesStore.clear().then((function(){t(!0)})).catch((function(e){n(e)}))}))},e.prototype.getAllMessages=function(){var e=this,t={};return new Promise((function(n,o){e.messagesStore.iterate((function(e,n,o){n!=a.constants.MSG_VER_POST&&n!=a.constants.MSG_VER_POST&&(t=r(r({},t),e))})).then((function(){n(t)}))}))},e.prototype.clear=function(e){},e.prototype.selectStore=function(e){this.store=e},e.prototype.storeMessages=function(e){var t=this;if(o.CometChat.user.getUid()){var n=o.CometChat.user.getUid(),s={},u=0;return this.get(a.constants.MSG_VER_POST).then((function(o){e.map((function(e){var t;if(!i.isFalsy(e)){0==u&&(u=parseInt(e.getId().toString())),u>e.getId()&&(u=parseInt(e.getId().toString())),o<e.getId()&&(o=parseInt(e.getId().toString()));var c=void 0;c=e.getSender()instanceof Object?e.getSender().getUid():e.getSender(),e.getReceiverType()==a.MessageConstatnts.RECEIVER_TYPE.GROUP&&(c=e.getReceiver()),e.getSender()instanceof Object?e.getSender().getUid()==n&&(c=e.getReceiver()):e.getSender()==n&&(c=e.getReceiver()),s[c]||(s[c]={}),s[c]=r(r({},s[c]),((t={})[e.getId()]=e,t))}})),t.get(a.constants.MSG_VER_PRE).then((function(e){(0<u&&u<e||null==e)&&t.set(a.constants.MSG_VER_PRE,u)}))&&0<o&&t.set(a.constants.MSG_VER_POST,o),Object.keys(s).map((function(e){t.get(e).then((function(n){null==n&&(n={}),t.set(e,r(r({},s[e]),n))}))}))})),!0}},e}();t.MessagesStore=u},function(e,t,n){"use strict";t.__esModule=!0,t.BlockedUsersRequestBuilder=t.BlockedUsersRequest=void 0;var r=n(6),o=n(0),i=n(11),a=n(2),s=n(1),u=function(){function e(e){this.next_page=1,this.current_page=1,this.total_pages=-1,this.fetchingInProgress=!1,this.pagination={total:0,count:0,per_page:0,current_page:0,total_pages:0,links:[]},o.isFalsy(e)||(this.limit=e.limit,o.isFalsy(e.searchKeyword)||(this.searchKeyword=e.searchKeyword),o.isFalsy(e.direction)||(this.direction=e.direction))}return e.prototype.validateBlockedUsersBuilder=function(){if(void 0===this.limit)return new a.CometChatException(JSON.parse(o.format(JSON.stringify(s.GENERAL_ERROR.METHOD_COMPULSORY),"SET_LIMIT","SET_LIMIT","Set Limit")));if(isNaN(this.limit))return new a.CometChatException(JSON.parse(o.format(JSON.stringify(s.GENERAL_ERROR.PARAMETER_MUST_BE_A_NUMBER),"SET_LIMIT","SET_LIMIT","setLimit()")));if(this.limit>s.DEFAULT_VALUES.USERS_MAX_LIMIT)return new a.CometChatException(JSON.parse(o.format(JSON.stringify(s.GENERAL_ERROR.LIMIT_EXCEEDED),"SET_LIMIT","SET_LIMIT",s.DEFAULT_VALUES.USERS_MAX_LIMIT)));if(this.limit<s.DEFAULT_VALUES.ZERO)return new a.CometChatException(JSON.parse(o.format(JSON.stringify(s.GENERAL_ERROR.PARAMETER_MUST_BE_A_POSITIVE_NUMBER),"SET_LIMIT","SET_LIMIT","setLimit()")));if(void 0!==this.searchKeyword){if(typeof this.searchKeyword!==s.COMMON_UTILITY_CONSTANTS.TYPE_CONSTANTS.STRING)return new a.CometChatException(JSON.parse(o.format(JSON.stringify(s.GENERAL_ERROR.PARAMETER_MUST_BE_A_STRING),"SET_SEARCH_KEYWORD","SET_SEARCH_KEYWORD","setSearchKeyword()")));if(o.isFalsy(this.searchKeyword.trim()))return new a.CometChatException(JSON.parse(o.format(JSON.stringify(s.GENERAL_ERROR.INVALID),"SET_SEARCH_KEYWORD","SET_SEARCH_KEYWORD","search keyword","search keyword")));this.searchKeyword=this.searchKeyword.trim()}if(void 0!==this.direction){if(typeof this.direction!==s.COMMON_UTILITY_CONSTANTS.TYPE_CONSTANTS.STRING)return new a.CometChatException(JSON.parse(o.format(JSON.stringify(s.GENERAL_ERROR.PARAMETER_MUST_BE_A_STRING),"SET_DIRECTION","SET_DIRECTION","setDirection()")));if(this.direction!=s.BlockedUsersConstants.REQUEST_KEYS.DIRECTIONS.BOTH&&this.direction!=s.BlockedUsersConstants.REQUEST_KEYS.DIRECTIONS.BLOCKED_BY_ME&&this.direction!=s.BlockedUsersConstants.REQUEST_KEYS.DIRECTIONS.HAS_BLOCKED_ME)return new a.CometChatException(s.UserErrors.INVALID_DIRECTION)}},e.prototype.fetchNext=function(){var e=this;return new Promise((function(t,n){try{if(e.fetchingInProgress)e.fetchingInProgress=!1,t([]);else{e.fetchingInProgress=!0;var o=e.validateBlockedUsersBuilder();if(o instanceof a.CometChatException)return void n(o);r.makeApiCall("blockedUsersList",{},e.getNextData()).then((function(n){if(n.meta&&(e.total_pages=n.meta.pagination.total_pages),0<n.data.length){e.pagination=n.meta.pagination;var r=[];n.data.map((function(e){r.push(i.UsersController.trasformJSONUser(e))})),t(r)}else t([]);e.fetchingInProgress=!1}),(function(t){e.fetchingInProgress=!1,n(new a.CometChatException(t.error))}))}}catch(o){e.fetchingInProgress=!1,n(new a.CometChatException(o))}}))},e.prototype.getNextData=function(){var e={};if(e.per_page=this.limit,o.isFalsy(this.direction)||(e.direction=this.direction),o.isFalsy(this.searchKeyword)||(e.searchKey=this.searchKeyword),1==this.current_page)e.page=this.next_page,this.next_page++,this.current_page++;else{if(this.next_page>this.total_pages)return e.page=this.next_page,e;e.page=this.next_page++}return e},e.MAX_LIMIT=2,e.DEFAULT_LIMIT=1,e.directions=s.BlockedUsersConstants.REQUEST_KEYS.DIRECTIONS,e}();t.BlockedUsersRequest=u;var c=function(){function e(){}return e.prototype.setLimit=function(e){return this.limit=e,this},e.prototype.setSearchKeyword=function(e){return this.searchKeyword=e,this},e.prototype.setDirection=function(e){return this.direction=e,this},e.prototype.blockedByMe=function(){return this.direction=s.BlockedUsersConstants.REQUEST_KEYS.DIRECTIONS.BLOCKED_BY_ME,this},e.prototype.hasBlockedMe=function(){return this.direction=s.BlockedUsersConstants.REQUEST_KEYS.DIRECTIONS.HAS_BLOCKED_ME,this},e.prototype.build=function(){return new u(this)},e}();t.BlockedUsersRequestBuilder=c},function(e,t,n){"use strict";t.__esModule=!0,t.AppSettingsBuilder=t.AppSettings=void 0;var r=n(1),o=function(){function e(t){this.subscriptionType=e.SUBSCRIPTION_TYPE_NONE,this.roles=null,this.region=r.DEFAULT_VALUES.REGION_DEFAULT,this.autoJoinGroup=!0,this.establishSocketConnection=!0,this.subscriptionType=t.subscriptionType,this.roles=t.roles,this.region=t.region,this.autoJoinGroup=t.autoJoinGroup,this.establishSocketConnection=t.establishSocketConnection}return e.prototype.getSubscriptionType=function(){return this.subscriptionType},e.prototype.getRoles=function(){return this.roles},e.prototype.getRegion=function(){return this.region},e.prototype.getIsAutoJoinEnabled=function(){return this.autoJoinGroup},e.prototype.shouldAutoEstablishSocketConnection=function(){return this.establishSocketConnection},e.SUBSCRIPTION_TYPE_NONE="NONE",e.SUBSCRIPTION_TYPE_ALL_USERS="ALL_USERS",e.SUBSCRIPTION_TYPE_ROLES="ROLES",e.SUBSCRIPTION_TYPE_FRIENDS="FRIENDS",e.REGION_EU=r.DEFAULT_VALUES.REGION_DEFAULT_EU,e.REGION_US=r.DEFAULT_VALUES.REGION_DEFAULT_US,e.REGION_IN=r.DEFAULT_VALUES.REGION_DEFAULT_IN,e.REGION_PRIVATE=r.DEFAULT_VALUES.REGION_DEFAULT_PRIVATE,e}();t.AppSettings=o;var i=function(){function e(){this.subscriptionType=o.SUBSCRIPTION_TYPE_NONE,this.roles=null,this.region=r.DEFAULT_VALUES.REGION_DEFAULT,this.autoJoinGroup=!0,this.establishSocketConnection=!0}return e.prototype.subscribePresenceForAllUsers=function(){return this.subscriptionType=o.SUBSCRIPTION_TYPE_ALL_USERS,this},e.prototype.subscribePresenceForRoles=function(e){return this.subscriptionType=o.SUBSCRIPTION_TYPE_ROLES,this.roles=e,this},e.prototype.subscribePresenceForFriends=function(){return this.subscriptionType=o.SUBSCRIPTION_TYPE_FRIENDS,this},e.prototype.setRegion=function(e){return void 0===e&&(e=r.DEFAULT_VALUES.REGION_DEFAULT),this.region=e.toLowerCase(),this},e.prototype.enableAutoJoinForGroups=function(e){return void 0===e&&(e=!0),this.autoJoinGroup=e,this},e.prototype.autoEstablishSocketConnection=function(e){return void 0===e&&(e=!0),this.establishSocketConnection=e,this},e.prototype.build=function(){return new o(this)},e}();t.AppSettingsBuilder=i},function(e,t,n){"use strict";t.__esModule=!0,t.CometChatHelper=void 0;var r=n(10),o=n(1),i=n(11),a=n(15),s=n(24),u=n(3),c=n(2),l=n(0),d=function(){function e(){}return e.processMessage=function(e){try{return r.MessageController.trasformJSONMessge(e)}catch(e){l.Logger.error("CometChatHelper: processMessage",e)}},e.getConversationFromMessage=function(t){return new Promise((function(n,l){try{u.CometChat.getLoggedinUser().then((function(e){if(null!==e){var u=r.MessageController.trasformJSONMessge(t),c=u.receiverType,d=u.conversationId,f=void 0,p=r.MessageController.trasformJSONMessge(t);if(c==o.MessageConstatnts.RECEIVER_TYPE.USER){var h=i.UsersController.trasformJSONUser(u[o.MessageConstatnts.KEYS.SENDER]);f=h.getUid()==e.getUid()?i.UsersController.trasformJSONUser(u[o.MessageConstatnts.KEYS.RECEIVER]):h}else f=a.GroupsController.trasformJSONGroup(u[o.MessageConstatnts.KEYS.RECEIVER]);var E=s.ConversationController.trasformJSONConversation(d,c,p,f,0,[]);n(E)}else l(o.UserErrors.USER_NOT_LOGGED_IN)}),(function(e){l(new c.CometChatException(e.error))}))}catch(e){l(new c.CometChatException(e))}}))},e}();t.CometChatHelper=d},function(e,t,n){"use strict";t.__esModule=!0,t.CallSettingsBuilder=t.CallSettings=void 0;var r=n(1),o=function(){function e(e){this.sessionID=e.sessionID,this.defaultLayout=e.defaultLayout,this.isAudioOnly=e.isAudioOnly,this.region=e.region,this.user=e.user,this.mode=e.mode,this.domain=e.domain,this.ShowEndCallButton=e.ShowEndCallButton,this.ShowMuteAudioButton=e.ShowMuteAudioButton,this.ShowPauseVideoButton=e.ShowPauseVideoButton,this.ShowScreenShareButton=e.ShowScreenShareButton,this.ShowSwitchModeButton=e.ShowSwitchModeButton,this.StartAudioMuted=e.StartAudioMuted,this.StartVideoMuted=e.StartVideoMuted,this.localizedObject=e.localizedObject,this.analyticsSettings=e.analyticsSettings,this.appId=e.appId,this.customCSS=e.customCSS,this.ShowRecordingButton=e.ShowRecordingButton,this.StartRecordingOnCallStart=e.StartRecordingOnCallStart,this.useLegacyUI=e.useLegacyUI}return e.prototype.shouldUseLegacyUI=function(){return this.useLegacyUI},e.prototype.isRecordingButtonEnabled=function(){return this.ShowRecordingButton},e.prototype.shouldStartRecordingOnCallStart=function(){return this.StartRecordingOnCallStart},e.prototype.getCustomCSS=function(){return this.customCSS},e.prototype.getSessionId=function(){return this.sessionID},e.prototype.isAudioOnlyCall=function(){return this.isAudioOnly},e.prototype.getUser=function(){return this.user},e.prototype.getRegion=function(){return this.region},e.prototype.getAppId=function(){return this.appId},e.prototype.getDomain=function(){return this.domain},e.prototype.isDefaultLayoutEnabled=function(){return this.defaultLayout},e.prototype.getMode=function(){return this.mode},e.prototype.getStartWithAudioMuted=function(){return this.StartAudioMuted},e.prototype.getStartWithVideoMuted=function(){return this.StartVideoMuted},e.prototype.isEndCallButtonEnabled=function(){return this.ShowEndCallButton},e.prototype.isMuteAudioButtonEnabled=function(){return this.ShowMuteAudioButton},e.prototype.isPauseVideoButtonEnabled=function(){return this.ShowPauseVideoButton},e.prototype.isScreenShareButtonEnabled=function(){return this.ShowScreenShareButton},e.prototype.isModeButtonEnabled=function(){return this.ShowSwitchModeButton},e.prototype.getLocalizedStringObject=function(){return this.localizedObject},e.prototype.getAnalyticsSettings=function(){return this.analyticsSettings},e}();t.CallSettings=o;var i=function(){function e(){this.defaultLayout=!0,this.isAudioOnly=!1,this.mode=r.CallConstants.CALL_MODE.DEFAULT,this.ShowEndCallButton=!0,this.ShowMuteAudioButton=!0,this.ShowPauseVideoButton=!0,this.ShowScreenShareButton=!0,this.ShowSwitchModeButton=!0,this.StartAudioMuted=!1,this.StartVideoMuted=!1,this.localizedObject={},this.analyticsSettings={},this.ShowRecordingButton=!1,this.StartRecordingOnCallStart=!1,this.useLegacyUI=!1}return e.prototype.setSessionID=function(e){return this.sessionID=e,this},e.prototype.enableDefaultLayout=function(e){return this.defaultLayout=e,this},e.prototype.setIsAudioOnlyCall=function(e){return this.isAudioOnly=e,this},e.prototype.setRegion=function(e){return this.region=e,this},e.prototype.setDomain=function(e){return this.domain=e,this},e.prototype.setUser=function(e){return this.user=e,this},e.prototype.setMode=function(e){return this.mode=e,this},e.prototype.showEndCallButton=function(e){return this.ShowEndCallButton=e,this},e.prototype.showMuteAudioButton=function(e){return this.ShowMuteAudioButton=e,this},e.prototype.showPauseVideoButton=function(e){return this.ShowPauseVideoButton=e,this},e.prototype.showScreenShareButton=function(e){return this.ShowScreenShareButton=e,this},e.prototype.showModeButton=function(e){return this.ShowSwitchModeButton=e,this},e.prototype.setLocalizedStringObject=function(e){return this.localizedObject=e,this},e.prototype.setAnalyticsSettings=function(e){return this.analyticsSettings=e,this},e.prototype.setAppId=function(e){return this.appId=e,this},e.prototype.startWithAudioMuted=function(e){return this.StartAudioMuted=e,this},e.prototype.startWithVideoMuted=function(e){return this.StartVideoMuted=e,this},e.prototype.setCustomCSS=function(e){return this.customCSS=e,this},e.prototype.showRecordingButton=function(e){return this.ShowRecordingButton=e,this},e.prototype.startRecordingOnCallStart=function(e){return this.StartRecordingOnCallStart=e,this},e.prototype.forceLegacyUI=function(e){return this.useLegacyUI=e,this},e.prototype.build=function(){return new o(this)},e}();t.CallSettingsBuilder=i},function(e,t,n){"use strict";t.__esModule=!0,t.RTCUser=void 0;var r=n(0),o=function(){function e(e){this.avatar="",r.isFalsy(e)||(this.uid=e.toString())}return e.prototype.setUID=function(e){this.uid=e?e.toString():""},e.prototype.getUID=function(){return this.uid.toString()},e.prototype.setName=function(e){this.name=e?e.toString():""},e.prototype.getName=function(){return this.name.toString()},e.prototype.setAvatar=function(e){this.avatar=e?e.toString():""},e.prototype.getAvatar=function(){return this.avatar.toString()},e.prototype.setJWT=function(e){this.jwt=e?e.toString():""},e.prototype.getJWT=function(){return this.jwt.toString()},e.prototype.setResource=function(e){this.resource=e?e.toString():""},e.prototype.getResource=function(){return this.resource.toString()},e}();t.RTCUser=o},function(e,t,n){"use strict";var r=this&&this.__awaiter||function(e,t,n,r){return new(n||(n=Promise))((function(o,i){function a(e){try{u(r.next(e))}catch(e){i(e)}}function s(e){try{u(r.throw(e))}catch(e){i(e)}}function u(e){var t;e.done?o(e.value):(t=e.value,t instanceof n?t:new n((function(e){e(t)}))).then(a,s)}u((r=r.apply(e,t||[])).next())}))},o=this&&this.__generator||function(e,t){var n,r,o,i,a={label:0,sent:function(){if(1&o[0])throw o[1];return o[1]},trys:[],ops:[]};return i={next:s(0),throw:s(1),return:s(2)},"function"==typeof Symbol&&(i[Symbol.iterator]=function(){return this}),i;function s(i){return function(s){return function(i){if(n)throw new TypeError("Generator is already executing.");for(;a;)try{if(n=1,r&&(o=2&i[0]?r.return:i[0]?r.throw||((o=r.return)&&o.call(r),0):r.next)&&!(o=o.call(r,i[1])).done)return o;switch(r=0,o&&(i=[2&i[0],o.value]),i[0]){case 0:case 1:o=i;break;case 4:return a.label++,{value:i[1],done:!1};case 5:a.label++,r=i[1],i=[0];continue;case 7:i=a.ops.pop(),a.trys.pop();continue;default:if(!(o=0<(o=a.trys).length&&o[o.length-1])&&(6===i[0]||2===i[0])){a=0;continue}if(3===i[0]&&(!o||i[1]>o[0]&&i[1]<o[3])){a.label=i[1];break}if(6===i[0]&&a.label<o[1]){a.label=o[1],o=i;break}if(o&&a.label<o[2]){a.label=o[2],a.ops.push(i);break}o[2]&&a.ops.pop(),a.trys.pop();continue}i=t.call(e,a)}catch(s){i=[6,s],r=0}finally{n=o=0}if(5&i[0])throw i[1];return{value:i[0]?i[1]:void 0,done:!0}}([i,s])}}};t.__esModule=!0,t.WSConnectionHelper=void 0;var i=n(3),a=n(1),s=n(31),u=n(36),c=n(0),l=n(37),d=n(30),f=n(25),p=n(20),h=n(21),E=n(54),g=n(55),v=n(56),m=n(57),_=n(58),S=n(59),y=n(60),C=n(22),T=n(27),I=n(26),A=n(5),R=n(61),O=l.ListenerHandlers.getInstance(),N=function(){function t(){}return t.getInstance=function(){try{return null!=this.wsConnectionHelper&&null!=this.wsConnectionHelper||(this.wsConnectionHelper=new t),this.wsConnectionHelper}catch(e){c.Logger.error("WSConnectionHelper: getInstance",e)}},t.prototype.WSLogin=function(t,n){var r=this;try{R.getWSURL().then((function(e){r.connection=new WebSocket(e),n&&r.connection&&r.connection.readyState==A.READY_STATE.CONNECTING&&n(r.connection.readyState),r.connection.onopen=function(e){r.onOpen(e,n),r.authenticateUser(t)},r.connection.onclose=function(e){r.onClose(e,n)},r.connection.onmessage=function(e){r.onMessage(e)}}),(function(e){c.Logger.error("WSConnectionHelper :: WSLogin",e)}))}catch(e){c.Logger.error("WSConnectionHelper: WSLogin",e)}},t.prototype.onOpen=function(e,t){try{t&&this.connection&&t(this.connection.readyState)}catch(e){c.Logger.error("WSConnectionHelper: onOpen",e)}},t.prototype.onClose=function(e,t){try{t&&this.connection&&t(this.connection.readyState)}catch(e){c.Logger.error("WSConnectionHelper: onClose",e)}},t.prototype.onMessage=function(e){if(e.data&&"string"==typeof e.data)try{var t=JSON.parse(e.data);if(t&&t.action&&t.action===A.KEYS.PONG)return;var n=this.getCometChatEventFromMessage(JSON.parse(e.data));if(n.getDeviceId()===i.CometChat.getSessionId()&&n.getType()!==A.AUTH.TYPE)return;switch(n.getType()){case A.TYPING_INDICATOR.TYPE:this.publishTypingIndicator(n);break;case A.RECEIPTS.TYPE:this.publishReceipts(n);break;case A.PRESENCE.TYPE:this.publishPresence(n);break;case A.AUTH.TYPE:this.authResponseReceived(n);break;case A.MESSAGE.TYPE:this.publishMessages(n);break;case A.TRANSIENT_MESSAGE.TYPE:this.publishTransientMessage(n);break;default:c.Logger.log("WSHelper: onMessage :: unknown type",e.data)}}catch(e){c.Logger.error("WSHelper: onMessage",e)}else c.Logger.log("WSHelper: onMessage :: object data",e.data)},t.prototype.authenticateUser=function(t){var n=this;try{i.CometChat.getLoggedinUser().then((function(e){e?d.KeyStore.getInstance().get("deviceId").then((function(r){var o=null;window&&window.location&&window.location.origin&&(o=window.location.origin);var s="",u=r,l={version:a.SDKHeader.sdkVersion,apiVersion:a.APPINFO.apiVersion,origin:o,uts:(new Date).getTime()};c.isFalsy(i.CometChat.resource)||(l.resource=i.CometChat.resource),c.isFalsy(i.CometChat.platform)||(l.platform=i.CometChat.platform),c.isFalsy(i.CometChat.language)||(l.language=i.CometChat.language),navigator&&(s=navigator.userAgent);var d={appInfo:l,userAgent:s,deviceId:u,platform:a.SDKHeader.platform},f=new E.CometChatAuthEvent(i.CometChat.getAppId(),"","",e.getUid(),i.CometChat.getSessionId());if(f.setAuth(t),f.setPresenceSubscription(i.CometChat.appSettings.getSubscriptionType()),f.setDeviceId(i.CometChat.getSessionId()),f.setExtraParmaeters(d),R.checkConnection(n.connection)){var p=f.getAsString();n.connection.send(p)}})):c.Logger.log("no logged-in user","null")}),(function(e){c.Logger.log("error in fetching logged-in user",e)}))}catch(e){c.Logger.error("WSConnectionHelper: startTypingIndicator",e)}},t.prototype.authResponseReceived=function(e){try{"200"===e.getCode()&&"OK"===e.getStatus()&&this.startPingingWS()}catch(e){c.Logger.error("WSConnectionHelper: authResponseReceived",e)}},t.prototype.WSLogout=function(){try{this.clearPingTimer(),R.checkConnection(this.connection)&&this.connection.close(A.LOGOUT_CODE,A.LOGOUT_REASON)}catch(e){c.Logger.error("WSConnectionHelper: WSLogout",e)}},t.prototype.startPingingWS=function(){var e=this;try{t.pingTimer||(t.pingTimer=setInterval((function(){return r(e,void 0,void 0,(function(){var e,t;return o(this,(function(n){switch(n.label){case 0:return R.checkConnection(this.connection)?(e=new v.CometChatPingEvent("","","","",""),t=e.getAsString(),this.connection.send(t),[4,this.listenForPong()]):[3,2];case 1:n.sent()?(c.Logger.log("WSConnectionHelper :: startPingingWS","pong success"),i.CometChat.getConnectionStatus()!=a.CONNECTION_STATUS.CONNECTED&&(this.WSLogout(),this.connection=null,i.CometChat.getInstance().makeWSConnection())):(c.Logger.log("WSConnectionHelper :: startPingingWS","pong failure"),this.WSLogout(),this.connection=null,i.CometChat.getInstance().setConnectionStatus(a.CONNECTION_STATUS.DISCONNECTED),O.connectionHandlers.map((function(e){try{e._eventListener&&(c.isFalsy(e._eventListener.onDisconnected)||e._eventListener.onDisconnected())}catch(e){c.Logger.error("WSConnectionHandlers: Disconnected Status",e)}})),i.CometChat.getInstance().accidentallyDisconnected()),n.label=2;case 2:return[2]}}))}))}),15e3))}catch(e){c.Logger.error("WSConnectionHelper: startPingingWS",e)}},t.prototype.listenForPong=function(){var e=this;return new Promise((function(t,n){var r=setTimeout((function(){t(!1)}),3e3);e.connection.addEventListener("message",(function(e){e&&e.data&&"string"==typeof e.data&&JSON.parse(e.data).action===A.KEYS.PONG&&(clearTimeout(r),t(!0))}))}))},t.prototype.clearPingTimer=function(){t.pingTimer&&(clearInterval(t.pingTimer),t.pingTimer=void 0)},t.prototype.sendOnlineEvent=function(){var t=this;try{R.checkConnection(this.connection)&&i.CometChat.getLoggedinUser().then((function(e){if(e){var n={appId:i.CometChat.getAppId(),deviceId:i.CometChat.getSessionId(),type:A.PRESENCE.TYPE,body:{action:A.PRESENCE.ACTION.ONLINE,timestamp:Math.floor((new Date).getTime()/1e3),user:e}};if(R.checkConnection(t.connection)){var r=R.stringifyMessage(n);t.connection.send(r)}}else c.Logger.log("no logged-in user","null")}),(function(e){c.Logger.log("error in fetching logged-in user",e)}))}catch(e){c.Logger.error("WSConnectionHelper: sendOnlineEvent",e)}},t.prototype.sendOfflineEvent=function(){var t=this;try{R.checkConnection(this.connection)&&i.CometChat.getLoggedinUser().then((function(e){if(e){var n={appId:i.CometChat.getAppId(),deviceId:i.CometChat.getSessionId(),type:A.PRESENCE.TYPE,body:{action:A.PRESENCE.ACTION.OFFLINE,timestamp:Math.floor((new Date).getTime()/1e3),user:e}};if(R.checkConnection(t.connection)){var r=R.stringifyMessage(n);t.connection.send(r)}}else c.Logger.log("no logged-in user","null")}),(function(e){c.Logger.log("error in fetching logged-in user",e)}))}catch(e){c.Logger.error("WSConnectionHelper: sendOfflineEvent",e)}},t.prototype.startTypingIndicator=function(t,n,r){var o=this;try{i.CometChat.getLoggedinUser().then((function(e){if(e){var a=new I.TypingIndicator(t,n);a.setSender(e),r&&a.setMetadata(r);var s=new y.CometChatTypingEvent(i.CometChat.getAppId(),t,n,e.getUid(),i.CometChat.getSessionId());if(s.setAction(A.TYPING_INDICATOR.ACTION.STARTED),s.setTypingIndicator(a),R.checkConnection(o.connection)){var u=s.getAsString();o.connection.send(u)}}else c.Logger.log("no logged-in user","null")}),(function(e){c.Logger.log("error in fetching logged-in user",e)}))}catch(e){c.Logger.error("WSConnectionHelper: startTypingIndicator",e)}},t.prototype.pauseTypingIndicator=function(t,n,r){var o=this;try{i.CometChat.getLoggedinUser().then((function(e){if(e){var a=new I.TypingIndicator(t,n);a.setSender(e),r&&a.setMetadata(r);var s=new y.CometChatTypingEvent(i.CometChat.getAppId(),t,n,e.getUid(),i.CometChat.getSessionId());if(s.setAction(A.TYPING_INDICATOR.ACTION.ENDED),s.setTypingIndicator(a),R.checkConnection(o.connection)){var u=s.getAsString();o.connection.send(u)}}else c.Logger.log("no logged-in user","null")}),(function(e){c.Logger.log("error in fetching logged-in user",e)}))}catch(e){c.Logger.error("WSConnectionHelper: pauseTypingIndicator",e)}},t.prototype.markAsRead=function(t,n,r,o){var a=this;try{i.CometChat.getMode(),i.CometChat.getLoggedinUser().then((function(e){if(e){var s=new _.CometChatReceiptEvent(i.CometChat.getAppId(),t,n,e.getUid(),i.CometChat.getSessionId(),o);s.setAction(A.RECEIPTS.ACTION.READ);var u=new C.MessageReceipt;if(u.setSender(e),u.setReceiverType(n),u.setReceiver(t),u.setReceiptType(A.RECEIPTS.RECEIPT_TYPE.READ_RECEIPT),u.setMessageId(r),u.setTimestamp(Math.floor((new Date).getTime()/1e3).toString()),s.setMessageReceipt(u),R.checkConnection(a.connection)){var l=s.getAsString();a.connection.send(l)}}else c.Logger.log("no logged-in user","null")}),(function(e){c.Logger.log("error in fetching logged-in user",e)}))}catch(e){c.Logger.error("WSConnectionHelper: markAsRead",e)}},t.prototype.markAsDelivered=function(t,n,r,o){var a=this;try{i.CometChat.getMode(),i.CometChat.getLoggedinUser().then((function(e){if(e){var s=new _.CometChatReceiptEvent(i.CometChat.getAppId(),t,n,e.getUid(),i.CometChat.getSessionId(),o);s.setAction(A.RECEIPTS.ACTION.DELIVERED);var u=new C.MessageReceipt;if(u.setSender(e),u.setReceiverType(n),u.setReceiver(t),u.setReceiptType(A.RECEIPTS.RECEIPT_TYPE.DELIVERY_RECEIPT),u.setMessageId(r),u.setTimestamp(Math.floor((new Date).getTime()/1e3).toString()),s.setMessageReceipt(u),R.checkConnection(a.connection)){var l=s.getAsString();a.connection.send(l)}}else c.Logger.log("no logged-in user","null")}),(function(e){c.Logger.log("error in fetching logged-in user",e)}))}catch(e){c.Logger.error("WSConnectionHelper: markAsDelivered",e)}},t.prototype.sendTransientMessage=function(t,n,r){var o=this;try{i.CometChat.getLoggedinUser().then((function(e){if(e){var a=new T.TransientMessage(t,n,r);a.setSender(e);var s=new S.CometChatTransientEvent(i.CometChat.getAppId(),t,n,e.getUid(),i.CometChat.getSessionId());if(s.setTransientMessage(a),R.checkConnection(o.connection)){var u=s.getAsString();o.connection.send(u)}}else c.Logger.log("no logged-in user","null")}),(function(e){c.Logger.log("error in fetching logged-in user",e)}))}catch(e){c.Logger.error("WSConnectionHelper: sendTransientMessage",e)}},t.prototype.publishTypingIndicator=function(e){try{var t=e.getTypingIndicator();switch(e.getAction()){case A.TYPING_INDICATOR.ACTION.STARTED:O.messageHandlers.map((function(e){e._eventListener.onTypingStarted&&e._eventListener.onTypingStarted(t)})),u.TypingNotificationController.addIncomingTypingStarted(t);break;case A.TYPING_INDICATOR.ACTION.ENDED:O.messageHandlers.map((function(e){e._eventListener.onTypingEnded&&e._eventListener.onTypingEnded(t)})),u.TypingNotificationController.removeIncomingTypingStarted(t)}}catch(e){c.Logger.error("WSHelper: publishTypingIndicator",e)}},t.prototype.publishReceipts=function(e){try{var t=e.getMessageReceipt();switch(e.getAction()){case A.RECEIPTS.ACTION.DELIVERED:O.messageHandlers.map((function(e){e._eventListener.onMessagesDelivered&&e._eventListener.onMessagesDelivered(t)}));break;case A.RECEIPTS.ACTION.READ:O.messageHandlers.map((function(e){e._eventListener.onMessagesRead&&e._eventListener.onMessagesRead(t)}))}}catch(e){c.Logger.error("WSHelper: publishReceipts",e)}},t.prototype.publishPresence=function(e){try{var t=e.getUser();switch(t.setLastActiveAt(e.getTimestamp()),e.getAction()){case A.PRESENCE.ACTION.ONLINE:case A.PRESENCE.ACTION.AVAILABLE:t.setStatus(a.PresenceConstatnts.STATUS.ONLINE),O.userHandlers.map((function(e){c.isFalsy(e._eventListener.onUserOnline)||e._eventListener.onUserOnline(t)}));break;case A.PRESENCE.ACTION.OFFLINE:t.setStatus(a.PresenceConstatnts.STATUS.OFFLINE),O.userHandlers.map((function(e){c.isFalsy(e._eventListener.onUserOffline)||e._eventListener.onUserOffline(t)}))}}catch(e){c.Logger.error("WSHelper: publishPresence",e)}},t.prototype.publishMessages=function(e){try{var t=e.getMessage();t&&t.getId()&&f.MessageListnerMaping.getInstance().set("all",t.getId()),t instanceof h.Call?this.publishCallMessage(t):t instanceof p.Action?this.publishActionMessage(t):this.publishMessage(t)}catch(e){c.Logger.error("WSHelper: publishMessages",e)}},t.prototype.publishMessage=function(t){try{O.messageHandlers.map((function(e){if(e._eventListener){var n=t;switch(n.getType()){case a.MessageConstatnts.TYPE.TEXT:c.isFalsy(e._eventListener.onTextMessageReceived)||e._eventListener.onTextMessageReceived(t);break;case a.MessageConstatnts.TYPE.CUSTOM:c.isFalsy(e._eventListener.onCustomMessageReceived)||e._eventListener.onCustomMessageReceived(t);break;default:n.getCategory()==a.MessageCategory.CUSTOM?c.isFalsy(e._eventListener.onCustomMessageReceived)||e._eventListener.onCustomMessageReceived(t):c.isFalsy(e._eventListener.onMediaMessageReceived)||e._eventListener.onMediaMessageReceived(t)}}}))}catch(e){c.Logger.error("WSHelper: publishMessage",e)}},t.prototype.publishCallMessage=function(t){try{var n=s.CallController.getInstance().getActiveCall();switch(t.getStatus()){case a.CallConstants.CALL_STATUS.INITIATED:t.getReceiverType()==a.CallConstants.RECEIVER_TYPE_GROUP?O.callHandlers.map((function(e){t.getCallInitiator().getUid().toLocaleLowerCase()!=i.CometChat.user.getUid().toLocaleLowerCase()&&(c.isFalsy(e._eventListener.onIncomingCallReceived)||e._eventListener.onIncomingCallReceived(t))})):O.callHandlers.map((function(e){c.isFalsy(e._eventListener.onIncomingCallReceived)||e._eventListener.onIncomingCallReceived(t)}));break;case a.CallConstants.CALL_STATUS.ONGOING:t.getReceiverType()==a.CallConstants.RECEIVER_TYPE_GROUP?t.getCallInitiator().getUid().toLocaleLowerCase()==i.CometChat.user.getUid().toLocaleLowerCase()&&O.callHandlers.map((function(e){c.isFalsy(e._eventListener.onOutgoingCallAccepted)||e._eventListener.onOutgoingCallAccepted(t)})):O.callHandlers.map((function(e){c.isFalsy(e._eventListener.onOutgoingCallAccepted)||e._eventListener.onOutgoingCallAccepted(t)}));break;case a.CallConstants.CALL_STATUS.UNANSWERED:if(t.getCallInitiator().getUid().toLocaleLowerCase()==i.CometChat.user.getUid().toLocaleLowerCase())O.callHandlers.map((function(e){c.isFalsy(e._eventListener.onOutgoingCallRejected)||e._eventListener.onOutgoingCallRejected(t)}));else{if(null!==n&&n.getSessionId()===t.getSessionId())try{s.CallController.getInstance().endCall()}catch(e){c.Logger.error("CallError",e)}O.callHandlers.map((function(e){c.isFalsy(e._eventListener.onIncomingCallCancelled)||e._eventListener.onIncomingCallCancelled(t)}))}break;case a.CallConstants.CALL_STATUS.REJECTED:if(t.getReceiverType()==a.CallConstants.RECEIVER_TYPE_GROUP)t.getCallInitiator().getUid().toLocaleLowerCase()==i.CometChat.user.getUid().toLocaleLowerCase()&&O.callHandlers.map((function(e){c.isFalsy(e._eventListener.onOutgoingCallRejected)||e._eventListener.onOutgoingCallRejected(t)}));else{if(null!==n&&n.getSessionId()===t.getSessionId())try{s.CallController.getInstance().endCall()}catch(e){c.Logger.error("CallError",e)}O.callHandlers.map((function(e){c.isFalsy(e._eventListener.onOutgoingCallRejected)||e._eventListener.onOutgoingCallRejected(t)}))}break;case a.CallConstants.CALL_STATUS.BUSY:t.getReceiverType()==a.CallConstants.RECEIVER_TYPE_GROUP?t.getCallInitiator().getUid().toLocaleLowerCase()==i.CometChat.user.getUid().toLocaleLowerCase()&&O.callHandlers.map((function(e){c.isFalsy(e._eventListener.onOutgoingCallRejected)||e._eventListener.onOutgoingCallRejected(t)})):O.callHandlers.map((function(e){if(null!==n&&n.getSessionId()===t.getSessionId())try{s.CallController.getInstance().endCall()}catch(e){c.Logger.error("CallError",e)}c.isFalsy(e._eventListener.onOutgoingCallRejected)||e._eventListener.onOutgoingCallRejected(t)}));break;case a.CallConstants.CALL_STATUS.CANCELLED:if(O.callHandlers.map((function(e){c.isFalsy(e._eventListener.onIncomingCallCancelled)||e._eventListener.onIncomingCallCancelled(t)})),null!==n&&n.getSessionId()===t.getSessionId())try{s.CallController.getInstance().endCall()}catch(e){c.Logger.error("CallError",e)}break;case a.CallConstants.CALL_STATUS.ENDED:if(s.CallController.getInstance().getCallListner()&&s.CallController.getInstance().getCallListner()._eventListener.onCallEnded(t),null!==n&&n.getSessionId()===t.getSessionId())try{s.CallController.getInstance().endCall()}catch(e){c.Logger.error("CallError",e)}break;default:c.Logger.log("WSHelper: publishCallMessage :: unknown status",t)}}catch(e){c.Logger.error("WSHelper: publishCallMessage",e)}},t.prototype.publishActionMessage=function(t){try{switch(t.getAction()){case a.ActionConstatnts.ACTION_TYPE.TYPE_MEMBER_JOINED:case a.ActionConstatnts.ACTION_TYPE.TYPE_MEMBER_INVITED:O.groupHandlers.map((function(e){c.isFalsy(e._eventListener.onGroupMemberJoined)||e._eventListener.onGroupMemberJoined(t,t.getActionBy(),t.getActionFor())}));break;case a.ActionConstatnts.ACTION_TYPE.TYPE_MEMBER_LEFT:O.groupHandlers.map((function(e){c.isFalsy(e._eventListener.onGroupMemberLeft)||e._eventListener.onGroupMemberLeft(t,t.getActionBy(),t.getActionFor())}));break;case a.ActionConstatnts.ACTION_TYPE.TYPE_MEMBER_BANNED:O.groupHandlers.map((function(e){c.isFalsy(e._eventListener.onGroupMemberBanned)||e._eventListener.onGroupMemberBanned(t,t.getActionOn(),t.getActionBy(),t.getActionFor())}));break;case a.ActionConstatnts.ACTION_TYPE.TYPE_MEMBER_KICKED:O.groupHandlers.map((function(e){c.isFalsy(e._eventListener.onGroupMemberKicked)||e._eventListener.onGroupMemberKicked(t,t.getActionOn(),t.getActionBy(),t.getActionFor())}));break;case a.ActionConstatnts.ACTION_TYPE.TYPE_MEMBER_UNBANNED:O.groupHandlers.map((function(e){c.isFalsy(e._eventListener.onGroupMemberUnbanned)||e._eventListener.onGroupMemberUnbanned(t,t.getActionOn(),t.getActionBy(),t.getActionFor())}));break;case a.ActionConstatnts.ACTION_TYPE.TYPE_MEMBER_SCOPE_CHANGED:O.groupHandlers.map((function(e){c.isFalsy(e._eventListener.onGroupMemberScopeChanged)||e._eventListener.onGroupMemberScopeChanged(t,t.getActionOn(),t.getNewScope(),t.getOldScope(),t.getActionFor())}));break;case a.ActionConstatnts.ACTION_TYPE.TYPE_MESSAGE_EDITED:O.messageHandlers.map((function(e){c.isFalsy(e._eventListener.onMessageEdited)||e._eventListener.onMessageEdited(t.getActionOn())}));break;case a.ActionConstatnts.ACTION_TYPE.TYPE_MESSAGE_DELETED:O.messageHandlers.map((function(e){c.isFalsy(e._eventListener.onMessageDeleted)||e._eventListener.onMessageDeleted(t.getActionOn())}));break;case a.ActionConstatnts.ACTION_TYPE.TYPE_MEMBER_ADDED:O.groupHandlers.map((function(e){c.isFalsy(e._eventListener.onGroupMemberAddedToGroup)||e._eventListener.onGroupMemberAddedToGroup(t,t.getActionOn(),t.getActionBy(),t.getActionFor())}));break;default:c.Logger.log("WSHelper: publishActionMessage :: unknown action",t)}}catch(e){c.Logger.error("WSHelper: publishActionMessage",e)}},t.prototype.publishTransientMessage=function(e){try{var t=e.getTransientMessage();O.messageHandlers.map((function(e){e._eventListener.onTransientMessageReceived&&e._eventListener.onTransientMessageReceived(t)}))}catch(e){c.Logger.error("WSHelper: publishTransientMessage",e)}},t.prototype.getCometChatEventFromMessage=function(e){try{if(e.hasOwnProperty(A.KEYS.TYPE))switch(e.type){case A.TYPING_INDICATOR.TYPE:return y.CometChatTypingEvent.getTypingEventFromJSON(e);case A.RECEIPTS.TYPE:return _.CometChatReceiptEvent.getReceiptEventFromJSON(e);case A.PRESENCE.TYPE:return m.CometChatPresenceEvent.getPresenceEventFromJSON(e);case A.MESSAGE.TYPE:return g.CometChatMessageEvent.getMessageEventFromJSON(e);case A.AUTH.TYPE:return E.CometChatAuthEvent.getAuthEventFromJSON(e);case A.TRANSIENT_MESSAGE.TYPE:return S.CometChatTransientEvent.getTransientEventFromJSON(e)}}catch(e){c.Logger.error("WSConnectionHelper: getCometChatEventFromMessage",e)}},t.wsConnectionHelper=new t,t}();t.WSConnectionHelper=N},function(e,t,n){"use strict";var r,o=this&&this.__extends||(r=function(e,t){return(r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])})(e,t)},function(e,t){function n(){this.constructor=e}r(e,t),e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)});t.__esModule=!0,t.CometChatAuthEvent=void 0;var i=n(5),a=function(e){function t(t,n,r,o,a){var s=e.call(this,t,n,r,o,a)||this;return s.setType(i.AUTH.TYPE),s}return o(t,e),t.prototype.getStatus=function(){return this.status},t.prototype.setStatus=function(e){this.status=e},t.prototype.getCode=function(){return this.code},t.prototype.setCode=function(e){this.code=e},t.prototype.setAuth=function(e){this.auth=e},t.prototype.getAuth=function(){return this.auth},t.prototype.setPresenceSubscription=function(e){this.presenceSubscription=e},t.prototype.getPresenceSubscription=function(){return this.presenceSubscription},t.prototype.setDeviceId=function(e){this.deviceId=e},t.prototype.getdeviceId=function(){return this.deviceId},t.prototype.setExtraParmaeters=function(e){this.params=e},t.prototype.getExtraParameters=function(){return this.params},t.prototype.getAsString=function(){return JSON.stringify(this.getAsJSONObject())},t.prototype.getAsJSONObject=function(){var e=this.getCometChatEventJSON(),t={};return t[i.KEYS.AUTH]=this.auth,t[i.KEYS.DEVICE_ID]=this.deviceId,t[i.KEYS.PRESENCE_SUBSCRIPTION]=this.presenceSubscription,t[i.KEYS.PARAMS]=this.params,e[i.KEYS.BODY]=t,e},t.getAuthEventFromJSON=function(e){var n=e[i.KEYS.APP_ID],r=e[i.KEYS.RECEIVER],o=e[i.KEYS.RECEIVER_TYPE],a=e[i.KEYS.DEVICE_ID],s=e[i.KEYS.SENDER],u=e[i.KEYS.BODY],c=u[i.KEYS.STATUS],l=u[i.KEYS.CODE],d=new t(n,r,o,s,a);return d.setStatus(c),d.setCode(l),d},t}(n(9).CometChatEvent);t.CometChatAuthEvent=a},function(e,t,n){"use strict";var r,o=this&&this.__extends||(r=function(e,t){return(r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])})(e,t)},function(e,t){function n(){this.constructor=e}r(e,t),e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)});t.__esModule=!0,t.CometChatMessageEvent=void 0;var i=n(10),a=n(5),s=function(e){function t(t,n,r,o,i){var s=e.call(this,t,n,r,o,i)||this;return s.setType(a.MESSAGE.TYPE),s}return o(t,e),t.prototype.getMessage=function(){return this.message},t.prototype.setMessage=function(e){this.message=e},t.getMessageEventFromJSON=function(e){var n=e[a.KEYS.APP_ID],r=e[a.KEYS.RECEIVER],o=e[a.KEYS.RECEIVER_TYPE],s=e[a.KEYS.DEVICE_ID],u=e[a.KEYS.SENDER],c=e[a.KEYS.BODY],l=new t(n,r,o,u,s),d=i.MessageController.trasformJSONMessge(c);return l.setMessage(d),l},t}(n(9).CometChatEvent);t.CometChatMessageEvent=s},function(e,t,n){"use strict";var r,o=this&&this.__extends||(r=function(e,t){return(r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])})(e,t)},function(e,t){function n(){this.constructor=e}r(e,t),e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)});t.__esModule=!0,t.CometChatPingEvent=void 0;var i=n(5),a=function(e){function t(t,n,r,o,i){return e.call(this,t,n,r,o,i)||this}return o(t,e),t.prototype.getAsString=function(){return JSON.stringify(this.getAsJSONObject())},t.prototype.getAsJSONObject=function(){var e={};return e[i.KEYS.ACTION]=i.KEYS.PING,e[i.KEYS.ACK]="true",e},t}(n(9).CometChatEvent);t.CometChatPingEvent=a},function(e,t,n){"use strict";var r,o=this&&this.__extends||(r=function(e,t){return(r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])})(e,t)},function(e,t){function n(){this.constructor=e}r(e,t),e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)});t.__esModule=!0,t.CometChatPresenceEvent=void 0;var i=n(5),a=n(9),s=n(4),u=function(e){function t(t,n,r,o,a){var s=e.call(this,t,n,r,o,a)||this;return s.setType(i.PRESENCE.TYPE),s}return o(t,e),t.prototype.getAction=function(){return this.action},t.prototype.setAction=function(e){this.action=e},t.prototype.getUser=function(){return this.user},t.prototype.setUser=function(e){this.user=e},t.prototype.getTimestamp=function(){return this.timestamp},t.prototype.setTimestamp=function(e){this.timestamp=e},t.getPresenceEventFromJSON=function(e){var n=e[i.KEYS.APP_ID],r=e[i.KEYS.DEVICE_ID],o=e[i.KEYS.SENDER],a=e[i.KEYS.BODY],u=a[i.KEYS.ACTION],c=a[i.KEYS.USER],l=a[i.KEYS.TIMESTAMP],d=new t(n,"","",o,r);return d.setAction(u),d.setUser(new s.User(c)),d.setTimestamp(l),d},t}(a.CometChatEvent);t.CometChatPresenceEvent=u},function(e,t,n){"use strict";var r,o=this&&this.__extends||(r=function(e,t){return(r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])})(e,t)},function(e,t){function n(){this.constructor=e}r(e,t),e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)});t.__esModule=!0,t.CometChatReceiptEvent=void 0;var i=n(5),a=n(9),s=n(22),u=n(4),c=function(e){function t(t,n,r,o,a,s){var u=e.call(this,t,n,r,o,a,s)||this;return u.setType(i.RECEIPTS.TYPE),u}return o(t,e),t.prototype.getAction=function(){return this.action},t.prototype.setAction=function(e){this.action=e},t.prototype.getMessageReceipt=function(){return this.receipt},t.prototype.setMessageReceipt=function(e){this.receipt=e},t.prototype.getAsString=function(){return JSON.stringify(this.getAsJSONObject())},t.prototype.getAsJSONObject=function(){var e=this.getCometChatEventJSON(),t={};return t[i.KEYS.ACTION]=this.action,t[i.KEYS.MESSAGE_ID]=this.receipt.getMessageId(),t[i.KEYS.USER]=this.receipt.getSender(),e[i.KEYS.BODY]=t,e},t.getReceiptEventFromJSON=function(e){var n=e[i.KEYS.APP_ID],r=e[i.KEYS.RECEIVER],o=e[i.KEYS.RECEIVER_TYPE],a=e[i.KEYS.DEVICE_ID],c=e[i.KEYS.SENDER],l=e[i.KEYS.BODY],d=l[i.KEYS.ACTION],f=l[i.KEYS.USER],p=l[i.KEYS.MESSAGE_ID],h=l[i.KEYS.TIMESTAMP],E=new t(n,r,o,c,a);E.setAction(d);var g=new s.MessageReceipt;return g.setSender(new u.User(f)),g.setReceiverType(o),g.setReceiver(r),d===i.RECEIPTS.ACTION.DELIVERED&&(g.setReceiptType(i.RECEIPTS.RECEIPT_TYPE.DELIVERY_RECEIPT),g.setDeliveredAt(h)),d===i.RECEIPTS.ACTION.READ&&(g.setReceiptType(i.RECEIPTS.RECEIPT_TYPE.READ_RECEIPT),g.setReadAt(h)),g.setMessageId(p.toString()),g.setTimestamp(h),E.setMessageReceipt(g),E},t}(a.CometChatEvent);t.CometChatReceiptEvent=c},function(e,t,n){"use strict";var r,o=this&&this.__extends||(r=function(e,t){return(r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])})(e,t)},function(e,t){function n(){this.constructor=e}r(e,t),e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)});t.__esModule=!0,t.CometChatTransientEvent=void 0;var i=n(5),a=n(9),s=n(27),u=n(4),c=function(e){function t(t,n,r,o,a){var s=e.call(this,t,n,r,o,a)||this;return s.setType(i.TRANSIENT_MESSAGE.TYPE),s}return o(t,e),t.prototype.getTransientMessage=function(){return this.transientMessage},t.prototype.setTransientMessage=function(e){this.transientMessage=e},t.prototype.getAsString=function(){return JSON.stringify(this.getAsJSONObject())},t.prototype.getAsJSONObject=function(){var e=this.getCometChatEventJSON(),t={};return t[i.KEYS.USER]=this.transientMessage.getSender(),this.transientMessage.getData()&&(t[i.KEYS.DATA]=this.transientMessage.getData()),e[i.KEYS.BODY]=t,e},t.getTransientEventFromJSON=function(e){var n=e[i.KEYS.APP_ID],r=e[i.KEYS.RECEIVER],o=e[i.KEYS.RECEIVER_TYPE],a=e[i.KEYS.DEVICE_ID],c=e[i.KEYS.SENDER],l=e[i.KEYS.BODY],d=l[i.KEYS.USER],f=l[i.KEYS.DATA],p=new t(n,r,o,c,a),h=new s.TransientMessage(r,o,f);return h.setSender(new u.User(d)),l.hasOwnProperty(i.KEYS.DATA)&&l[i.KEYS.DATA]&&h.setData(f),p.setTransientMessage(h),p},t}(a.CometChatEvent);t.CometChatTransientEvent=c},function(e,t,n){"use strict";var r,o=this&&this.__extends||(r=function(e,t){return(r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])})(e,t)},function(e,t){function n(){this.constructor=e}r(e,t),e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)});t.__esModule=!0,t.CometChatTypingEvent=void 0;var i=n(5),a=n(9),s=n(26),u=n(4),c=function(e){function t(t,n,r,o,a){var s=e.call(this,t,n,r,o,a)||this;return s.setType(i.TYPING_INDICATOR.TYPE),s}return o(t,e),t.prototype.getAction=function(){return this.action},t.prototype.setAction=function(e){this.action=e},t.prototype.getTypingIndicator=function(){return this.typingIndicator},t.prototype.setTypingIndicator=function(e){this.typingIndicator=e},t.prototype.getAsString=function(){return JSON.stringify(this.getAsJSONObject())},t.prototype.getAsJSONObject=function(){var e=this.getCometChatEventJSON(),t={};return t[i.KEYS.ACTION]=this.action,t[i.KEYS.USER]=this.typingIndicator.getSender(),this.typingIndicator.getMetadata()&&(t[i.KEYS.METADATA]=this.typingIndicator.getMetadata()),e[i.KEYS.BODY]=t,e},t.getTypingEventFromJSON=function(e){var n=e[i.KEYS.APP_ID],r=e[i.KEYS.RECEIVER],o=e[i.KEYS.RECEIVER_TYPE],a=e[i.KEYS.DEVICE_ID],c=e[i.KEYS.SENDER],l=e[i.KEYS.BODY],d=l[i.KEYS.ACTION],f=l[i.KEYS.USER],p=l[i.KEYS.METADATA],h=new t(n,r,o,c,a);h.setAction(d);var E=new s.TypingIndicator(r,o);return E.setSender(new u.User(f)),l.hasOwnProperty(i.KEYS.METADATA)&&l[i.KEYS.METADATA]&&E.setMetadata(p),h.setTypingIndicator(E),h},t}(a.CometChatEvent);t.CometChatTypingEvent=c},function(e,t,n){"use strict";t.__esModule=!0,t.getWSURL=t.stringifyMessage=t.checkConnection=void 0;var r=n(1),o=n(0),i=n(5);t.checkConnection=function(e){return e&&e.readyState===i.READY_STATE.OPEN},t.stringifyMessage=function(e){return JSON.stringify(e)},t.getWSURL=function(){return new Promise((function(e,t){o.getAppSettings().then((function(t){var n=i.WS.protocol+o.getChatHost(t)+":"+t[r.APP_SETTINGS.KEYS.CHAT_WSS_PORT];e(n)}),(function(e){o.Logger.error("WSHelper :: getWSURL",e)}))}))}},function(e,t,n){"use strict";t.__esModule=!0,t.CCExtension=void 0;var r=n(0),o=function(){function e(e){this.id="",this.name="",e&&(r.isFalsy(e.id)||(this.id=e.id),r.isFalsy(e.name)||(this.name=e.name))}return e.prototype.getId=function(){return this.id},e.prototype.getName=function(){return this.name},e}();t.CCExtension=o},function(e,t,n){var r=n(64),o=n(65);e.exports=function(e,t,n){var i=t&&n||0;"string"==typeof e&&(t="binary"===e?new Array(16):null,e=null);var a=(e=e||{}).random||(e.rng||r)();if(a[6]=15&a[6]|64,a[8]=63&a[8]|128,t)for(var s=0;s<16;++s)t[i+s]=a[s];return t||o(a)}},function(e,t){var n="undefined"!=typeof crypto&&crypto.getRandomValues&&crypto.getRandomValues.bind(crypto)||"undefined"!=typeof msCrypto&&"function"==typeof window.msCrypto.getRandomValues&&msCrypto.getRandomValues.bind(msCrypto);if(n){var r=new Uint8Array(16);e.exports=function(){return n(r),r}}else{var o=new Array(16);e.exports=function(){for(var e,t=0;t<16;t++)0==(3&t)&&(e=4294967296*Math.random()),o[t]=e>>>((3&t)<<3)&255;return o}}},function(e,t){for(var n=[],r=0;r<256;++r)n[r]=(r+256).toString(16).substr(1);e.exports=function(e,t){var r=t||0,o=n;return[o[e[r++]],o[e[r++]],o[e[r++]],o[e[r++]],"-",o[e[r++]],o[e[r++]],"-",o[e[r++]],o[e[r++]],"-",o[e[r++]],o[e[r++]],"-",o[e[r++]],o[e[r++]],o[e[r++]],o[e[r++]],o[e[r++]],o[e[r++]]].join("")}}])},171:function(e,t,n){"use strict";e.exports=n.p+"static/media/blue-logo.b59ce5ee3f97b11896e7.png"},574:function(e,t,n){"use strict";e.exports=n.p+"static/media/heyauntie-ladies.f4797cc40154a806003a.png"},737:function(e,t,n){"use strict";e.exports=n.p+"static/media/ladies-discuss.91258386d23d7772f75e.png"},407:function(e,t,n){"use strict";e.exports=n.p+"static/media/pink-logo.77a02826afed5bc35cef.png"}},t={};function n(r){var o=t[r];if(void 0!==o)return o.exports;var i=t[r]={exports:{}};return e[r].call(i.exports,i,i.exports,n),i.exports}n.m=e,n.n=function(e){var t=e&&e.__esModule?function(){return e.default}:function(){return e};return n.d(t,{a:t}),t},n.d=function(e,t){for(var r in t)n.o(t,r)&&!n.o(e,r)&&Object.defineProperty(e,r,{enumerable:!0,get:t[r]})},n.f={},n.e=function(e){return Promise.all(Object.keys(n.f).reduce((function(t,r){return n.f[r](e,t),t}),[]))},n.u=function(e){return"static/js/"+e+".643acd73.chunk.js"},n.miniCssF=function(e){},n.g=function(){if("object"===typeof globalThis)return globalThis;try{return this||new Function("return this")()}catch(e){if("object"===typeof window)return window}}(),n.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},function(){var e={},t="heyauntie:";n.l=function(r,o,i,a){if(e[r])e[r].push(o);else{var s,u;if(void 0!==i)for(var c=document.getElementsByTagName("script"),l=0;l<c.length;l++){var d=c[l];if(d.getAttribute("src")==r||d.getAttribute("data-webpack")==t+i){s=d;break}}s||(u=!0,(s=document.createElement("script")).charset="utf-8",s.timeout=120,n.nc&&s.setAttribute("nonce",n.nc),s.setAttribute("data-webpack",t+i),s.src=r),e[r]=[o];var f=function(t,n){s.onerror=s.onload=null,clearTimeout(p);var o=e[r];if(delete e[r],s.parentNode&&s.parentNode.removeChild(s),o&&o.forEach((function(e){return e(n)})),t)return t(n)},p=setTimeout(f.bind(null,void 0,{type:"timeout",target:s}),12e4);s.onerror=f.bind(null,s.onerror),s.onload=f.bind(null,s.onload),u&&document.head.appendChild(s)}}}(),n.r=function(e){"undefined"!==typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},n.p="/heyauntie/",function(){var e={179:0};n.f.j=function(t,r){var o=n.o(e,t)?e[t]:void 0;if(0!==o)if(o)r.push(o[2]);else{var i=new Promise((function(n,r){o=e[t]=[n,r]}));r.push(o[2]=i);var a=n.p+n.u(t),s=new Error;n.l(a,(function(r){if(n.o(e,t)&&(0!==(o=e[t])&&(e[t]=void 0),o)){var i=r&&("load"===r.type?"missing":r.type),a=r&&r.target&&r.target.src;s.message="Loading chunk "+t+" failed.\n("+i+": "+a+")",s.name="ChunkLoadError",s.type=i,s.request=a,o[1](s)}}),"chunk-"+t,t)}};var t=function(t,r){var o,i,a=r[0],s=r[1],u=r[2],c=0;if(a.some((function(t){return 0!==e[t]}))){for(o in s)n.o(s,o)&&(n.m[o]=s[o]);if(u)u(n)}for(t&&t(r);c<a.length;c++)i=a[c],n.o(e,i)&&e[i]&&e[i][0](),e[i]=0},r=self.webpackChunkheyauntie=self.webpackChunkheyauntie||[];r.forEach(t.bind(null,0)),r.push=t.bind(null,r.push.bind(r))}(),function(){"use strict";var e,t=n(791),r=n(164),o=function(e){e&&e instanceof Function&&n.e(787).then(n.bind(n,787)).then((function(t){var n=t.getCLS,r=t.getFID,o=t.getFCP,i=t.getLCP,a=t.getTTFB;n(e),r(e),o(e),i(e),a(e)}))};function i(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function a(e,t){if(e){if("string"===typeof e)return i(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?i(e,t):void 0}}function s(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=null==e?null:"undefined"!==typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=n){var r,o,i=[],a=!0,s=!1;try{for(n=n.call(e);!(a=(r=n.next()).done)&&(i.push(r.value),!t||i.length!==t);a=!0);}catch(u){s=!0,o=u}finally{try{a||null==n.return||n.return()}finally{if(s)throw o}}return i}}(e,t)||a(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function u(){return u=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},u.apply(this,arguments)}!function(e){e.Pop="POP",e.Push="PUSH",e.Replace="REPLACE"}(e||(e={}));var c=function(e){return e};var l="beforeunload",d="popstate";function f(e){e.preventDefault(),e.returnValue=""}function p(){var e=[];return{get length(){return e.length},push:function(t){return e.push(t),function(){e=e.filter((function(e){return e!==t}))}},call:function(t){e.forEach((function(e){return e&&e(t)}))}}}function h(){return Math.random().toString(36).substr(2,8)}function E(e){var t=e.pathname,n=void 0===t?"/":t,r=e.search,o=void 0===r?"":r,i=e.hash,a=void 0===i?"":i;return o&&"?"!==o&&(n+="?"===o.charAt(0)?o:"?"+o),a&&"#"!==a&&(n+="#"===a.charAt(0)?a:"#"+a),n}function g(e){var t={};if(e){var n=e.indexOf("#");n>=0&&(t.hash=e.substr(n),e=e.substr(0,n));var r=e.indexOf("?");r>=0&&(t.search=e.substr(r),e=e.substr(0,r)),e&&(t.pathname=e)}return t}var v=(0,t.createContext)(null);var m=(0,t.createContext)(null);var _=(0,t.createContext)({outlet:null,matches:[]});function S(e,t){if(!e)throw new Error(t)}function y(e,t,n){void 0===n&&(n="/");var r=b(("string"===typeof t?g(t):t).pathname||"/",n);if(null==r)return null;var o=C(e);!function(e){e.sort((function(e,t){return e.score!==t.score?t.score-e.score:function(e,t){var n=e.length===t.length&&e.slice(0,-1).every((function(e,n){return e===t[n]}));return n?e[e.length-1]-t[t.length-1]:0}(e.routesMeta.map((function(e){return e.childrenIndex})),t.routesMeta.map((function(e){return e.childrenIndex})))}))}(o);for(var i=null,a=0;null==i&&a<o.length;++a)i=R(o[a],r);return i}function C(e,t,n,r){return void 0===t&&(t=[]),void 0===n&&(n=[]),void 0===r&&(r=""),e.forEach((function(e,o){var i={relativePath:e.path||"",caseSensitive:!0===e.caseSensitive,childrenIndex:o,route:e};i.relativePath.startsWith("/")&&(i.relativePath.startsWith(r)||S(!1),i.relativePath=i.relativePath.slice(r.length));var a=w([r,i.relativePath]),s=n.concat(i);e.children&&e.children.length>0&&(!0===e.index&&S(!1),C(e.children,t,s,a)),(null!=e.path||e.index)&&t.push({path:a,score:A(a,e.index),routesMeta:s})})),t}var T=/^:\w+$/,I=function(e){return"*"===e};function A(e,t){var n=e.split("/"),r=n.length;return n.some(I)&&(r+=-2),t&&(r+=2),n.filter((function(e){return!I(e)})).reduce((function(e,t){return e+(T.test(t)?3:""===t?1:10)}),r)}function R(e,t){for(var n=e.routesMeta,r={},o="/",i=[],a=0;a<n.length;++a){var s=n[a],u=a===n.length-1,c="/"===o?t:t.slice(o.length)||"/",l=O({path:s.relativePath,caseSensitive:s.caseSensitive,end:u},c);if(!l)return null;Object.assign(r,l.params);var d=s.route;i.push({params:r,pathname:w([o,l.pathname]),pathnameBase:P(w([o,l.pathnameBase])),route:d}),"/"!==l.pathnameBase&&(o=w([o,l.pathnameBase]))}return i}function O(e,t){"string"===typeof e&&(e={path:e,caseSensitive:!1,end:!0});var n=function(e,t,n){void 0===t&&(t=!1);void 0===n&&(n=!0);var r=[],o="^"+e.replace(/\/*\*?$/,"").replace(/^\/*/,"/").replace(/[\\.*+^$?{}|()[\]]/g,"\\$&").replace(/:(\w+)/g,(function(e,t){return r.push(t),"([^\\/]+)"}));e.endsWith("*")?(r.push("*"),o+="*"===e||"/*"===e?"(.*)$":"(?:\\/(.+)|\\/*)$"):o+=n?"\\/*$":"(?:(?=[.~-]|%[0-9A-F]{2})|\\b|\\/|$)";return[new RegExp(o,t?void 0:"i"),r]}(e.path,e.caseSensitive,e.end),r=s(n,2),o=r[0],i=r[1],a=t.match(o);if(!a)return null;var u=a[0],c=u.replace(/(.)\/+$/,"$1"),l=a.slice(1);return{params:i.reduce((function(e,t,n){if("*"===t){var r=l[n]||"";c=u.slice(0,u.length-r.length).replace(/(.)\/+$/,"$1")}return e[t]=function(e,t){try{return decodeURIComponent(e)}catch(yu){return e}}(l[n]||""),e}),{}),pathname:u,pathnameBase:c,pattern:e}}function N(e,t,n){var r,o="string"===typeof e?g(e):e,i=""===e||""===o.pathname?"/":o.pathname;if(null==i)r=n;else{var a=t.length-1;if(i.startsWith("..")){for(var s=i.split("/");".."===s[0];)s.shift(),a-=1;o.pathname=s.join("/")}r=a>=0?t[a]:"/"}var u=function(e,t){void 0===t&&(t="/");var n="string"===typeof e?g(e):e,r=n.pathname,o=n.search,i=void 0===o?"":o,a=n.hash,s=void 0===a?"":a,u=r?r.startsWith("/")?r:function(e,t){var n=t.replace(/\/+$/,"").split("/");return e.split("/").forEach((function(e){".."===e?n.length>1&&n.pop():"."!==e&&n.push(e)})),n.length>1?n.join("/"):"/"}(r,t):t;return{pathname:u,search:L(i),hash:M(s)}}(o,r);return i&&"/"!==i&&i.endsWith("/")&&!u.pathname.endsWith("/")&&(u.pathname+="/"),u}function b(e,t){if("/"===t)return e;if(!e.toLowerCase().startsWith(t.toLowerCase()))return null;var n=e.charAt(t.length);return n&&"/"!==n?null:e.slice(t.length)||"/"}var w=function(e){return e.join("/").replace(/\/\/+/g,"/")},P=function(e){return e.replace(/\/+$/,"").replace(/^\/*/,"/")},L=function(e){return e&&"?"!==e?e.startsWith("?")?e:"?"+e:""},M=function(e){return e&&"#"!==e?e.startsWith("#")?e:"#"+e:""};function D(){return null!=(0,t.useContext)(m)}function x(){return D()||S(!1),(0,t.useContext)(m).location}function k(e,n){return void 0===n&&(n=[]),null==e?null:e.reduceRight((function(r,o,i){return(0,t.createElement)(_.Provider,{children:void 0!==o.route.element?o.route.element:r,value:{outlet:r,matches:n.concat(e.slice(0,i+1))}})}),null)}function U(e){var n=e.to,r=e.replace,o=e.state;D()||S(!1);var i=function(){D()||S(!1);var e=(0,t.useContext)(v),n=e.basename,r=e.navigator,o=(0,t.useContext)(_).matches,i=x().pathname,a=JSON.stringify(o.map((function(e){return e.pathnameBase}))),s=(0,t.useRef)(!1);(0,t.useEffect)((function(){s.current=!0}));var u=(0,t.useCallback)((function(e,t){if(void 0===t&&(t={}),s.current)if("number"!==typeof e){var o=N(e,JSON.parse(a),i);"/"!==n&&(o.pathname=w([n,o.pathname])),(t.replace?r.replace:r.push)(o,t.state)}else r.go(e)}),[n,r,a,i]);return u}();return(0,t.useEffect)((function(){i(n,{replace:r,state:o})})),null}function Y(e){S(!1)}function G(n){var r=n.basename,o=void 0===r?"/":r,i=n.children,a=void 0===i?null:i,s=n.location,u=n.navigationType,c=void 0===u?e.Pop:u,l=n.navigator,d=n.static,f=void 0!==d&&d;D()&&S(!1);var p=P(o),h=(0,t.useMemo)((function(){return{basename:p,navigator:l,static:f}}),[p,l,f]);"string"===typeof s&&(s=g(s));var E=s,_=E.pathname,y=void 0===_?"/":_,C=E.search,T=void 0===C?"":C,I=E.hash,A=void 0===I?"":I,R=E.state,O=void 0===R?null:R,N=E.key,w=void 0===N?"default":N,L=(0,t.useMemo)((function(){var e=b(y,p);return null==e?null:{pathname:e,search:T,hash:A,state:O,key:w}}),[p,y,T,A,O,w]);return null==L?null:(0,t.createElement)(v.Provider,{value:h},(0,t.createElement)(m.Provider,{children:a,value:{location:L,navigationType:c}}))}function F(e){var n=e.children,r=e.location;return function(e,n){D()||S(!1);var r,o=(0,t.useContext)(_).matches,i=o[o.length-1],a=i?i.params:{},s=(i&&i.pathname,i?i.pathnameBase:"/"),u=(i&&i.route,x());if(n){var c,l="string"===typeof n?g(n):n;"/"===s||(null==(c=l.pathname)?void 0:c.startsWith(s))||S(!1),r=l}else r=u;var d=r.pathname||"/",f=y(e,{pathname:"/"===s?d:d.slice(s.length)||"/"});return k(f&&f.map((function(e){return Object.assign({},e,{params:Object.assign({},a,e.params),pathname:w([s,e.pathname]),pathnameBase:"/"===e.pathnameBase?s:w([s,e.pathnameBase])})})),o)}(K(n),r)}function K(e){var n=[];return t.Children.forEach(e,(function(e){if((0,t.isValidElement)(e))if(e.type!==t.Fragment){e.type!==Y&&S(!1);var r={caseSensitive:e.props.caseSensitive,element:e.props.element,index:e.props.index,path:e.props.path};e.props.children&&(r.children=K(e.props.children)),n.push(r)}else n.push.apply(n,K(e.props.children))})),n}function B(n){var r=n.basename,o=n.children,i=n.window,a=(0,t.useRef)();null==a.current&&(a.current=function(t){void 0===t&&(t={});var n=t.window,r=void 0===n?document.defaultView:n,o=r.history;function i(){var e=r.location,t=e.pathname,n=e.search,i=e.hash,a=o.state||{};return[a.idx,c({pathname:t,search:n,hash:i,state:a.usr||null,key:a.key||"default"})]}var a=null;r.addEventListener(d,(function(){if(a)y.call(a),a=null;else{var t=e.Pop,n=i(),r=n[0],o=n[1];if(y.length){if(null!=r){var s=m-r;s&&(a={action:t,location:o,retry:function(){O(-1*s)}},O(s))}}else R(t)}}));var s=e.Pop,v=i(),m=v[0],_=v[1],S=p(),y=p();function C(e){return"string"===typeof e?e:E(e)}function T(e,t){return void 0===t&&(t=null),c(u({pathname:_.pathname,hash:"",search:""},"string"===typeof e?g(e):e,{state:t,key:h()}))}function I(e,t){return[{usr:e.state,key:e.key,idx:t},C(e)]}function A(e,t,n){return!y.length||(y.call({action:e,location:t,retry:n}),!1)}function R(e){s=e;var t=i();m=t[0],_=t[1],S.call({action:s,location:_})}function O(e){o.go(e)}null==m&&(m=0,o.replaceState(u({},o.state,{idx:m}),""));var N={get action(){return s},get location(){return _},createHref:C,push:function t(n,i){var a=e.Push,s=T(n,i);if(A(a,s,(function(){t(n,i)}))){var u=I(s,m+1),c=u[0],l=u[1];try{o.pushState(c,"",l)}catch(yu){r.location.assign(l)}R(a)}},replace:function t(n,r){var i=e.Replace,a=T(n,r);if(A(i,a,(function(){t(n,r)}))){var s=I(a,m),u=s[0],c=s[1];o.replaceState(u,"",c),R(i)}},go:O,back:function(){O(-1)},forward:function(){O(1)},listen:function(e){return S.push(e)},block:function(e){var t=y.push(e);return 1===y.length&&r.addEventListener(l,f),function(){t(),y.length||r.removeEventListener(l,f)}}};return N}({window:i}));var v=a.current,m=s((0,t.useState)({action:v.action,location:v.location}),2),_=m[0],S=m[1];return(0,t.useLayoutEffect)((function(){return v.listen(S)}),[v]),(0,t.createElement)(G,{basename:r,children:o,location:_.location,navigationType:_.action,navigator:v})}function j(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function V(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function H(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?V(Object(n),!0).forEach((function(t){j(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):V(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function W(e,t){if(null==e)return{};var n,r,o={},i=Object.keys(e);for(r=0;r<i.length;r++)n=i[r],t.indexOf(n)>=0||(o[n]=e[n]);return o}function J(e,t){if(null==e)return{};var n,r,o=W(e,t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(r=0;r<i.length;r++)n=i[r],t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(o[n]=e[n])}return o}var z=n(694),q=n.n(z),Q=n(184),X=["as","disabled"];function $(e){var t=e.tagName,n=e.disabled,r=e.href,o=e.target,i=e.rel,a=e.role,s=e.onClick,u=e.tabIndex,c=void 0===u?0:u,l=e.type;t||(t=null!=r||null!=o||null!=i?"a":"button");var d={tagName:t};if("button"===t)return[{type:l||"button",disabled:n},d];var f=function(e){(n||"a"===t&&function(e){return!e||"#"===e.trim()}(r))&&e.preventDefault(),n?e.stopPropagation():null==s||s(e)};return"a"===t&&(r||(r="#"),n&&(r=void 0)),[{role:null!=a?a:"button",disabled:void 0,tabIndex:n?void 0:c,href:r,target:"a"===t?o:void 0,"aria-disabled":n||void 0,rel:"a"===t?i:void 0,onClick:f,onKeyDown:function(e){" "===e.key&&(e.preventDefault(),f(e))}},d]}var Z=t.forwardRef((function(e,t){var n=e.as,r=e.disabled,o=function(e,t){if(null==e)return{};var n,r,o={},i=Object.keys(e);for(r=0;r<i.length;r++)n=i[r],t.indexOf(n)>=0||(o[n]=e[n]);return o}(e,X),i=s($(Object.assign({tagName:n,disabled:r},o)),2),a=i[0],u=i[1].tagName;return(0,Q.jsx)(u,Object.assign({},o,a,{ref:t}))}));Z.displayName="Button";var ee=Z,te=["xxl","xl","lg","md","sm","xs"],ne=t.createContext({prefixes:{},breakpoints:te,minBreakpoint:"xs"});ne.Consumer,ne.Provider;function re(e,n){var r=(0,t.useContext)(ne).prefixes;return e||r[n]||n}var oe=["as","bsPrefix","variant","size","active","className"],ie=t.forwardRef((function(e,t){var n=e.as,r=e.bsPrefix,o=e.variant,i=e.size,a=e.active,u=e.className,c=J(e,oe),l=re(r,"btn"),d=s($(H({tagName:n},c)),2),f=d[0],p=d[1].tagName;return(0,Q.jsx)(p,H(H(H({},f),c),{},{ref:t,className:q()(u,l,a&&"active",o&&"".concat(l,"-").concat(o),i&&"".concat(l,"-").concat(i),c.href&&c.disabled&&"disabled")}))}));ie.displayName="Button",ie.defaultProps={variant:"primary",active:!1,disabled:!1};var ae=ie,se=["bsPrefix","fluid","as","className"],ue=t.forwardRef((function(e,t){var n=e.bsPrefix,r=e.fluid,o=e.as,i=void 0===o?"div":o,a=e.className,s=J(e,se),u=re(n,"container"),c="string"===typeof r?"-".concat(r):"-fluid";return(0,Q.jsx)(i,H(H({ref:t},s),{},{className:q()(a,r?"".concat(u).concat(c):u)}))}));ue.displayName="Container",ue.defaultProps={fluid:!1};var ce=ue;n(573),n(176);function le(e){return"default"+e.charAt(0).toUpperCase()+e.substr(1)}function de(e){var t=function(e,t){if("object"!==typeof e||null===e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,t||"default");if("object"!==typeof r)return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"===typeof t?t:String(t)}function fe(e,n,r){var o=(0,t.useRef)(void 0!==e),i=(0,t.useState)(n),a=i[0],s=i[1],u=void 0!==e,c=o.current;return o.current=u,!u&&c&&a!==n&&s(n),[u?e:a,(0,t.useCallback)((function(e){for(var t=arguments.length,n=new Array(t>1?t-1:0),o=1;o<t;o++)n[o-1]=arguments[o];r&&r.apply(void 0,[e].concat(n)),s(e)}),[r])]}function pe(e,t){return Object.keys(t).reduce((function(n,r){var o,i=n,a=i[le(r)],s=i[r],c=W(i,[le(r),r].map(de)),l=t[r],d=fe(s,a,e[l]),f=d[0],p=d[1];return u({},c,((o={})[r]=f,o[l]=p,o))}),e)}function he(){var e=this.constructor.getDerivedStateFromProps(this.props,this.state);null!==e&&void 0!==e&&this.setState(e)}function Ee(e){this.setState(function(t){var n=this.constructor.getDerivedStateFromProps(e,t);return null!==n&&void 0!==n?n:null}.bind(this))}function ge(e,t){try{var n=this.props,r=this.state;this.props=e,this.state=t,this.__reactInternalSnapshotFlag=!0,this.__reactInternalSnapshot=this.getSnapshotBeforeUpdate(n,r)}finally{this.props=n,this.state=r}}he.__suppressDeprecationWarning=!0,Ee.__suppressDeprecationWarning=!0,ge.__suppressDeprecationWarning=!0;var ve=Function.prototype.bind.call(Function.prototype.call,[].slice);function me(e,t){return ve(e.querySelectorAll(t))}function _e(){return(0,t.useReducer)((function(e){return!e}),!1)[1]}var Se=function(e){return e&&"function"!==typeof e?function(t){e.current=t}:e};var ye=function(e,n){return(0,t.useMemo)((function(){return function(e,t){var n=Se(e),r=Se(t);return function(e){n&&n(e),r&&r(e)}}(e,n)}),[e,n])},Ce=t.createContext(null);Ce.displayName="NavContext";var Te=Ce,Ie=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null;return null!=e?String(e):t||null},Ae=t.createContext(null),Re=t.createContext(null);function Oe(e){return"".concat("data-rr-ui-").concat(e)}var Ne=function(e){var n=(0,t.useRef)(e);return(0,t.useEffect)((function(){n.current=e}),[e]),n};function be(e){var n=Ne(e);return(0,t.useCallback)((function(){return n.current&&n.current.apply(n,arguments)}),[n])}var we=["as","active","eventKey"];function Pe(e){var n=e.key,r=e.onClick,o=e.active,i=e.id,a=e.role,s=e.disabled,u=(0,t.useContext)(Ae),c=(0,t.useContext)(Te),l=(0,t.useContext)(Re),d=o,f={role:a};if(c){a||"tablist"!==c.role||(f.role="tab");var p=c.getControllerId(null!=n?n:null),h=c.getControlledId(null!=n?n:null);f[Oe("event-key")]=n,f.id=p||i,!(d=null==o&&null!=n?c.activeKey===n:o)&&(null!=l&&l.unmountOnExit||null!=l&&l.mountOnEnter)||(f["aria-controls"]=h)}return"tab"===f.role&&(f["aria-selected"]=d,d||(f.tabIndex=-1),s&&(f.tabIndex=-1,f["aria-disabled"]=!0)),f.onClick=be((function(e){s||(null==r||r(e),null!=n&&u&&!e.isPropagationStopped()&&u(n,e))})),[f,{isActive:d}]}var Le=t.forwardRef((function(e,t){var n=e.as,r=void 0===n?ee:n,o=e.active,i=e.eventKey,a=function(e,t){if(null==e)return{};var n,r,o={},i=Object.keys(e);for(r=0;r<i.length;r++)n=i[r],t.indexOf(n)>=0||(o[n]=e[n]);return o}(e,we),u=s(Pe(Object.assign({key:Ie(i,a.href),active:o},a)),2),c=u[0],l=u[1];return c[Oe("active")]=l.isActive,(0,Q.jsx)(r,Object.assign({},a,c,{ref:t}))}));Le.displayName="NavItem";var Me=Le,De=["as","onSelect","activeKey","role","onKeyDown"];var xe=function(){},ke=Oe("event-key"),Ue=t.forwardRef((function(e,n){var r,o,i=e.as,a=void 0===i?"div":i,s=e.onSelect,u=e.activeKey,c=e.role,l=e.onKeyDown,d=function(e,t){if(null==e)return{};var n,r,o={},i=Object.keys(e);for(r=0;r<i.length;r++)n=i[r],t.indexOf(n)>=0||(o[n]=e[n]);return o}(e,De),f=_e(),p=(0,t.useRef)(!1),h=(0,t.useContext)(Ae),E=(0,t.useContext)(Re);E&&(c=c||"tablist",u=E.activeKey,r=E.getControlledId,o=E.getControllerId);var g=(0,t.useRef)(null),v=function(e){var t=g.current;if(!t)return null;var n=me(t,"[".concat(ke,"]:not([aria-disabled=true])")),r=t.querySelector("[aria-selected=true]");if(!r||r!==document.activeElement)return null;var o=n.indexOf(r);if(-1===o)return null;var i=o+e;return i>=n.length&&(i=0),i<0&&(i=n.length-1),n[i]},m=function(e,t){null!=e&&(null==s||s(e,t),null==h||h(e,t))};(0,t.useEffect)((function(){if(g.current&&p.current){var e=g.current.querySelector("[".concat(ke,"][aria-selected=true]"));null==e||e.focus()}p.current=!1}));var _=ye(n,g);return(0,Q.jsx)(Ae.Provider,{value:m,children:(0,Q.jsx)(Te.Provider,{value:{role:c,activeKey:Ie(u),getControlledId:r||xe,getControllerId:o||xe},children:(0,Q.jsx)(a,Object.assign({},d,{onKeyDown:function(e){if(null==l||l(e),E){var t,n;switch(e.key){case"ArrowLeft":case"ArrowUp":t=v(-1);break;case"ArrowRight":case"ArrowDown":t=v(1);break;default:return}if(t)e.preventDefault(),m(t.dataset[(n="EventKey","".concat("rrUi").concat(n))]||null,e),p.current=!0,f()}},ref:_,role:c}))})})}));Ue.displayName="Nav";var Ye=Object.assign(Ue,{Item:Me}),Ge=t.createContext(null);Ge.displayName="NavbarContext";var Fe=Ge,Ke=t.createContext(null);Ke.displayName="CardHeaderContext";var Be=Ke,je=/-(.)/g;var Ve=["className","bsPrefix","as"],He=function(e){return e[0].toUpperCase()+(t=e,t.replace(je,(function(e,t){return t.toUpperCase()}))).slice(1);var t};function We(e){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},r=n.displayName,o=void 0===r?He(e):r,i=n.Component,a=n.defaultProps,s=t.forwardRef((function(t,n){var r=t.className,o=t.bsPrefix,a=t.as,s=void 0===a?i||"div":a,u=J(t,Ve),c=re(o,e);return(0,Q.jsx)(s,H({ref:n,className:q()(r,c)},u))}));return s.defaultProps=a,s.displayName=o,s}var Je=We("nav-item");function ze(){return(0,t.useState)(null)}function qe(){var e=(0,t.useRef)(!0),n=(0,t.useRef)((function(){return e.current}));return(0,t.useEffect)((function(){return e.current=!0,function(){e.current=!1}}),[]),n.current}function Qe(e){var n=(0,t.useRef)(null);return(0,t.useEffect)((function(){n.current=e})),n.current}var Xe="undefined"!==typeof n.g&&n.g.navigator&&"ReactNative"===n.g.navigator.product,$e="undefined"!==typeof document||Xe?t.useLayoutEffect:t.useEffect;new WeakMap;var Ze=["onKeyDown"];var et=t.forwardRef((function(e,t){var n,r=e.onKeyDown,o=function(e,t){if(null==e)return{};var n,r,o={},i=Object.keys(e);for(r=0;r<i.length;r++)n=i[r],t.indexOf(n)>=0||(o[n]=e[n]);return o}(e,Ze),i=s($(Object.assign({tagName:"a"},o)),1)[0],a=be((function(e){i.onKeyDown(e),null==r||r(e)}));return(n=o.href)&&"#"!==n.trim()&&"button"!==o.role?(0,Q.jsx)("a",Object.assign({ref:t},o,{onKeyDown:r})):(0,Q.jsx)("a",Object.assign({ref:t},o,i,{onKeyDown:a}))}));et.displayName="Anchor";var tt=et,nt=["bsPrefix","className","as","active","eventKey"],rt=t.forwardRef((function(e,t){var n=e.bsPrefix,r=e.className,o=e.as,i=void 0===o?tt:o,a=e.active,u=e.eventKey,c=J(e,nt);n=re(n,"nav-link");var l=s(Pe(H({key:Ie(u,c.href),active:a},c)),2),d=l[0],f=l[1];return(0,Q.jsx)(i,H(H(H({},c),d),{},{ref:t,className:q()(r,n,c.disabled&&"disabled",f.isActive&&"active")}))}));rt.displayName="NavLink",rt.defaultProps={disabled:!1};var ot=rt,it=["as","bsPrefix","variant","fill","justify","navbar","navbarScroll","className","activeKey"],at=t.forwardRef((function(e,n){var r,o,i,a=pe(e,{activeKey:"onSelect"}),s=a.as,u=void 0===s?"div":s,c=a.bsPrefix,l=a.variant,d=a.fill,f=a.justify,p=a.navbar,h=a.navbarScroll,E=a.className,g=a.activeKey,v=J(a,it),m=re(c,"nav"),_=!1,S=(0,t.useContext)(Fe),y=(0,t.useContext)(Be);return S?(o=S.bsPrefix,_=null==p||p):y&&(i=y.cardHeaderBsPrefix),(0,Q.jsx)(Ye,H({as:u,ref:n,activeKey:g,className:q()(E,(r={},j(r,m,!_),j(r,"".concat(o,"-nav"),_),j(r,"".concat(o,"-nav-scroll"),_&&h),j(r,"".concat(i,"-").concat(l),!!i),j(r,"".concat(m,"-").concat(l),!!l),j(r,"".concat(m,"-fill"),d),j(r,"".concat(m,"-justified"),f),r))},v))}));at.displayName="Nav",at.defaultProps={justify:!1,fill:!1};var st=Object.assign(at,{Item:Je,Link:ot}),ut=["bsPrefix","className","as"],ct=t.forwardRef((function(e,t){var n=e.bsPrefix,r=e.className,o=e.as,i=J(e,ut);n=re(n,"navbar-brand");var a=o||(i.href?"a":"span");return(0,Q.jsx)(a,H(H({},i),{},{ref:t,className:q()(r,n)}))}));ct.displayName="NavbarBrand";var lt=ct;function dt(e){return e&&e.ownerDocument||document}function ft(e,t){return function(e){var t=dt(e);return t&&t.defaultView||window}(e).getComputedStyle(e,t)}var pt=/([A-Z])/g;var ht=/^ms-/;function Et(e){return function(e){return e.replace(pt,"-$1").toLowerCase()}(e).replace(ht,"-ms-")}var gt=/^((translate|rotate|scale)(X|Y|Z|3d)?|matrix(3d)?|perspective|skew(X|Y)?)$/i;var vt=function(e,t){var n="",r="";if("string"===typeof t)return e.style.getPropertyValue(Et(t))||ft(e).getPropertyValue(Et(t));Object.keys(t).forEach((function(o){var i=t[o];i||0===i?!function(e){return!(!e||!gt.test(e))}(o)?n+=Et(o)+": "+i+";":r+=o+"("+i+") ":e.style.removeProperty(Et(o))})),r&&(n+="transform: "+r+";"),e.style.cssText+=";"+n};function mt(e,t){return mt=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(e,t){return e.__proto__=t,e},mt(e,t)}var _t=!1,St=t.createContext(null),yt="unmounted",Ct="exited",Tt="entering",It="entered",At="exiting",Rt=function(e){var n,o;function i(t,n){var r;r=e.call(this,t,n)||this;var o,i=n&&!n.isMounting?t.enter:t.appear;return r.appearStatus=null,t.in?i?(o=Ct,r.appearStatus=Tt):o=It:o=t.unmountOnExit||t.mountOnEnter?yt:Ct,r.state={status:o},r.nextCallback=null,r}o=e,(n=i).prototype=Object.create(o.prototype),n.prototype.constructor=n,mt(n,o),i.getDerivedStateFromProps=function(e,t){return e.in&&t.status===yt?{status:Ct}:null};var a=i.prototype;return a.componentDidMount=function(){this.updateStatus(!0,this.appearStatus)},a.componentDidUpdate=function(e){var t=null;if(e!==this.props){var n=this.state.status;this.props.in?n!==Tt&&n!==It&&(t=Tt):n!==Tt&&n!==It||(t=At)}this.updateStatus(!1,t)},a.componentWillUnmount=function(){this.cancelNextCallback()},a.getTimeouts=function(){var e,t,n,r=this.props.timeout;return e=t=n=r,null!=r&&"number"!==typeof r&&(e=r.exit,t=r.enter,n=void 0!==r.appear?r.appear:t),{exit:e,enter:t,appear:n}},a.updateStatus=function(e,t){if(void 0===e&&(e=!1),null!==t)if(this.cancelNextCallback(),t===Tt){if(this.props.unmountOnExit||this.props.mountOnEnter){var n=this.props.nodeRef?this.props.nodeRef.current:r.findDOMNode(this);n&&function(e){e.scrollTop}(n)}this.performEnter(e)}else this.performExit();else this.props.unmountOnExit&&this.state.status===Ct&&this.setState({status:yt})},a.performEnter=function(e){var t=this,n=this.props.enter,o=this.context?this.context.isMounting:e,i=this.props.nodeRef?[o]:[r.findDOMNode(this),o],a=i[0],s=i[1],u=this.getTimeouts(),c=o?u.appear:u.enter;!e&&!n||_t?this.safeSetState({status:It},(function(){t.props.onEntered(a)})):(this.props.onEnter(a,s),this.safeSetState({status:Tt},(function(){t.props.onEntering(a,s),t.onTransitionEnd(c,(function(){t.safeSetState({status:It},(function(){t.props.onEntered(a,s)}))}))})))},a.performExit=function(){var e=this,t=this.props.exit,n=this.getTimeouts(),o=this.props.nodeRef?void 0:r.findDOMNode(this);t&&!_t?(this.props.onExit(o),this.safeSetState({status:At},(function(){e.props.onExiting(o),e.onTransitionEnd(n.exit,(function(){e.safeSetState({status:Ct},(function(){e.props.onExited(o)}))}))}))):this.safeSetState({status:Ct},(function(){e.props.onExited(o)}))},a.cancelNextCallback=function(){null!==this.nextCallback&&(this.nextCallback.cancel(),this.nextCallback=null)},a.safeSetState=function(e,t){t=this.setNextCallback(t),this.setState(e,t)},a.setNextCallback=function(e){var t=this,n=!0;return this.nextCallback=function(r){n&&(n=!1,t.nextCallback=null,e(r))},this.nextCallback.cancel=function(){n=!1},this.nextCallback},a.onTransitionEnd=function(e,t){this.setNextCallback(t);var n=this.props.nodeRef?this.props.nodeRef.current:r.findDOMNode(this),o=null==e&&!this.props.addEndListener;if(n&&!o){if(this.props.addEndListener){var i=this.props.nodeRef?[this.nextCallback]:[n,this.nextCallback],a=i[0],s=i[1];this.props.addEndListener(a,s)}null!=e&&setTimeout(this.nextCallback,e)}else setTimeout(this.nextCallback,0)},a.render=function(){var e=this.state.status;if(e===yt)return null;var n=this.props,r=n.children,o=(n.in,n.mountOnEnter,n.unmountOnExit,n.appear,n.enter,n.exit,n.timeout,n.addEndListener,n.onEnter,n.onEntering,n.onEntered,n.onExit,n.onExiting,n.onExited,n.nodeRef,W(n,["children","in","mountOnEnter","unmountOnExit","appear","enter","exit","timeout","addEndListener","onEnter","onEntering","onEntered","onExit","onExiting","onExited","nodeRef"]));return t.createElement(St.Provider,{value:null},"function"===typeof r?r(e,o):t.cloneElement(t.Children.only(r),o))},i}(t.Component);function Ot(){}Rt.contextType=St,Rt.propTypes={},Rt.defaultProps={in:!1,mountOnEnter:!1,unmountOnExit:!1,appear:!1,enter:!0,exit:!0,onEnter:Ot,onEntering:Ot,onEntered:Ot,onExit:Ot,onExiting:Ot,onExited:Ot},Rt.UNMOUNTED=yt,Rt.EXITED=Ct,Rt.ENTERING=Tt,Rt.ENTERED=It,Rt.EXITING=At;var Nt=Rt,bt=!("undefined"===typeof window||!window.document||!window.document.createElement),wt=!1,Pt=!1;try{var Lt={get passive(){return wt=!0},get once(){return Pt=wt=!0}};bt&&(window.addEventListener("test",Lt,Lt),window.removeEventListener("test",Lt,!0))}catch(Cp){}var Mt=function(e,t,n,r){if(r&&"boolean"!==typeof r&&!Pt){var o=r.once,i=r.capture,a=n;!Pt&&o&&(a=n.__once||function e(r){this.removeEventListener(t,e,i),n.call(this,r)},n.__once=a),e.addEventListener(t,a,wt?r:i)}e.addEventListener(t,n,r)};var Dt=function(e,t,n,r){var o=r&&"boolean"!==typeof r?r.capture:r;e.removeEventListener(t,n,o),n.__once&&e.removeEventListener(t,n.__once,o)};var xt=function(e,t,n,r){return Mt(e,t,n,r),function(){Dt(e,t,n,r)}};function kt(e,t,n){void 0===n&&(n=5);var r=!1,o=setTimeout((function(){r||function(e,t,n,r){if(void 0===n&&(n=!1),void 0===r&&(r=!0),e){var o=document.createEvent("HTMLEvents");o.initEvent(t,n,r),e.dispatchEvent(o)}}(e,"transitionend",!0)}),t+n),i=xt(e,"transitionend",(function(){r=!0}),{once:!0});return function(){clearTimeout(o),i()}}function Ut(e,t,n,r){null==n&&(n=function(e){var t=vt(e,"transitionDuration")||"",n=-1===t.indexOf("ms")?1e3:1;return parseFloat(t)*n}(e)||0);var o=kt(e,n,r),i=xt(e,"transitionend",t);return function(){o(),i()}}function Yt(e,t){var n=vt(e,t)||"",r=-1===n.indexOf("ms")?1e3:1;return parseFloat(n)*r}function Gt(e,t){var n=Yt(e,"transitionDuration"),r=Yt(e,"transitionDelay"),o=Ut(e,(function(n){n.target===e&&(o(),t(n))}),n+r)}var Ft=function(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return t.filter((function(e){return null!=e})).reduce((function(e,t){if("function"!==typeof t)throw new Error("Invalid Argument Type, must only provide functions, undefined, or null.");return null===e?t:function(){for(var n=arguments.length,r=new Array(n),o=0;o<n;o++)r[o]=arguments[o];e.apply(this,r),t.apply(this,r)}}),null)};function Kt(e){e.offsetHeight}var Bt,jt=["onEnter","onEntering","onEntered","onExit","onExiting","onExited","addEndListener","children","childRef"],Vt=t.forwardRef((function(e,n){var o=e.onEnter,i=e.onEntering,a=e.onEntered,s=e.onExit,u=e.onExiting,c=e.onExited,l=e.addEndListener,d=e.children,f=e.childRef,p=J(e,jt),h=(0,t.useRef)(null),E=ye(h,f),g=function(e){var t;E((t=e)&&"setState"in t?r.findDOMNode(t):null!=t?t:null)},v=function(e){return function(t){e&&h.current&&e(h.current,t)}},m=(0,t.useCallback)(v(o),[o]),_=(0,t.useCallback)(v(i),[i]),S=(0,t.useCallback)(v(a),[a]),y=(0,t.useCallback)(v(s),[s]),C=(0,t.useCallback)(v(u),[u]),T=(0,t.useCallback)(v(c),[c]),I=(0,t.useCallback)(v(l),[l]);return(0,Q.jsx)(Nt,H(H({ref:n},p),{},{onEnter:m,onEntered:S,onEntering:_,onExit:y,onExited:T,onExiting:C,addEndListener:I,nodeRef:h,children:"function"===typeof d?function(e,t){return d(e,H(H({},t),{},{ref:g}))}:t.cloneElement(d,{ref:g})}))})),Ht=Vt,Wt=["onEnter","onEntering","onEntered","onExit","onExiting","className","children","dimension","getDimensionValue"],Jt={height:["marginTop","marginBottom"],width:["marginLeft","marginRight"]};function zt(e,t){var n=t["offset".concat(e[0].toUpperCase()).concat(e.slice(1))],r=Jt[e];return n+parseInt(vt(t,r[0]),10)+parseInt(vt(t,r[1]),10)}var qt=(j(Bt={},Ct,"collapse"),j(Bt,At,"collapsing"),j(Bt,Tt,"collapsing"),j(Bt,It,"collapse show"),Bt),Qt={in:!1,timeout:300,mountOnEnter:!1,unmountOnExit:!1,appear:!1,getDimensionValue:zt},Xt=t.forwardRef((function(e,n){var r=e.onEnter,o=e.onEntering,i=e.onEntered,a=e.onExit,s=e.onExiting,u=e.className,c=e.children,l=e.dimension,d=void 0===l?"height":l,f=e.getDimensionValue,p=void 0===f?zt:f,h=J(e,Wt),E="function"===typeof d?d():d,g=(0,t.useMemo)((function(){return Ft((function(e){e.style[E]="0"}),r)}),[E,r]),v=(0,t.useMemo)((function(){return Ft((function(e){var t="scroll".concat(E[0].toUpperCase()).concat(E.slice(1));e.style[E]="".concat(e[t],"px")}),o)}),[E,o]),m=(0,t.useMemo)((function(){return Ft((function(e){e.style[E]=null}),i)}),[E,i]),_=(0,t.useMemo)((function(){return Ft((function(e){e.style[E]="".concat(p(E,e),"px"),Kt(e)}),a)}),[a,p,E]),S=(0,t.useMemo)((function(){return Ft((function(e){e.style[E]=null}),s)}),[E,s]);return(0,Q.jsx)(Ht,H(H({ref:n,addEndListener:Gt},h),{},{"aria-expanded":h.role?h.in:null,onEnter:g,onEntering:v,onEntered:m,onExit:_,onExiting:S,childRef:c.ref,children:function(e,n){return t.cloneElement(c,H(H({},n),{},{className:q()(u,c.props.className,qt[e],"width"===E&&"collapse-horizontal")}))}}))}));Xt.defaultProps=Qt;var $t=Xt,Zt=["children","bsPrefix"],en=t.forwardRef((function(e,n){var r=e.children,o=e.bsPrefix,i=J(e,Zt);o=re(o,"navbar-collapse");var a=(0,t.useContext)(Fe);return(0,Q.jsx)($t,H(H({in:!(!a||!a.expanded)},i),{},{children:(0,Q.jsx)("div",{ref:n,className:o,children:r})}))}));en.displayName="NavbarCollapse";var tn=en,nn=["bsPrefix","className","children","label","as","onClick"],rn=t.forwardRef((function(e,n){var r=e.bsPrefix,o=e.className,i=e.children,a=e.label,s=e.as,u=void 0===s?"button":s,c=e.onClick,l=J(e,nn);r=re(r,"navbar-toggler");var d=(0,t.useContext)(Fe)||{},f=d.onToggle,p=d.expanded,h=be((function(e){c&&c(e),f&&f()}));return"button"===u&&(l.type="button"),(0,Q.jsx)(u,H(H({},l),{},{ref:n,onClick:h,"aria-label":a,className:q()(o,r,!p&&"collapsed"),children:i||(0,Q.jsx)("span",{className:"".concat(r,"-icon")})}))}));rn.displayName="NavbarToggle",rn.defaultProps={label:"Toggle navigation"};var on=rn,an=new WeakMap,sn=function(e,t){if(e&&t){var n=an.get(t)||new Map;an.set(t,n);var r=n.get(e);return r||((r=t.matchMedia(e)).refCount=0,n.set(r.media,r)),r}};function un(e,n){void 0===n&&(n="undefined"===typeof window?void 0:window);var r=sn(e,n),o=(0,t.useState)((function(){return!!r&&r.matches})),i=o[0],a=o[1];return $e((function(){var t=sn(e,n);if(!t)return a(!1);var r=an.get(n),o=function(){a(t.matches)};return t.refCount++,t.addListener(o),o(),function(){t.removeListener(o),t.refCount--,t.refCount<=0&&(null==r||r.delete(t.media)),t=void 0}}),[e]),i}var cn=function(e){var n=Object.keys(e);function r(e,t){return e===t?t:e?e+" and "+t:t}function o(t){var r=function(e){return n[Math.min(n.indexOf(e)+1,n.length-1)]}(t),o=e[r];return"(max-width: "+(o="number"===typeof o?o-.2+"px":"calc("+o+" - 0.2px)")+")"}return function(n,i,a){var s,u;"object"===typeof n?(s=n,a=i,i=!0):((u={})[n]=i=i||!0,s=u);var c=(0,t.useMemo)((function(){return Object.entries(s).reduce((function(t,n){var i=n[0],a=n[1];return"up"!==a&&!0!==a||(t=r(t,function(t){var n=e[t];return"number"===typeof n&&(n+="px"),"(min-width: "+n+")"}(i))),"down"!==a&&!0!==a||(t=r(t,o(i))),t}),"")}),[JSON.stringify(s)]);return un(c,a)}}({xs:0,sm:576,md:768,lg:992,xl:1200,xxl:1400}),ln=cn;function dn(e){void 0===e&&(e=dt());try{var t=e.activeElement;return t&&t.nodeName?t:null}catch(Cp){return e.body}}function fn(e,t){return e.contains?e.contains(t):e.compareDocumentPosition?e===t||!!(16&e.compareDocumentPosition(t)):void 0}function pn(e){var n=function(e){var n=(0,t.useRef)(e);return n.current=e,n}(e);(0,t.useEffect)((function(){return function(){return n.current()}}),[])}function hn(e){return function(e){if(Array.isArray(e))return i(e)}(e)||function(e){if("undefined"!==typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)}(e)||a(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function En(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function gn(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function vn(e,t,n){return t&&gn(e.prototype,t),n&&gn(e,n),Object.defineProperty(e,"prototype",{writable:!1}),e}var mn=Oe("modal-open"),_n=function(){function e(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},n=t.ownerDocument,r=t.handleContainerOverflow,o=void 0===r||r,i=t.isRTL,a=void 0!==i&&i;En(this,e),this.handleContainerOverflow=o,this.isRTL=a,this.modals=[],this.ownerDocument=n}return vn(e,[{key:"getScrollbarWidth",value:function(){return function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:document,t=e.defaultView;return Math.abs(t.innerWidth-e.documentElement.clientWidth)}(this.ownerDocument)}},{key:"getElement",value:function(){return(this.ownerDocument||document).body}},{key:"setModalAttributes",value:function(e){}},{key:"removeModalAttributes",value:function(e){}},{key:"setContainerStyle",value:function(e){var t={overflow:"hidden"},n=this.isRTL?"paddingLeft":"paddingRight",r=this.getElement();e.style=j({overflow:r.style.overflow},n,r.style[n]),e.scrollBarWidth&&(t[n]="".concat(parseInt(vt(r,n)||"0",10)+e.scrollBarWidth,"px")),r.setAttribute(mn,""),vt(r,t)}},{key:"reset",value:function(){var e=this;hn(this.modals).forEach((function(t){return e.remove(t)}))}},{key:"removeContainerStyle",value:function(e){var t=this.getElement();t.removeAttribute(mn),Object.assign(t.style,e.style)}},{key:"add",value:function(e){var t=this.modals.indexOf(e);return-1!==t?t:(t=this.modals.length,this.modals.push(e),this.setModalAttributes(e),0!==t||(this.state={scrollBarWidth:this.getScrollbarWidth(),style:{}},this.handleContainerOverflow&&this.setContainerStyle(this.state)),t)}},{key:"remove",value:function(e){var t=this.modals.indexOf(e);-1!==t&&(this.modals.splice(t,1),!this.modals.length&&this.handleContainerOverflow&&this.removeContainerStyle(this.state),this.removeModalAttributes(e))}},{key:"isTopModal",value:function(e){return!!this.modals.length&&this.modals[this.modals.length-1]===e}}]),e}(),Sn=_n,yn=(0,t.createContext)(bt?window:void 0);yn.Provider;function Cn(){return(0,t.useContext)(yn)}var Tn=function(e,t){var n;return bt?null==e?(t||dt()).body:("function"===typeof e&&(e=e()),e&&"current"in e&&(e=e.current),null!=(n=e)&&n.nodeType&&e||null):null};var In,An=["show","role","className","style","children","backdrop","keyboard","onBackdropClick","onEscapeKeyDown","transition","backdropTransition","autoFocus","enforceFocus","restoreFocus","restoreFocusOptions","renderDialog","renderBackdrop","manager","container","onShow","onHide","onExit","onExited","onExiting","onEnter","onEntering","onEntered"];function Rn(e){var n=Cn(),r=e||function(e){return In||(In=new Sn({ownerDocument:null==e?void 0:e.document})),In}(n),o=(0,t.useRef)({dialog:null,backdrop:null});return Object.assign(o.current,{add:function(){return r.add(o.current)},remove:function(){return r.remove(o.current)},isTopModal:function(){return r.isTopModal(o.current)},setDialogRef:(0,t.useCallback)((function(e){o.current.dialog=e}),[]),setBackdropRef:(0,t.useCallback)((function(e){o.current.backdrop=e}),[])})}var On=(0,t.forwardRef)((function(e,n){var o=e.show,i=void 0!==o&&o,a=e.role,u=void 0===a?"dialog":a,c=e.className,l=e.style,d=e.children,f=e.backdrop,p=void 0===f||f,h=e.keyboard,E=void 0===h||h,g=e.onBackdropClick,v=e.onEscapeKeyDown,m=e.transition,_=e.backdropTransition,S=e.autoFocus,y=void 0===S||S,C=e.enforceFocus,T=void 0===C||C,I=e.restoreFocus,A=void 0===I||I,R=e.restoreFocusOptions,O=e.renderDialog,N=e.renderBackdrop,b=void 0===N?function(e){return(0,Q.jsx)("div",Object.assign({},e))}:N,w=e.manager,P=e.container,L=e.onShow,M=e.onHide,D=void 0===M?function(){}:M,x=e.onExit,k=e.onExited,U=e.onExiting,Y=e.onEnter,G=e.onEntering,F=e.onEntered,K=function(e,t){if(null==e)return{};var n,r,o={},i=Object.keys(e);for(r=0;r<i.length;r++)n=i[r],t.indexOf(n)>=0||(o[n]=e[n]);return o}(e,An),B=function(e,n){var r=Cn(),o=s((0,t.useState)((function(){return Tn(e,null==r?void 0:r.document)})),2),i=o[0],a=o[1];if(!i){var u=Tn(e);u&&a(u)}return(0,t.useEffect)((function(){n&&i&&n(i)}),[n,i]),(0,t.useEffect)((function(){var t=Tn(e);t!==i&&a(t)}),[e,i]),i}(P),j=Rn(w),V=qe(),H=Qe(i),W=s((0,t.useState)(!i),2),J=W[0],z=W[1],q=(0,t.useRef)(null);(0,t.useImperativeHandle)(n,(function(){return j}),[j]),bt&&!H&&i&&(q.current=dn()),m||i||J?i&&J&&z(!1):z(!0);var X=be((function(){if(j.add(),re.current=xt(document,"keydown",te),ne.current=xt(document,"focus",(function(){return setTimeout(Z)}),!0),L&&L(),y){var e=dn(document);j.dialog&&e&&!fn(j.dialog,e)&&(q.current=e,j.dialog.focus())}})),$=be((function(){var e;(j.remove(),null==re.current||re.current(),null==ne.current||ne.current(),A)&&(null==(e=q.current)||null==e.focus||e.focus(R),q.current=null)}));(0,t.useEffect)((function(){i&&B&&X()}),[i,B,X]),(0,t.useEffect)((function(){J&&$()}),[J,$]),pn((function(){$()}));var Z=be((function(){if(T&&V()&&j.isTopModal()){var e=dn();j.dialog&&e&&!fn(j.dialog,e)&&j.dialog.focus()}})),ee=be((function(e){e.target===e.currentTarget&&(null==g||g(e),!0===p&&D())})),te=be((function(e){E&&27===e.keyCode&&j.isTopModal()&&(null==v||v(e),e.defaultPrevented||D())})),ne=(0,t.useRef)(),re=(0,t.useRef)(),oe=m;if(!B||!(i||oe&&!J))return null;var ie=Object.assign({role:u,ref:j.setDialogRef,"aria-modal":"dialog"===u||void 0},K,{style:l,className:c,tabIndex:-1}),ae=O?O(ie):(0,Q.jsx)("div",Object.assign({},ie,{children:t.cloneElement(d,{role:"document"})}));oe&&(ae=(0,Q.jsx)(oe,{appear:!0,unmountOnExit:!0,in:!!i,onExit:x,onExiting:U,onExited:function(){z(!0),null==k||k.apply(void 0,arguments)},onEnter:Y,onEntering:G,onEntered:F,children:ae}));var se=null;if(p){var ue=_;se=b({ref:j.setBackdropRef,onClick:ee}),ue&&(se=(0,Q.jsx)(ue,{appear:!0,in:!!i,children:se}))}return(0,Q.jsx)(Q.Fragment,{children:r.createPortal((0,Q.jsxs)(Q.Fragment,{children:[se,ae]}),B)})}));On.displayName="Modal";var Nn,bn=Object.assign(On,{Manager:Sn}),wn=["className","children","transitionClasses"],Pn=(j(Nn={},Tt,"show"),j(Nn,It,"show"),Nn),Ln=t.forwardRef((function(e,n){var r=e.className,o=e.children,i=e.transitionClasses,a=void 0===i?{}:i,s=J(e,wn),u=(0,t.useCallback)((function(e,t){Kt(e),null==s.onEnter||s.onEnter(e,t)}),[s]);return(0,Q.jsx)(Ht,H(H({ref:n,addEndListener:Gt},s),{},{onEnter:u,childRef:o.ref,children:function(e,n){return t.cloneElement(o,H(H({},n),{},{className:q()("fade",r,o.props.className,Pn[e],a[e])}))}}))}));Ln.defaultProps={in:!1,timeout:300,mountOnEnter:!1,unmountOnExit:!1,appear:!1},Ln.displayName="Fade";var Mn,Dn=Ln,xn=We("offcanvas-body"),kn=["bsPrefix","className","children"],Un=(j(Mn={},Tt,"show"),j(Mn,It,"show"),Mn),Yn=t.forwardRef((function(e,n){var r=e.bsPrefix,o=e.className,i=e.children,a=J(e,kn);return r=re(r,"offcanvas"),(0,Q.jsx)(Ht,H(H({ref:n,addEndListener:Gt},a),{},{childRef:i.ref,children:function(e,n){return t.cloneElement(i,H(H({},n),{},{className:q()(o,i.props.className,(e===Tt||e===At)&&"".concat(r,"-toggling"),Un[e])}))}}))}));Yn.defaultProps={in:!1,mountOnEnter:!1,unmountOnExit:!1,appear:!1},Yn.displayName="OffcanvasToggling";var Gn=Yn,Fn=t.createContext({onHide:function(){}}),Kn=n(7),Bn=n.n(Kn),jn=["className","variant"],Vn={"aria-label":Bn().string,onClick:Bn().func,variant:Bn().oneOf(["white"])},Hn=t.forwardRef((function(e,t){var n=e.className,r=e.variant,o=J(e,jn);return(0,Q.jsx)("button",H({ref:t,type:"button",className:q()("btn-close",r&&"btn-close-".concat(r),n)},o))}));Hn.displayName="CloseButton",Hn.propTypes=Vn,Hn.defaultProps={"aria-label":"Close"};var Wn=Hn,Jn=["closeLabel","closeVariant","closeButton","onHide","children"],zn=t.forwardRef((function(e,n){var r=e.closeLabel,o=e.closeVariant,i=e.closeButton,a=e.onHide,s=e.children,u=J(e,Jn),c=(0,t.useContext)(Fn),l=be((function(){null==c||c.onHide(),null==a||a()}));return(0,Q.jsxs)("div",H(H({ref:n},u),{},{children:[s,i&&(0,Q.jsx)(Wn,{"aria-label":r,variant:o,onClick:l})]}))}));zn.defaultProps={closeLabel:"Close",closeButton:!1};var qn=zn,Qn=["bsPrefix","className"],Xn=t.forwardRef((function(e,t){var n=e.bsPrefix,r=e.className,o=J(e,Qn);return n=re(n,"offcanvas-header"),(0,Q.jsx)(qn,H(H({ref:t},o),{},{className:q()(r,n)}))}));Xn.displayName="OffcanvasHeader",Xn.defaultProps={closeLabel:"Close",closeButton:!1};var $n,Zn=Xn,er=($n="h5",t.forwardRef((function(e,t){return(0,Q.jsx)("div",H(H({},e),{},{ref:t,className:q()(e.className,$n)}))}))),tr=We("offcanvas-title",{Component:er});function nr(e){return nr=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(e){return e.__proto__||Object.getPrototypeOf(e)},nr(e)}function rr(e,t){for(;!Object.prototype.hasOwnProperty.call(e,t)&&null!==(e=nr(e)););return e}function or(){return or="undefined"!==typeof Reflect&&Reflect.get?Reflect.get.bind():function(e,t,n){var r=rr(e,t);if(r){var o=Object.getOwnPropertyDescriptor(r,t);return o.get?o.get.call(arguments.length<3?e:n):o.value}},or.apply(this,arguments)}function ir(e,t){if("function"!==typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&mt(e,t)}function ar(){if("undefined"===typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"===typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(Cp){return!1}}function sr(e){return sr="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},sr(e)}function ur(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function cr(e,t){if(t&&("object"===sr(t)||"function"===typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return ur(e)}function lr(e){var t=ar();return function(){var n,r=nr(e);if(t){var o=nr(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return cr(this,n)}}function dr(e,t){return e.replace(new RegExp("(^|\\s)"+t+"(?:\\s|$)","g"),"$1").replace(/\s+/g," ").replace(/^\s*|\s*$/g,"")}var fr,pr=".fixed-top, .fixed-bottom, .is-fixed, .sticky-top",hr=".sticky-top",Er=".navbar-toggler",gr=function(e){ir(n,e);var t=lr(n);function n(){return En(this,n),t.apply(this,arguments)}return vn(n,[{key:"adjustAndStore",value:function(e,t,n){var r=t.style[e];t.dataset[e]=r,vt(t,j({},e,"".concat(parseFloat(vt(t,e))+n,"px")))}},{key:"restore",value:function(e,t){var n=t.dataset[e];void 0!==n&&(delete t.dataset[e],vt(t,j({},e,n)))}},{key:"setContainerStyle",value:function(e){var t=this;or(nr(n.prototype),"setContainerStyle",this).call(this,e);var r=this.getElement();if(function(e,t){e.classList?e.classList.add(t):function(e,t){return e.classList?!!t&&e.classList.contains(t):-1!==(" "+(e.className.baseVal||e.className)+" ").indexOf(" "+t+" ")}(e,t)||("string"===typeof e.className?e.className=e.className+" "+t:e.setAttribute("class",(e.className&&e.className.baseVal||"")+" "+t))}(r,"modal-open"),e.scrollBarWidth){var o=this.isRTL?"paddingLeft":"paddingRight",i=this.isRTL?"marginLeft":"marginRight";me(r,pr).forEach((function(n){return t.adjustAndStore(o,n,e.scrollBarWidth)})),me(r,hr).forEach((function(n){return t.adjustAndStore(i,n,-e.scrollBarWidth)})),me(r,Er).forEach((function(n){return t.adjustAndStore(i,n,e.scrollBarWidth)}))}}},{key:"removeContainerStyle",value:function(e){var t=this;or(nr(n.prototype),"removeContainerStyle",this).call(this,e);var r=this.getElement();!function(e,t){e.classList?e.classList.remove(t):"string"===typeof e.className?e.className=dr(e.className,t):e.setAttribute("class",dr(e.className&&e.className.baseVal||"",t))}(r,"modal-open");var o=this.isRTL?"paddingLeft":"paddingRight",i=this.isRTL?"marginLeft":"marginRight";me(r,pr).forEach((function(e){return t.restore(o,e)})),me(r,hr).forEach((function(e){return t.restore(i,e)})),me(r,Er).forEach((function(e){return t.restore(i,e)}))}}]),n}(Sn);var vr=gr,mr=["bsPrefix","className","children","aria-labelledby","placement","responsive","show","backdrop","keyboard","scroll","onEscapeKeyDown","onShow","onHide","container","autoFocus","enforceFocus","restoreFocus","restoreFocusOptions","onEntered","onExit","onExiting","onEnter","onEntering","onExited","backdropClassName","manager","renderStaticNode"];function _r(e){return(0,Q.jsx)(Gn,H({},e))}function Sr(e){return(0,Q.jsx)(Dn,H({},e))}var yr=t.forwardRef((function(e,n){var r=e.bsPrefix,o=e.className,i=e.children,a=e["aria-labelledby"],u=e.placement,c=e.responsive,l=e.show,d=e.backdrop,f=e.keyboard,p=e.scroll,h=e.onEscapeKeyDown,E=e.onShow,g=e.onHide,v=e.container,m=e.autoFocus,_=e.enforceFocus,S=e.restoreFocus,y=e.restoreFocusOptions,C=e.onEntered,T=e.onExit,I=e.onExiting,A=e.onEnter,R=e.onEntering,O=e.onExited,N=e.backdropClassName,b=e.manager,w=e.renderStaticNode,P=J(e,mr),L=(0,t.useRef)();r=re(r,"offcanvas");var M=((0,t.useContext)(Fe)||{}).onToggle,D=s((0,t.useState)(!1),2),x=D[0],k=D[1],U=ln(c||"xs","up");(0,t.useEffect)((function(){k(c?l&&!U:l)}),[l,c,U]);var Y=be((function(){null==M||M(),null==g||g()})),G=(0,t.useMemo)((function(){return{onHide:Y}}),[Y]);var F=(0,t.useCallback)((function(e){return(0,Q.jsx)("div",H(H({},e),{},{className:q()("".concat(r,"-backdrop"),N)}))}),[N,r]),K=function(e){return(0,Q.jsx)("div",H(H(H({},e),P),{},{className:q()(o,c?"".concat(r,"-").concat(c):r,"".concat(r,"-").concat(u)),"aria-labelledby":a,children:i}))};return(0,Q.jsxs)(Q.Fragment,{children:[!x&&(c||w)&&K({}),(0,Q.jsx)(Fn.Provider,{value:G,children:(0,Q.jsx)(bn,{show:x,ref:n,backdrop:d,container:v,keyboard:f,autoFocus:m,enforceFocus:_&&!p,restoreFocus:S,restoreFocusOptions:y,onEscapeKeyDown:h,onShow:E,onHide:Y,onEnter:function(e){e&&(e.style.visibility="visible");for(var t=arguments.length,n=new Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];null==A||A.apply(void 0,[e].concat(n))},onEntering:R,onEntered:C,onExit:T,onExiting:I,onExited:function(e){e&&(e.style.visibility="");for(var t=arguments.length,n=new Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];null==O||O.apply(void 0,n)},manager:b||(p?(L.current||(L.current=new vr({handleContainerOverflow:!1})),L.current):function(e){return fr||(fr=new gr(e)),fr}()),transition:_r,backdropTransition:Sr,renderBackdrop:F,renderDialog:K})})]})}));yr.displayName="Offcanvas",yr.defaultProps={show:!1,backdrop:!0,keyboard:!0,scroll:!1,autoFocus:!0,enforceFocus:!0,restoreFocus:!0,placement:"start",renderStaticNode:!1};var Cr=Object.assign(yr,{Body:xn,Header:Zn,Title:tr}),Tr=t.forwardRef((function(e,n){var r=(0,t.useContext)(Fe);return(0,Q.jsx)(Cr,H(H({ref:n,show:!(null==r||!r.expanded)},e),{},{renderStaticNode:!0}))}));Tr.displayName="NavbarOffcanvas";var Ir=Tr,Ar=["bsPrefix","expand","variant","bg","fixed","sticky","className","as","expanded","onToggle","onSelect","collapseOnSelect"],Rr=We("navbar-text",{Component:"span"}),Or=t.forwardRef((function(e,n){var r=pe(e,{expanded:"onToggle"}),o=r.bsPrefix,i=r.expand,a=r.variant,s=r.bg,u=r.fixed,c=r.sticky,l=r.className,d=r.as,f=void 0===d?"nav":d,p=r.expanded,h=r.onToggle,E=r.onSelect,g=r.collapseOnSelect,v=J(r,Ar),m=re(o,"navbar"),_=(0,t.useCallback)((function(){null==E||E.apply(void 0,arguments),g&&p&&(null==h||h(!1))}),[E,g,p,h]);void 0===v.role&&"nav"!==f&&(v.role="navigation");var S="".concat(m,"-expand");"string"===typeof i&&(S="".concat(S,"-").concat(i));var y=(0,t.useMemo)((function(){return{onToggle:function(){return null==h?void 0:h(!p)},bsPrefix:m,expanded:!!p,expand:i}}),[m,p,i,h]);return(0,Q.jsx)(Fe.Provider,{value:y,children:(0,Q.jsx)(Ae.Provider,{value:_,children:(0,Q.jsx)(f,H(H({ref:n},v),{},{className:q()(l,m,i&&S,a&&"".concat(m,"-").concat(a),s&&"bg-".concat(s),c&&"sticky-".concat(c),u&&"fixed-".concat(u))}))})})}));Or.defaultProps={expand:!0,variant:"light",collapseOnSelect:!1},Or.displayName="Navbar";var Nr=Object.assign(Or,{Brand:lt,Collapse:tn,Offcanvas:Ir,Text:Rr,Toggle:on}),br=t.createContext(null);function wr(e,t){var n="undefined"!==typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(!n){if(Array.isArray(e)||(n=a(e))||t&&e&&"number"===typeof e.length){n&&(e=n);var r=0,o=function(){};return{s:o,n:function(){return r>=e.length?{done:!0}:{done:!1,value:e[r++]}},e:function(e){throw e},f:o}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var i,s=!0,u=!1;return{s:function(){n=n.call(e)},n:function(){var e=n.next();return s=e.done,e},e:function(e){u=!0,i=e},f:function(){try{s||null==n.return||n.return()}finally{if(u)throw i}}}}var Pr=Object.prototype.hasOwnProperty;function Lr(e,t,n){var r,o=wr(e.keys());try{for(o.s();!(r=o.n()).done;)if(Mr(n=r.value,t))return n}catch(i){o.e(i)}finally{o.f()}}function Mr(e,t){var n,r,o;if(e===t)return!0;if(e&&t&&(n=e.constructor)===t.constructor){if(n===Date)return e.getTime()===t.getTime();if(n===RegExp)return e.toString()===t.toString();if(n===Array){if((r=e.length)===t.length)for(;r--&&Mr(e[r],t[r]););return-1===r}if(n===Set){if(e.size!==t.size)return!1;var i,a=wr(e);try{for(a.s();!(i=a.n()).done;){if((o=r=i.value)&&"object"===typeof o&&!(o=Lr(t,o)))return!1;if(!t.has(o))return!1}}catch(c){a.e(c)}finally{a.f()}return!0}if(n===Map){if(e.size!==t.size)return!1;var s,u=wr(e);try{for(u.s();!(s=u.n()).done;){if((o=(r=s.value)[0])&&"object"===typeof o&&!(o=Lr(t,o)))return!1;if(!Mr(r[1],t.get(o)))return!1}}catch(c){u.e(c)}finally{u.f()}return!0}if(n===ArrayBuffer)e=new Uint8Array(e),t=new Uint8Array(t);else if(n===DataView){if((r=e.byteLength)===t.byteLength)for(;r--&&e.getInt8(r)===t.getInt8(r););return-1===r}if(ArrayBuffer.isView(e)){if((r=e.byteLength)===t.byteLength)for(;r--&&e[r]===t[r];);return-1===r}if(!n||"object"===typeof e){for(n in r=0,e){if(Pr.call(e,n)&&++r&&!Pr.call(t,n))return!1;if(!(n in t)||!Mr(e[n],t[n]))return!1}return Object.keys(t).length===r}}return e!==e&&t!==t}var Dr=function(e){var n=qe();return[e[0],(0,t.useCallback)((function(t){if(n())return e[1](t)}),[n,e[1]])]};function xr(e){return e.split("-")[0]}function kr(e){if(null==e)return window;if("[object Window]"!==e.toString()){var t=e.ownerDocument;return t&&t.defaultView||window}return e}function Ur(e){return e instanceof kr(e).Element||e instanceof Element}function Yr(e){return e instanceof kr(e).HTMLElement||e instanceof HTMLElement}function Gr(e){return"undefined"!==typeof ShadowRoot&&(e instanceof kr(e).ShadowRoot||e instanceof ShadowRoot)}var Fr=Math.max,Kr=Math.min,Br=Math.round;function jr(e,t){void 0===t&&(t=!1);var n=e.getBoundingClientRect(),r=1,o=1;if(Yr(e)&&t){var i=e.offsetHeight,a=e.offsetWidth;a>0&&(r=Br(n.width)/a||1),i>0&&(o=Br(n.height)/i||1)}return{width:n.width/r,height:n.height/o,top:n.top/o,right:n.right/r,bottom:n.bottom/o,left:n.left/r,x:n.left/r,y:n.top/o}}function Vr(e){var t=jr(e),n=e.offsetWidth,r=e.offsetHeight;return Math.abs(t.width-n)<=1&&(n=t.width),Math.abs(t.height-r)<=1&&(r=t.height),{x:e.offsetLeft,y:e.offsetTop,width:n,height:r}}function Hr(e,t){var n=t.getRootNode&&t.getRootNode();if(e.contains(t))return!0;if(n&&Gr(n)){var r=t;do{if(r&&e.isSameNode(r))return!0;r=r.parentNode||r.host}while(r)}return!1}function Wr(e){return e?(e.nodeName||"").toLowerCase():null}function Jr(e){return kr(e).getComputedStyle(e)}function zr(e){return["table","td","th"].indexOf(Wr(e))>=0}function qr(e){return((Ur(e)?e.ownerDocument:e.document)||window.document).documentElement}function Qr(e){return"html"===Wr(e)?e:e.assignedSlot||e.parentNode||(Gr(e)?e.host:null)||qr(e)}function Xr(e){return Yr(e)&&"fixed"!==Jr(e).position?e.offsetParent:null}function $r(e){for(var t=kr(e),n=Xr(e);n&&zr(n)&&"static"===Jr(n).position;)n=Xr(n);return n&&("html"===Wr(n)||"body"===Wr(n)&&"static"===Jr(n).position)?t:n||function(e){var t=-1!==navigator.userAgent.toLowerCase().indexOf("firefox");if(-1!==navigator.userAgent.indexOf("Trident")&&Yr(e)&&"fixed"===Jr(e).position)return null;var n=Qr(e);for(Gr(n)&&(n=n.host);Yr(n)&&["html","body"].indexOf(Wr(n))<0;){var r=Jr(n);if("none"!==r.transform||"none"!==r.perspective||"paint"===r.contain||-1!==["transform","perspective"].indexOf(r.willChange)||t&&"filter"===r.willChange||t&&r.filter&&"none"!==r.filter)return n;n=n.parentNode}return null}(e)||t}function Zr(e){return["top","bottom"].indexOf(e)>=0?"x":"y"}function eo(e,t,n){return Fr(e,Kr(t,n))}function to(e){return Object.assign({},{top:0,right:0,bottom:0,left:0},e)}function no(e,t){return t.reduce((function(t,n){return t[n]=e,t}),{})}var ro="top",oo="bottom",io="right",ao="left",so="auto",uo=[ro,oo,io,ao],co="start",lo="end",fo="viewport",po="popper",ho=uo.reduce((function(e,t){return e.concat([t+"-"+co,t+"-"+lo])}),[]),Eo=[].concat(uo,[so]).reduce((function(e,t){return e.concat([t,t+"-"+co,t+"-"+lo])}),[]),go=["beforeRead","read","afterRead","beforeMain","main","afterMain","beforeWrite","write","afterWrite"];var vo={name:"arrow",enabled:!0,phase:"main",fn:function(e){var t,n=e.state,r=e.name,o=e.options,i=n.elements.arrow,a=n.modifiersData.popperOffsets,s=xr(n.placement),u=Zr(s),c=[ao,io].indexOf(s)>=0?"height":"width";if(i&&a){var l=function(e,t){return to("number"!==typeof(e="function"===typeof e?e(Object.assign({},t.rects,{placement:t.placement})):e)?e:no(e,uo))}(o.padding,n),d=Vr(i),f="y"===u?ro:ao,p="y"===u?oo:io,h=n.rects.reference[c]+n.rects.reference[u]-a[u]-n.rects.popper[c],E=a[u]-n.rects.reference[u],g=$r(i),v=g?"y"===u?g.clientHeight||0:g.clientWidth||0:0,m=h/2-E/2,_=l[f],S=v-d[c]-l[p],y=v/2-d[c]/2+m,C=eo(_,y,S),T=u;n.modifiersData[r]=((t={})[T]=C,t.centerOffset=C-y,t)}},effect:function(e){var t=e.state,n=e.options.element,r=void 0===n?"[data-popper-arrow]":n;null!=r&&("string"!==typeof r||(r=t.elements.popper.querySelector(r)))&&Hr(t.elements.popper,r)&&(t.elements.arrow=r)},requires:["popperOffsets"],requiresIfExists:["preventOverflow"]};function mo(e){return e.split("-")[1]}var _o={top:"auto",right:"auto",bottom:"auto",left:"auto"};function So(e){var t,n=e.popper,r=e.popperRect,o=e.placement,i=e.variation,a=e.offsets,s=e.position,u=e.gpuAcceleration,c=e.adaptive,l=e.roundOffsets,d=e.isFixed,f=a.x,p=void 0===f?0:f,h=a.y,E=void 0===h?0:h,g="function"===typeof l?l({x:p,y:E}):{x:p,y:E};p=g.x,E=g.y;var v=a.hasOwnProperty("x"),m=a.hasOwnProperty("y"),_=ao,S=ro,y=window;if(c){var C=$r(n),T="clientHeight",I="clientWidth";if(C===kr(n)&&"static"!==Jr(C=qr(n)).position&&"absolute"===s&&(T="scrollHeight",I="scrollWidth"),o===ro||(o===ao||o===io)&&i===lo)S=oo,E-=(d&&C===y&&y.visualViewport?y.visualViewport.height:C[T])-r.height,E*=u?1:-1;if(o===ao||(o===ro||o===oo)&&i===lo)_=io,p-=(d&&C===y&&y.visualViewport?y.visualViewport.width:C[I])-r.width,p*=u?1:-1}var A,R=Object.assign({position:s},c&&_o),O=!0===l?function(e){var t=e.x,n=e.y,r=window.devicePixelRatio||1;return{x:Br(t*r)/r||0,y:Br(n*r)/r||0}}({x:p,y:E}):{x:p,y:E};return p=O.x,E=O.y,u?Object.assign({},R,((A={})[S]=m?"0":"",A[_]=v?"0":"",A.transform=(y.devicePixelRatio||1)<=1?"translate("+p+"px, "+E+"px)":"translate3d("+p+"px, "+E+"px, 0)",A)):Object.assign({},R,((t={})[S]=m?E+"px":"",t[_]=v?p+"px":"",t.transform="",t))}var yo={name:"computeStyles",enabled:!0,phase:"beforeWrite",fn:function(e){var t=e.state,n=e.options,r=n.gpuAcceleration,o=void 0===r||r,i=n.adaptive,a=void 0===i||i,s=n.roundOffsets,u=void 0===s||s,c={placement:xr(t.placement),variation:mo(t.placement),popper:t.elements.popper,popperRect:t.rects.popper,gpuAcceleration:o,isFixed:"fixed"===t.options.strategy};null!=t.modifiersData.popperOffsets&&(t.styles.popper=Object.assign({},t.styles.popper,So(Object.assign({},c,{offsets:t.modifiersData.popperOffsets,position:t.options.strategy,adaptive:a,roundOffsets:u})))),null!=t.modifiersData.arrow&&(t.styles.arrow=Object.assign({},t.styles.arrow,So(Object.assign({},c,{offsets:t.modifiersData.arrow,position:"absolute",adaptive:!1,roundOffsets:u})))),t.attributes.popper=Object.assign({},t.attributes.popper,{"data-popper-placement":t.placement})},data:{}},Co={passive:!0};var To={name:"eventListeners",enabled:!0,phase:"write",fn:function(){},effect:function(e){var t=e.state,n=e.instance,r=e.options,o=r.scroll,i=void 0===o||o,a=r.resize,s=void 0===a||a,u=kr(t.elements.popper),c=[].concat(t.scrollParents.reference,t.scrollParents.popper);return i&&c.forEach((function(e){e.addEventListener("scroll",n.update,Co)})),s&&u.addEventListener("resize",n.update,Co),function(){i&&c.forEach((function(e){e.removeEventListener("scroll",n.update,Co)})),s&&u.removeEventListener("resize",n.update,Co)}},data:{}},Io={left:"right",right:"left",bottom:"top",top:"bottom"};function Ao(e){return e.replace(/left|right|bottom|top/g,(function(e){return Io[e]}))}var Ro={start:"end",end:"start"};function Oo(e){return e.replace(/start|end/g,(function(e){return Ro[e]}))}function No(e){var t=kr(e);return{scrollLeft:t.pageXOffset,scrollTop:t.pageYOffset}}function bo(e){return jr(qr(e)).left+No(e).scrollLeft}function wo(e){var t=Jr(e),n=t.overflow,r=t.overflowX,o=t.overflowY;return/auto|scroll|overlay|hidden/.test(n+o+r)}function Po(e){return["html","body","#document"].indexOf(Wr(e))>=0?e.ownerDocument.body:Yr(e)&&wo(e)?e:Po(Qr(e))}function Lo(e,t){var n;void 0===t&&(t=[]);var r=Po(e),o=r===(null==(n=e.ownerDocument)?void 0:n.body),i=kr(r),a=o?[i].concat(i.visualViewport||[],wo(r)?r:[]):r,s=t.concat(a);return o?s:s.concat(Lo(Qr(a)))}function Mo(e){return Object.assign({},e,{left:e.x,top:e.y,right:e.x+e.width,bottom:e.y+e.height})}function Do(e,t){return t===fo?Mo(function(e){var t=kr(e),n=qr(e),r=t.visualViewport,o=n.clientWidth,i=n.clientHeight,a=0,s=0;return r&&(o=r.width,i=r.height,/^((?!chrome|android).)*safari/i.test(navigator.userAgent)||(a=r.offsetLeft,s=r.offsetTop)),{width:o,height:i,x:a+bo(e),y:s}}(e)):Ur(t)?function(e){var t=jr(e);return t.top=t.top+e.clientTop,t.left=t.left+e.clientLeft,t.bottom=t.top+e.clientHeight,t.right=t.left+e.clientWidth,t.width=e.clientWidth,t.height=e.clientHeight,t.x=t.left,t.y=t.top,t}(t):Mo(function(e){var t,n=qr(e),r=No(e),o=null==(t=e.ownerDocument)?void 0:t.body,i=Fr(n.scrollWidth,n.clientWidth,o?o.scrollWidth:0,o?o.clientWidth:0),a=Fr(n.scrollHeight,n.clientHeight,o?o.scrollHeight:0,o?o.clientHeight:0),s=-r.scrollLeft+bo(e),u=-r.scrollTop;return"rtl"===Jr(o||n).direction&&(s+=Fr(n.clientWidth,o?o.clientWidth:0)-i),{width:i,height:a,x:s,y:u}}(qr(e)))}function xo(e,t,n){var r="clippingParents"===t?function(e){var t=Lo(Qr(e)),n=["absolute","fixed"].indexOf(Jr(e).position)>=0&&Yr(e)?$r(e):e;return Ur(n)?t.filter((function(e){return Ur(e)&&Hr(e,n)&&"body"!==Wr(e)})):[]}(e):[].concat(t),o=[].concat(r,[n]),i=o[0],a=o.reduce((function(t,n){var r=Do(e,n);return t.top=Fr(r.top,t.top),t.right=Kr(r.right,t.right),t.bottom=Kr(r.bottom,t.bottom),t.left=Fr(r.left,t.left),t}),Do(e,i));return a.width=a.right-a.left,a.height=a.bottom-a.top,a.x=a.left,a.y=a.top,a}function ko(e){var t,n=e.reference,r=e.element,o=e.placement,i=o?xr(o):null,a=o?mo(o):null,s=n.x+n.width/2-r.width/2,u=n.y+n.height/2-r.height/2;switch(i){case ro:t={x:s,y:n.y-r.height};break;case oo:t={x:s,y:n.y+n.height};break;case io:t={x:n.x+n.width,y:u};break;case ao:t={x:n.x-r.width,y:u};break;default:t={x:n.x,y:n.y}}var c=i?Zr(i):null;if(null!=c){var l="y"===c?"height":"width";switch(a){case co:t[c]=t[c]-(n[l]/2-r[l]/2);break;case lo:t[c]=t[c]+(n[l]/2-r[l]/2)}}return t}function Uo(e,t){void 0===t&&(t={});var n=t,r=n.placement,o=void 0===r?e.placement:r,i=n.boundary,a=void 0===i?"clippingParents":i,s=n.rootBoundary,u=void 0===s?fo:s,c=n.elementContext,l=void 0===c?po:c,d=n.altBoundary,f=void 0!==d&&d,p=n.padding,h=void 0===p?0:p,E=to("number"!==typeof h?h:no(h,uo)),g=l===po?"reference":po,v=e.rects.popper,m=e.elements[f?g:l],_=xo(Ur(m)?m:m.contextElement||qr(e.elements.popper),a,u),S=jr(e.elements.reference),y=ko({reference:S,element:v,strategy:"absolute",placement:o}),C=Mo(Object.assign({},v,y)),T=l===po?C:S,I={top:_.top-T.top+E.top,bottom:T.bottom-_.bottom+E.bottom,left:_.left-T.left+E.left,right:T.right-_.right+E.right},A=e.modifiersData.offset;if(l===po&&A){var R=A[o];Object.keys(I).forEach((function(e){var t=[io,oo].indexOf(e)>=0?1:-1,n=[ro,oo].indexOf(e)>=0?"y":"x";I[e]+=R[n]*t}))}return I}var Yo={name:"flip",enabled:!0,phase:"main",fn:function(e){var t=e.state,n=e.options,r=e.name;if(!t.modifiersData[r]._skip){for(var o=n.mainAxis,i=void 0===o||o,a=n.altAxis,s=void 0===a||a,u=n.fallbackPlacements,c=n.padding,l=n.boundary,d=n.rootBoundary,f=n.altBoundary,p=n.flipVariations,h=void 0===p||p,E=n.allowedAutoPlacements,g=t.options.placement,v=xr(g),m=u||(v===g||!h?[Ao(g)]:function(e){if(xr(e)===so)return[];var t=Ao(e);return[Oo(e),t,Oo(t)]}(g)),_=[g].concat(m).reduce((function(e,n){return e.concat(xr(n)===so?function(e,t){void 0===t&&(t={});var n=t,r=n.placement,o=n.boundary,i=n.rootBoundary,a=n.padding,s=n.flipVariations,u=n.allowedAutoPlacements,c=void 0===u?Eo:u,l=mo(r),d=l?s?ho:ho.filter((function(e){return mo(e)===l})):uo,f=d.filter((function(e){return c.indexOf(e)>=0}));0===f.length&&(f=d);var p=f.reduce((function(t,n){return t[n]=Uo(e,{placement:n,boundary:o,rootBoundary:i,padding:a})[xr(n)],t}),{});return Object.keys(p).sort((function(e,t){return p[e]-p[t]}))}(t,{placement:n,boundary:l,rootBoundary:d,padding:c,flipVariations:h,allowedAutoPlacements:E}):n)}),[]),S=t.rects.reference,y=t.rects.popper,C=new Map,T=!0,I=_[0],A=0;A<_.length;A++){var R=_[A],O=xr(R),N=mo(R)===co,b=[ro,oo].indexOf(O)>=0,w=b?"width":"height",P=Uo(t,{placement:R,boundary:l,rootBoundary:d,altBoundary:f,padding:c}),L=b?N?io:ao:N?oo:ro;S[w]>y[w]&&(L=Ao(L));var M=Ao(L),D=[];if(i&&D.push(P[O]<=0),s&&D.push(P[L]<=0,P[M]<=0),D.every((function(e){return e}))){I=R,T=!1;break}C.set(R,D)}if(T)for(var x=function(e){var t=_.find((function(t){var n=C.get(t);if(n)return n.slice(0,e).every((function(e){return e}))}));if(t)return I=t,"break"},k=h?3:1;k>0;k--){if("break"===x(k))break}t.placement!==I&&(t.modifiersData[r]._skip=!0,t.placement=I,t.reset=!0)}},requiresIfExists:["offset"],data:{_skip:!1}};function Go(e,t,n){return void 0===n&&(n={x:0,y:0}),{top:e.top-t.height-n.y,right:e.right-t.width+n.x,bottom:e.bottom-t.height+n.y,left:e.left-t.width-n.x}}function Fo(e){return[ro,io,oo,ao].some((function(t){return e[t]>=0}))}var Ko={name:"offset",enabled:!0,phase:"main",requires:["popperOffsets"],fn:function(e){var t=e.state,n=e.options,r=e.name,o=n.offset,i=void 0===o?[0,0]:o,a=Eo.reduce((function(e,n){return e[n]=function(e,t,n){var r=xr(e),o=[ao,ro].indexOf(r)>=0?-1:1,i="function"===typeof n?n(Object.assign({},t,{placement:e})):n,a=i[0],s=i[1];return a=a||0,s=(s||0)*o,[ao,io].indexOf(r)>=0?{x:s,y:a}:{x:a,y:s}}(n,t.rects,i),e}),{}),s=a[t.placement],u=s.x,c=s.y;null!=t.modifiersData.popperOffsets&&(t.modifiersData.popperOffsets.x+=u,t.modifiersData.popperOffsets.y+=c),t.modifiersData[r]=a}};var Bo={name:"preventOverflow",enabled:!0,phase:"main",fn:function(e){var t=e.state,n=e.options,r=e.name,o=n.mainAxis,i=void 0===o||o,a=n.altAxis,s=void 0!==a&&a,u=n.boundary,c=n.rootBoundary,l=n.altBoundary,d=n.padding,f=n.tether,p=void 0===f||f,h=n.tetherOffset,E=void 0===h?0:h,g=Uo(t,{boundary:u,rootBoundary:c,padding:d,altBoundary:l}),v=xr(t.placement),m=mo(t.placement),_=!m,S=Zr(v),y="x"===S?"y":"x",C=t.modifiersData.popperOffsets,T=t.rects.reference,I=t.rects.popper,A="function"===typeof E?E(Object.assign({},t.rects,{placement:t.placement})):E,R="number"===typeof A?{mainAxis:A,altAxis:A}:Object.assign({mainAxis:0,altAxis:0},A),O=t.modifiersData.offset?t.modifiersData.offset[t.placement]:null,N={x:0,y:0};if(C){if(i){var b,w="y"===S?ro:ao,P="y"===S?oo:io,L="y"===S?"height":"width",M=C[S],D=M+g[w],x=M-g[P],k=p?-I[L]/2:0,U=m===co?T[L]:I[L],Y=m===co?-I[L]:-T[L],G=t.elements.arrow,F=p&&G?Vr(G):{width:0,height:0},K=t.modifiersData["arrow#persistent"]?t.modifiersData["arrow#persistent"].padding:{top:0,right:0,bottom:0,left:0},B=K[w],j=K[P],V=eo(0,T[L],F[L]),H=_?T[L]/2-k-V-B-R.mainAxis:U-V-B-R.mainAxis,W=_?-T[L]/2+k+V+j+R.mainAxis:Y+V+j+R.mainAxis,J=t.elements.arrow&&$r(t.elements.arrow),z=J?"y"===S?J.clientTop||0:J.clientLeft||0:0,q=null!=(b=null==O?void 0:O[S])?b:0,Q=M+W-q,X=eo(p?Kr(D,M+H-q-z):D,M,p?Fr(x,Q):x);C[S]=X,N[S]=X-M}if(s){var $,Z="x"===S?ro:ao,ee="x"===S?oo:io,te=C[y],ne="y"===y?"height":"width",re=te+g[Z],oe=te-g[ee],ie=-1!==[ro,ao].indexOf(v),ae=null!=($=null==O?void 0:O[y])?$:0,se=ie?re:te-T[ne]-I[ne]-ae+R.altAxis,ue=ie?te+T[ne]+I[ne]-ae-R.altAxis:oe,ce=p&&ie?function(e,t,n){var r=eo(e,t,n);return r>n?n:r}(se,te,ue):eo(p?se:re,te,p?ue:oe);C[y]=ce,N[y]=ce-te}t.modifiersData[r]=N}},requiresIfExists:["offset"]};function jo(e,t,n){void 0===n&&(n=!1);var r=Yr(t),o=Yr(t)&&function(e){var t=e.getBoundingClientRect(),n=Br(t.width)/e.offsetWidth||1,r=Br(t.height)/e.offsetHeight||1;return 1!==n||1!==r}(t),i=qr(t),a=jr(e,o),s={scrollLeft:0,scrollTop:0},u={x:0,y:0};return(r||!r&&!n)&&(("body"!==Wr(t)||wo(i))&&(s=function(e){return e!==kr(e)&&Yr(e)?{scrollLeft:(t=e).scrollLeft,scrollTop:t.scrollTop}:No(e);var t}(t)),Yr(t)?((u=jr(t,!0)).x+=t.clientLeft,u.y+=t.clientTop):i&&(u.x=bo(i))),{x:a.left+s.scrollLeft-u.x,y:a.top+s.scrollTop-u.y,width:a.width,height:a.height}}function Vo(e){var t=new Map,n=new Set,r=[];function o(e){n.add(e.name),[].concat(e.requires||[],e.requiresIfExists||[]).forEach((function(e){if(!n.has(e)){var r=t.get(e);r&&o(r)}})),r.push(e)}return e.forEach((function(e){t.set(e.name,e)})),e.forEach((function(e){n.has(e.name)||o(e)})),r}function Ho(e){var t;return function(){return t||(t=new Promise((function(n){Promise.resolve().then((function(){t=void 0,n(e())}))}))),t}}var Wo={placement:"bottom",modifiers:[],strategy:"absolute"};function Jo(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return!t.some((function(e){return!(e&&"function"===typeof e.getBoundingClientRect)}))}function zo(e){void 0===e&&(e={});var t=e,n=t.defaultModifiers,r=void 0===n?[]:n,o=t.defaultOptions,i=void 0===o?Wo:o;return function(e,t,n){void 0===n&&(n=i);var o={placement:"bottom",orderedModifiers:[],options:Object.assign({},Wo,i),modifiersData:{},elements:{reference:e,popper:t},attributes:{},styles:{}},a=[],s=!1,u={state:o,setOptions:function(n){var s="function"===typeof n?n(o.options):n;c(),o.options=Object.assign({},i,o.options,s),o.scrollParents={reference:Ur(e)?Lo(e):e.contextElement?Lo(e.contextElement):[],popper:Lo(t)};var l=function(e){var t=Vo(e);return go.reduce((function(e,n){return e.concat(t.filter((function(e){return e.phase===n})))}),[])}(function(e){var t=e.reduce((function(e,t){var n=e[t.name];return e[t.name]=n?Object.assign({},n,t,{options:Object.assign({},n.options,t.options),data:Object.assign({},n.data,t.data)}):t,e}),{});return Object.keys(t).map((function(e){return t[e]}))}([].concat(r,o.options.modifiers)));return o.orderedModifiers=l.filter((function(e){return e.enabled})),o.orderedModifiers.forEach((function(e){var t=e.name,n=e.options,r=void 0===n?{}:n,i=e.effect;if("function"===typeof i){var s=i({state:o,name:t,instance:u,options:r}),c=function(){};a.push(s||c)}})),u.update()},forceUpdate:function(){if(!s){var e=o.elements,t=e.reference,n=e.popper;if(Jo(t,n)){o.rects={reference:jo(t,$r(n),"fixed"===o.options.strategy),popper:Vr(n)},o.reset=!1,o.placement=o.options.placement,o.orderedModifiers.forEach((function(e){return o.modifiersData[e.name]=Object.assign({},e.data)}));for(var r=0;r<o.orderedModifiers.length;r++)if(!0!==o.reset){var i=o.orderedModifiers[r],a=i.fn,c=i.options,l=void 0===c?{}:c,d=i.name;"function"===typeof a&&(o=a({state:o,options:l,name:d,instance:u})||o)}else o.reset=!1,r=-1}}},update:Ho((function(){return new Promise((function(e){u.forceUpdate(),e(o)}))})),destroy:function(){c(),s=!0}};if(!Jo(e,t))return u;function c(){a.forEach((function(e){return e()})),a=[]}return u.setOptions(n).then((function(e){!s&&n.onFirstUpdate&&n.onFirstUpdate(e)})),u}}var qo=zo({defaultModifiers:[{name:"hide",enabled:!0,phase:"main",requiresIfExists:["preventOverflow"],fn:function(e){var t=e.state,n=e.name,r=t.rects.reference,o=t.rects.popper,i=t.modifiersData.preventOverflow,a=Uo(t,{elementContext:"reference"}),s=Uo(t,{altBoundary:!0}),u=Go(a,r),c=Go(s,o,i),l=Fo(u),d=Fo(c);t.modifiersData[n]={referenceClippingOffsets:u,popperEscapeOffsets:c,isReferenceHidden:l,hasPopperEscaped:d},t.attributes.popper=Object.assign({},t.attributes.popper,{"data-popper-reference-hidden":l,"data-popper-escaped":d})}},{name:"popperOffsets",enabled:!0,phase:"read",fn:function(e){var t=e.state,n=e.name;t.modifiersData[n]=ko({reference:t.rects.reference,element:t.rects.popper,strategy:"absolute",placement:t.placement})},data:{}},yo,To,Ko,Yo,Bo,vo]}),Qo=["enabled","placement","strategy","modifiers"];function Xo(e,t){if(null==e)return{};var n,r,o={},i=Object.keys(e);for(r=0;r<i.length;r++)n=i[r],t.indexOf(n)>=0||(o[n]=e[n]);return o}var $o={name:"applyStyles",enabled:!1,phase:"afterWrite",fn:function(){}},Zo={name:"ariaDescribedBy",enabled:!0,phase:"afterWrite",effect:function(e){var t=e.state;return function(){var e=t.elements,n=e.reference,r=e.popper;if("removeAttribute"in n){var o=(n.getAttribute("aria-describedby")||"").split(",").filter((function(e){return e.trim()!==r.id}));o.length?n.setAttribute("aria-describedby",o.join(",")):n.removeAttribute("aria-describedby")}}},fn:function(e){var t,n=e.state.elements,r=n.popper,o=n.reference,i=null==(t=r.getAttribute("role"))?void 0:t.toLowerCase();if(r.id&&"tooltip"===i&&"setAttribute"in o){var a=o.getAttribute("aria-describedby");if(a&&-1!==a.split(",").indexOf(r.id))return;o.setAttribute("aria-describedby",a?"".concat(a,",").concat(r.id):r.id)}}},ei=[];var ti=function(e,n){var r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},o=r.enabled,i=void 0===o||o,a=r.placement,u=void 0===a?"bottom":a,c=r.strategy,l=void 0===c?"absolute":c,d=r.modifiers,f=void 0===d?ei:d,p=Xo(r,Qo),h=(0,t.useRef)(f),E=(0,t.useRef)(),g=(0,t.useCallback)((function(){var e;null==(e=E.current)||e.update()}),[]),v=(0,t.useCallback)((function(){var e;null==(e=E.current)||e.forceUpdate()}),[]),m=Dr((0,t.useState)({placement:u,update:g,forceUpdate:v,attributes:{},styles:{popper:{},arrow:{}}})),_=s(m,2),S=_[0],y=_[1],C=(0,t.useMemo)((function(){return{name:"updateStateModifier",enabled:!0,phase:"write",requires:["computeStyles"],fn:function(e){var t=e.state,n={},r={};Object.keys(t.elements).forEach((function(e){n[e]=t.styles[e],r[e]=t.attributes[e]})),y({state:t,styles:n,attributes:r,update:g,forceUpdate:v,placement:t.placement})}}}),[g,v,y]),T=(0,t.useMemo)((function(){return Mr(h.current,f)||(h.current=f),h.current}),[f]);return(0,t.useEffect)((function(){E.current&&i&&E.current.setOptions({placement:u,strategy:l,modifiers:[].concat(hn(T),[C,$o])})}),[l,u,C,i,T]),(0,t.useEffect)((function(){if(i&&null!=e&&null!=n)return E.current=qo(e,n,Object.assign({},p,{placement:u,strategy:l,modifiers:[].concat(hn(T),[Zo,C])})),function(){null!=E.current&&(E.current.destroy(),E.current=void 0,y((function(e){return Object.assign({},e,{attributes:{},styles:{popper:{}}})})))}}),[i,e,n]),S},ni=n(391),ri=n.n(ni),oi=function(){};function ii(e){return 0===e.button}function ai(e){return!!(e.metaKey||e.altKey||e.ctrlKey||e.shiftKey)}var si=function(e){return e&&("current"in e?e.current:e)},ui={click:"mousedown",mouseup:"mousedown",pointerup:"pointerdown"};var ci=function(e){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:oi,r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},o=r.disabled,i=r.clickTrigger,a=void 0===i?"click":i,s=(0,t.useRef)(!1),u=(0,t.useRef)(!1),c=(0,t.useCallback)((function(t){var n=si(e);ri()(!!n,"ClickOutside captured a close event but does not have a ref to compare it to. useClickOutside(), should be passed a ref that resolves to a DOM node"),s.current=!n||ai(t)||!ii(t)||!!fn(n,t.target)||u.current,u.current=!1}),[e]),l=be((function(t){var n=si(e);n&&fn(n,t.target)&&(u.current=!0)})),d=be((function(e){s.current||n(e)}));(0,t.useEffect)((function(){if(!o&&null!=e){var t=dt(si(e)),n=(t.defaultView||window).event,r=null;ui[a]&&(r=xt(t,ui[a],l,!0));var i=xt(t,a,c,!0),s=xt(t,a,(function(e){e!==n?d(e):n=void 0})),u=[];return"ontouchstart"in t.documentElement&&(u=[].slice.call(t.body.children).map((function(e){return xt(e,"mousemove",oi)}))),function(){null==r||r(),i(),s(),u.forEach((function(e){return e()}))}}}),[e,o,a,c,l,d])};function li(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return Array.isArray(e)?e:Object.keys(e).map((function(t){return e[t].name=t,e[t]}))}function di(e){var t,n,r,o,i=e.enabled,a=e.enableEvents,s=e.placement,u=e.flip,c=e.offset,l=e.fixed,d=e.containerPadding,f=e.arrowElement,p=e.popperConfig,h=void 0===p?{}:p,E=function(e){var t={};return Array.isArray(e)?(null==e||e.forEach((function(e){t[e.name]=e})),t):e||t}(h.modifiers);return Object.assign({},h,{placement:s,enabled:i,strategy:l?"fixed":h.strategy,modifiers:li(Object.assign({},E,{eventListeners:{enabled:a},preventOverflow:Object.assign({},E.preventOverflow,{options:d?Object.assign({padding:d},null==(t=E.preventOverflow)?void 0:t.options):null==(n=E.preventOverflow)?void 0:n.options}),offset:{options:Object.assign({offset:c},null==(r=E.offset)?void 0:r.options)},arrow:Object.assign({},E.arrow,{enabled:!!f,options:Object.assign({},null==(o=E.arrow)?void 0:o.options,{element:f})}),flip:Object.assign({enabled:!!u},E.flip)}))})}var fi=["children"];var pi=function(){};function hi(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},n=(0,t.useContext)(br),r=ze(),o=s(r,2),i=o[0],a=o[1],u=(0,t.useRef)(!1),c=e.flip,l=e.offset,d=e.rootCloseEvent,f=e.fixed,p=void 0!==f&&f,h=e.placement,E=e.popperConfig,g=void 0===E?{}:E,v=e.enableEventListeners,m=void 0===v||v,_=e.usePopper,S=void 0===_?!!n:_,y=null==(null==n?void 0:n.show)?!!e.show:n.show;y&&!u.current&&(u.current=!0);var C=function(e){null==n||n.toggle(!1,e)},T=n||{},I=T.placement,A=T.setMenu,R=T.menuElement,O=T.toggleElement,N=ti(O,R,di({placement:h||I||"bottom-start",enabled:S,enableEvents:null==m?y:m,offset:l,flip:c,fixed:p,arrowElement:i,popperConfig:g})),b=Object.assign({ref:A||pi,"aria-labelledby":null==O?void 0:O.id},N.attributes.popper,{style:N.styles.popper}),w={show:y,placement:I,hasShown:u.current,toggle:null==n?void 0:n.toggle,popper:S?N:null,arrowProps:S?Object.assign({ref:a},N.attributes.arrow,{style:N.styles.arrow}):{}};return ci(R,C,{clickTrigger:d,disabled:!y}),[b,w]}function Ei(e){var t=e.children,n=s(hi(function(e,t){if(null==e)return{};var n,r,o={},i=Object.keys(e);for(r=0;r<i.length;r++)n=i[r],t.indexOf(n)>=0||(o[n]=e[n]);return o}(e,fi)),2),r=n[0],o=n[1];return(0,Q.jsx)(Q.Fragment,{children:t(r,o)})}Ei.displayName="DropdownMenu",Ei.defaultProps={usePopper:!0};var gi=Ei,vi={prefix:String(Math.round(1e10*Math.random())),current:0},mi=t.createContext(vi);var _i=Boolean("undefined"!==typeof window&&window.document&&window.document.createElement);var Si=function(e){var t;return"menu"===(null==(t=e.getAttribute("role"))?void 0:t.toLowerCase())},yi=function(){};function Ci(){var e=function(e){var n=(0,t.useContext)(mi);return n!==vi||_i||console.warn("When server rendering, you must wrap your application in an <SSRProvider> to ensure consistent ids are generated between the client and server."),(0,t.useMemo)((function(){return e||"react-aria".concat(n.prefix,"-").concat(++n.current)}),[e])}(),n=(0,t.useContext)(br)||{},r=n.show,o=void 0!==r&&r,i=n.toggle,a=void 0===i?yi:i,s=n.setToggle,u=n.menuElement,c=(0,t.useCallback)((function(e){a(!o,e)}),[o,a]),l={id:e,ref:s||yi,onClick:c,"aria-expanded":!!o};return u&&Si(u)&&(l["aria-haspopup"]=!0),[l,{show:o,toggle:a}]}function Ti(e){var t=e.children,n=s(Ci(),2),r=n[0],o=n[1];return(0,Q.jsx)(Q.Fragment,{children:t(r,o)})}Ti.displayName="DropdownToggle";var Ii=Ti,Ai=["eventKey","disabled","onClick","active","as"];function Ri(e){var n=e.key,r=e.href,o=e.active,i=e.disabled,a=e.onClick,s=(0,t.useContext)(Ae),u=((0,t.useContext)(Te)||{}).activeKey,c=Ie(n,r),l=null==o&&null!=n?Ie(u)===c:o;return[j({onClick:be((function(e){i||(null==a||a(e),s&&!e.isPropagationStopped()&&s(c,e))})),"aria-disabled":i||void 0,"aria-selected":l},Oe("dropdown-item"),""),{isActive:l}]}var Oi=t.forwardRef((function(e,t){var n=e.eventKey,r=e.disabled,o=e.onClick,i=e.active,a=e.as,u=void 0===a?ee:a,c=function(e,t){if(null==e)return{};var n,r,o={},i=Object.keys(e);for(r=0;r<i.length;r++)n=i[r],t.indexOf(n)>=0||(o[n]=e[n]);return o}(e,Ai),l=s(Ri({key:n,href:c.href,disabled:r,onClick:o,active:i}),1)[0];return(0,Q.jsx)(u,Object.assign({},c,{ref:t},l))}));Oi.displayName="DropdownItem";var Ni=Oi;function bi(){var e=_e(),n=(0,t.useRef)(null),r=(0,t.useCallback)((function(t){n.current=t,e()}),[e]);return[n,r]}function wi(e){var n=e.defaultShow,r=e.show,o=e.onSelect,i=e.onToggle,a=e.itemSelector,u=void 0===a?"* [".concat(Oe("dropdown-item"),"]"):a,c=e.focusFirstItemOnShow,l=e.placement,d=void 0===l?"bottom-start":l,f=e.children,p=Cn(),h=s(fe(r,n,i),2),E=h[0],g=h[1],v=s(bi(),2),m=v[0],_=v[1],S=m.current,y=s(bi(),2),C=y[0],T=y[1],I=C.current,A=Qe(E),R=(0,t.useRef)(null),O=(0,t.useRef)(!1),N=(0,t.useContext)(Ae),b=(0,t.useCallback)((function(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:null==t?void 0:t.type;g(e,{originalEvent:t,source:n})}),[g]),w=be((function(e,t){null==o||o(e,t),b(!1,t,"select"),t.isPropagationStopped()||null==N||N(e,t)})),P=(0,t.useMemo)((function(){return{toggle:b,placement:d,show:E,menuElement:S,toggleElement:I,setMenu:_,setToggle:T}}),[b,d,E,S,I,_,T]);S&&A&&!E&&(O.current=S.contains(S.ownerDocument.activeElement));var L=be((function(){I&&I.focus&&I.focus()})),M=be((function(){var e=R.current,t=c;if(null==t&&(t=!(!m.current||!Si(m.current))&&"keyboard"),!1!==t&&("keyboard"!==t||/^key.+$/.test(e))){var n=me(m.current,u)[0];n&&n.focus&&n.focus()}}));(0,t.useEffect)((function(){E?M():O.current&&(O.current=!1,L())}),[E,O,L,M]),(0,t.useEffect)((function(){R.current=null}));var D=function(e,t){if(!m.current)return null;var n=me(m.current,u),r=n.indexOf(e)+t;return n[r=Math.max(0,Math.min(r,n.length))]};return function(e,n,r,o){void 0===o&&(o=!1);var i=be(r);(0,t.useEffect)((function(){var t="function"===typeof e?e():e;return t.addEventListener(n,i,o),function(){return t.removeEventListener(n,i,o)}}),[e])}((0,t.useCallback)((function(){return p.document}),[p]),"keydown",(function(e){var t,n,r=e.key,o=e.target,i=null==(t=m.current)?void 0:t.contains(o),a=null==(n=C.current)?void 0:n.contains(o);if((!/input|textarea/i.test(o.tagName)||!(" "===r||"Escape"!==r&&i||"Escape"===r&&"search"===o.type))&&(i||a)&&("Tab"!==r||m.current&&E)){R.current=e.type;var s={originalEvent:e,source:e.type};switch(r){case"ArrowUp":var u=D(o,-1);return u&&u.focus&&u.focus(),void e.preventDefault();case"ArrowDown":if(e.preventDefault(),E){var c=D(o,1);c&&c.focus&&c.focus()}else g(!0,s);return;case"Tab":Mt(o.ownerDocument,"keyup",(function(e){var t;("Tab"!==e.key||e.target)&&null!=(t=m.current)&&t.contains(e.target)||g(!1,s)}),{once:!0});break;case"Escape":"Escape"===r&&(e.preventDefault(),e.stopPropagation()),g(!1,s)}}})),(0,Q.jsx)(Ae.Provider,{value:w,children:(0,Q.jsx)(br.Provider,{value:P,children:f})})}wi.displayName="Dropdown",wi.Menu=gi,wi.Toggle=Ii,wi.Item=Ni;var Pi=wi,Li=t.createContext({});Li.displayName="DropdownContext";var Mi=Li,Di=["bsPrefix","className","eventKey","disabled","onClick","active","as"],xi=t.forwardRef((function(e,t){var n=e.bsPrefix,r=e.className,o=e.eventKey,i=e.disabled,a=void 0!==i&&i,u=e.onClick,c=e.active,l=e.as,d=void 0===l?tt:l,f=J(e,Di),p=re(n,"dropdown-item"),h=s(Ri({key:o,href:f.href,disabled:a,onClick:u,active:c}),2),E=h[0],g=h[1];return(0,Q.jsx)(d,H(H(H({},f),E),{},{ref:t,className:q()(r,p,g.isActive&&"active",a&&"disabled")}))}));xi.displayName="DropdownItem";var ki=xi,Ui=t.createContext(null);Ui.displayName="InputGroupContext";var Yi=Ui;function Gi(e,t){return e}var Fi=["bsPrefix","className","align","rootCloseEvent","flip","show","renderOnMount","as","popperConfig","variant"];function Ki(e,t,n){var r=e?n?"bottom-start":"bottom-end":n?"bottom-end":"bottom-start";return"up"===t?r=e?n?"top-start":"top-end":n?"top-end":"top-start":"end"===t?r=e?n?"left-end":"right-end":n?"left-start":"right-start":"start"===t&&(r=e?n?"right-end":"left-end":n?"right-start":"left-start"),r}var Bi=t.forwardRef((function(e,n){var r=e.bsPrefix,o=e.className,i=e.align,a=e.rootCloseEvent,u=e.flip,c=e.show,l=e.renderOnMount,d=e.as,f=void 0===d?"div":d,p=e.popperConfig,h=e.variant,E=J(e,Fi),g=!1,v=(0,t.useContext)(Fe),m=re(r,"dropdown-menu"),_=(0,t.useContext)(Mi),S=_.align,y=_.drop,C=_.isRTL;i=i||S;var T=(0,t.useContext)(Yi),I=[];if(i)if("object"===typeof i){var A=Object.keys(i);if(A.length){var R=A[0],O=i[R];g="start"===O,I.push("".concat(m,"-").concat(R,"-").concat(O))}}else"end"===i&&(g=!0);var N=Ki(g,y,C),b=s(hi({flip:u,rootCloseEvent:a,show:c,usePopper:!v&&0===I.length,offset:[0,2],popperConfig:p,placement:N}),2),w=b[0],P=b[1],L=P.hasShown,M=P.popper,D=P.show,x=P.toggle;if(w.ref=ye(Gi(n),w.ref),$e((function(){D&&(null==M||M.update())}),[D]),!L&&!l&&!T)return null;"string"!==typeof f&&(w.show=D,w.close=function(){return null==x?void 0:x(!1)},w.align=i);var k=E.style;return null!=M&&M.placement&&(k=H(H({},E.style),w.style),E["x-placement"]=M.placement),(0,Q.jsx)(f,H(H(H(H({},E),w),{},{style:k},(I.length||v)&&{"data-bs-popper":"static"}),{},{className:q().apply(void 0,[o,m,D&&"show",g&&"".concat(m,"-end"),h&&"".concat(m,"-").concat(h)].concat(I))}))}));Bi.displayName="DropdownMenu",Bi.defaultProps={flip:!0};var ji=Bi,Vi=["bsPrefix","split","className","childBsPrefix","as"],Hi=t.forwardRef((function(e,n){var r=e.bsPrefix,o=e.split,i=e.className,a=e.childBsPrefix,u=e.as,c=void 0===u?ae:u,l=J(e,Vi),d=re(r,"dropdown-toggle"),f=(0,t.useContext)(br),p=(0,t.useContext)(Yi);void 0!==a&&(l.bsPrefix=a);var h=s(Ci(),1)[0];return h.ref=ye(h.ref,Gi(n)),(0,Q.jsx)(c,H(H({className:q()(i,d,o&&"".concat(d,"-split"),!!p&&(null==f?void 0:f.show)&&"show")},h),l))}));Hi.displayName="DropdownToggle";var Wi=Hi,Ji=["bsPrefix","drop","show","className","align","onSelect","onToggle","focusFirstItemOnShow","as","navbar","autoClose"],zi=We("dropdown-header",{defaultProps:{role:"heading"}}),qi=We("dropdown-divider",{Component:"hr",defaultProps:{role:"separator"}}),Qi=We("dropdown-item-text",{Component:"span"}),Xi=t.forwardRef((function(e,n){var r=pe(e,{show:"onToggle"}),o=r.bsPrefix,i=r.drop,a=r.show,s=r.className,u=r.align,c=r.onSelect,l=r.onToggle,d=r.focusFirstItemOnShow,f=r.as,p=void 0===f?"div":f,h=(r.navbar,r.autoClose),E=J(r,Ji),g=(0,t.useContext)(Yi),v=re(o,"dropdown"),m="rtl"===(0,t.useContext)(ne).dir,_=be((function(e,t){var n;t.originalEvent.currentTarget!==document||"keydown"===t.source&&"Escape"!==t.originalEvent.key||(t.source="rootClose"),n=t.source,(!1===h?"click"===n:"inside"===h?"rootClose"!==n:"outside"!==h||"select"!==n)&&(null==l||l(e,t))})),S=Ki("end"===u,i,m),y=(0,t.useMemo)((function(){return{align:u,drop:i,isRTL:m}}),[u,i,m]);return(0,Q.jsx)(Mi.Provider,{value:y,children:(0,Q.jsx)(Pi,{placement:S,show:a,onSelect:c,onToggle:_,focusFirstItemOnShow:d,itemSelector:".".concat(v,"-item:not(.disabled):not(:disabled)"),children:g?E.children:(0,Q.jsx)(p,H(H({},E),{},{ref:n,className:q()(s,a&&"show",(!i||"down"===i)&&v,"up"===i&&"dropup","end"===i&&"dropend","start"===i&&"dropstart")}))})})}));Xi.displayName="Dropdown",Xi.defaultProps={navbar:!1,align:"start",autoClose:!0};var $i=Object.assign(Xi,{Toggle:Wi,Menu:ji,Item:ki,ItemText:Qi,Divider:qi,Header:zi}),Zi=["id","title","children","bsPrefix","className","rootCloseEvent","menuRole","disabled","active","renderMenuOnMount","menuVariant"],ea=t.forwardRef((function(e,t){var n=e.id,r=e.title,o=e.children,i=e.bsPrefix,a=e.className,s=e.rootCloseEvent,u=e.menuRole,c=e.disabled,l=e.active,d=e.renderMenuOnMount,f=e.menuVariant,p=J(e,Zi),h=re(void 0,"nav-item");return(0,Q.jsxs)($i,H(H({ref:t},p),{},{className:q()(a,h),children:[(0,Q.jsx)($i.Toggle,{id:n,eventKey:null,active:l,disabled:c,childBsPrefix:i,as:ot,children:r}),(0,Q.jsx)($i.Menu,{role:u,renderOnMount:d,rootCloseEvent:s,variant:f,children:o})]}))}));ea.displayName="NavDropdown";var ta=Object.assign(ea,{Item:$i.Item,ItemText:$i.ItemText,Divider:$i.Divider,Header:$i.Header});var na=function(){return(0,Q.jsx)(Q.Fragment,{children:[!1].map((function(e){return(0,Q.jsx)(Nr,{bg:"none",expand:e,className:"mb-3",children:(0,Q.jsxs)(ce,{fluid:!0,children:[(0,Q.jsx)(Nr.Brand,{href:"/",children:(0,Q.jsx)("img",{class:"logo",src:n(171),alt:"heyauntie-logo"})}),(0,Q.jsx)(Nr.Toggle,{"aria-controls":"offcanvasNavbar-expand-".concat(e)}),(0,Q.jsxs)(Nr.Offcanvas,{id:"offcanvasNavbar-expand-".concat(e),"aria-labelledby":"offcanvasNavbarLabel-expand-".concat(e),placement:"end",children:[(0,Q.jsx)(Cr.Header,{closeButton:!0,children:(0,Q.jsx)(Cr.Title,{id:"offcanvasNavbarLabel-expand-".concat(e),children:(0,Q.jsx)("img",{class:"logo",src:n(407),alt:"heyauntie-logo"})})}),(0,Q.jsxs)(Cr.Body,{children:[(0,Q.jsxs)(st,{className:"justify-content-end flex-grow-1 pe-3",children:[(0,Q.jsx)(st.Link,{href:"/",children:"Home"}),(0,Q.jsx)(st.Link,{href:"/login",children:"Login "}),(0,Q.jsx)(st.Link,{href:"/registrationform",children:"Sign Up "}),(0,Q.jsx)(st.Link,{href:"/profilemain",children:"Profile"}),(0,Q.jsx)(st.Link,{href:"/communitylounge",children:"Community Lounge"}),(0,Q.jsx)(st.Link,{href:"/dashboard",children:"Dashboard"}),(0,Q.jsx)(st.Link,{href:"/aunteechat",children:"Auntee Messages"}),(0,Q.jsx)(st.Link,{href:"/profilemain",children:"Donate"}),(0,Q.jsx)(ta,{title:"Comunity Lounge",id:"offcanvasNavbarDropdown-expand-".concat(e),children:(0,Q.jsx)(ta.Item,{href:"#action5",children:"Text goes here"})})]}),(0,Q.jsx)(ae,{variant:"outline-success",children:"Search"})]})]})]})},e)}))})},ra=function(){return(0,Q.jsxs)("div",{class:"home-container",children:[(0,Q.jsx)("div",{children:(0,Q.jsx)("img",{src:n(574),alt:"two-woman-dicussing-heyauntie"})}),(0,Q.jsxs)("div",{class:"text-container",children:[(0,Q.jsx)("h1",{class:"home-heading",children:" A community to help you rise and thrive."}),(0,Q.jsx)("br",{}),(0,Q.jsx)("p",{class:"home-para",children:'Hey Auntie! is a platform facilitating connections for Black women across ages and life stages to learn the "rules", gain the tools, and deepen their networks to thrive at home, work, and everywhere in between.'}),(0,Q.jsx)("br",{}),(0,Q.jsx)("div",{class:"btns-container",children:(0,Q.jsxs)("div",{className:"mb-2",children:[(0,Q.jsxs)("a",{href:"/login",children:[(0,Q.jsx)(ae,{id:"log-btn",variant:"primary",size:"lg",children:"Login"})," "]}),(0,Q.jsx)("a",{href:"/survey",children:(0,Q.jsx)(ae,{id:"invite",variant:"secondary",size:"sm",children:"Request an Invite"})})]})})]})]})},oa=function(){return(0,Q.jsx)("main",{class:"home-style",children:(0,Q.jsxs)("div",{class:"heyauntie-img",children:[(0,Q.jsx)(na,{}),(0,Q.jsx)(ra,{})]})})};var ia=function(){return(0,Q.jsxs)(Q.Fragment,{children:[(0,Q.jsx)(Nr,{bg:"light",variant:"light",children:(0,Q.jsxs)(ce,{children:[(0,Q.jsx)(Nr.Brand,{href:"/",children:"Home"}),(0,Q.jsxs)(st,{className:"me-auto",children:[(0,Q.jsx)(st.Link,{href:"#home",children:"Auntie House Rules"}),(0,Q.jsx)(st.Link,{href:"/profilemain",children:"Auntie Group"}),(0,Q.jsx)(st.Link,{href:"#",children:"Community Lounge"}),(0,Q.jsx)(st.Link,{href:"/messages",children:"Inbox"})]})]})}),(0,Q.jsx)("div",{class:"dashboard-bkg",children:(0,Q.jsx)("div",{class:"ladies",children:(0,Q.jsx)("img",{class:"ladies-working",src:n(737),alt:"ladies-conversation"})})})]})},aa=function(){return(0,Q.jsx)(Q.Fragment,{children:(0,Q.jsx)(ia,{})})},sa=function(){return(0,Q.jsx)(Q.Fragment,{children:(0,Q.jsxs)("div",{class:"profile-img",children:[(0,Q.jsx)(na,{}),(0,Q.jsxs)("div",{class:"heyladies",children:[(0,Q.jsx)("h1",{class:"ladies-question",children:"Ask a Question"}),(0,Q.jsxs)("div",{class:"auntie-links",children:[(0,Q.jsx)("a",{href:"/auntie",children:(0,Q.jsx)("h3",{class:"identify-auntie",children:"I'm an Auntie"})}),(0,Q.jsx)("a",{href:"/aunteechat",children:(0,Q.jsx)("h3",{class:"identify-auntee",children:"I'm an Auntee"})})]}),(0,Q.jsx)("div",{children:(0,Q.jsx)("img",{class:"ladies-convo",src:n(574),alt:"heyauntie-ladies"})})]})]})})},ua=n(647),ca=function(){return(0,Q.jsxs)("div",{class:"survey",children:[(0,Q.jsx)(na,{}),(0,Q.jsxs)("div",{class:"survey-btn",children:[(0,Q.jsx)(ua.PopupButton,{id:"pSdmmaef",style:{fontSize:20},className:"my-button",children:"Click to start Survey"}),(0,Q.jsx)("div",{children:(0,Q.jsxs)("a",{href:"/registrationform",children:[(0,Q.jsx)(ae,{variant:"secondary",children:"Sign Up"})," "]})})]})]})},la=function(){return(0,Q.jsx)("div",{children:(0,Q.jsx)(ca,{})})};var da=function(){var e=s((0,t.useState)({}),2),n=e[0],r=e[1],o=s((0,t.useState)(!1),2),i=o[0],a=o[1],u=[{username:"Auntie",password:"Today2!"},{username:"Auntee",password:"Hello1!"}],c="invalid username",l="invalid password",d=function(e){return e===n.name&&(0,Q.jsx)("div",{className:"error",children:n.message})},f=(0,Q.jsx)("div",{className:"form",children:(0,Q.jsxs)("form",{onSubmit:function(e){e.preventDefault();var t=document.forms[0],n=t.uname,o=t.pass,i=u.find((function(e){return e.username===n.value}));i?i.password!==o.value?r({name:"pass",message:l}):a(!0):r({name:"uname",message:c})},children:[(0,Q.jsxs)("div",{className:"input-container",children:[(0,Q.jsx)("label",{children:"Username "}),(0,Q.jsx)("input",{type:"text",name:"uname",required:!0}),d("uname")]}),(0,Q.jsxs)("div",{className:"input-container",children:[(0,Q.jsx)("label",{children:"Password "}),(0,Q.jsx)("input",{type:"password",name:"pass",required:!0}),d("pass")]}),(0,Q.jsx)("div",{className:"button-container",children:(0,Q.jsx)("input",{type:"submit"})})]})});return(0,Q.jsxs)("div",{className:"app login-bg",children:[(0,Q.jsx)(na,{}),(0,Q.jsx)("div",{}),(0,Q.jsxs)("div",{className:"login-form",children:[(0,Q.jsx)("div",{className:"title login-title",children:"Login"}),i?(0,Q.jsx)("div",{children:"You've successfully logged in"}):f]})]})},fa=function(){return(0,Q.jsx)(da,{})};function pa(){pa=function(){return e};var e={},t=Object.prototype,n=t.hasOwnProperty,r="function"==typeof Symbol?Symbol:{},o=r.iterator||"@@iterator",i=r.asyncIterator||"@@asyncIterator",a=r.toStringTag||"@@toStringTag";function s(e,t,n){return Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}),e[t]}try{s({},"")}catch(R){s=function(e,t,n){return e[t]=n}}function u(e,t,n,r){var o=t&&t.prototype instanceof d?t:d,i=Object.create(o.prototype),a=new T(r||[]);return i._invoke=function(e,t,n){var r="suspendedStart";return function(o,i){if("executing"===r)throw new Error("Generator is already running");if("completed"===r){if("throw"===o)throw i;return A()}for(n.method=o,n.arg=i;;){var a=n.delegate;if(a){var s=S(a,n);if(s){if(s===l)continue;return s}}if("next"===n.method)n.sent=n._sent=n.arg;else if("throw"===n.method){if("suspendedStart"===r)throw r="completed",n.arg;n.dispatchException(n.arg)}else"return"===n.method&&n.abrupt("return",n.arg);r="executing";var u=c(e,t,n);if("normal"===u.type){if(r=n.done?"completed":"suspendedYield",u.arg===l)continue;return{value:u.arg,done:n.done}}"throw"===u.type&&(r="completed",n.method="throw",n.arg=u.arg)}}}(e,n,a),i}function c(e,t,n){try{return{type:"normal",arg:e.call(t,n)}}catch(R){return{type:"throw",arg:R}}}e.wrap=u;var l={};function d(){}function f(){}function p(){}var h={};s(h,o,(function(){return this}));var E=Object.getPrototypeOf,g=E&&E(E(I([])));g&&g!==t&&n.call(g,o)&&(h=g);var v=p.prototype=d.prototype=Object.create(h);function m(e){["next","throw","return"].forEach((function(t){s(e,t,(function(e){return this._invoke(t,e)}))}))}function _(e,t){function r(o,i,a,s){var u=c(e[o],e,i);if("throw"!==u.type){var l=u.arg,d=l.value;return d&&"object"==sr(d)&&n.call(d,"__await")?t.resolve(d.__await).then((function(e){r("next",e,a,s)}),(function(e){r("throw",e,a,s)})):t.resolve(d).then((function(e){l.value=e,a(l)}),(function(e){return r("throw",e,a,s)}))}s(u.arg)}var o;this._invoke=function(e,n){function i(){return new t((function(t,o){r(e,n,t,o)}))}return o=o?o.then(i,i):i()}}function S(e,t){var n=e.iterator[t.method];if(void 0===n){if(t.delegate=null,"throw"===t.method){if(e.iterator.return&&(t.method="return",t.arg=void 0,S(e,t),"throw"===t.method))return l;t.method="throw",t.arg=new TypeError("The iterator does not provide a 'throw' method")}return l}var r=c(n,e.iterator,t.arg);if("throw"===r.type)return t.method="throw",t.arg=r.arg,t.delegate=null,l;var o=r.arg;return o?o.done?(t[e.resultName]=o.value,t.next=e.nextLoc,"return"!==t.method&&(t.method="next",t.arg=void 0),t.delegate=null,l):o:(t.method="throw",t.arg=new TypeError("iterator result is not an object"),t.delegate=null,l)}function y(e){var t={tryLoc:e[0]};1 in e&&(t.catchLoc=e[1]),2 in e&&(t.finallyLoc=e[2],t.afterLoc=e[3]),this.tryEntries.push(t)}function C(e){var t=e.completion||{};t.type="normal",delete t.arg,e.completion=t}function T(e){this.tryEntries=[{tryLoc:"root"}],e.forEach(y,this),this.reset(!0)}function I(e){if(e){var t=e[o];if(t)return t.call(e);if("function"==typeof e.next)return e;if(!isNaN(e.length)){var r=-1,i=function t(){for(;++r<e.length;)if(n.call(e,r))return t.value=e[r],t.done=!1,t;return t.value=void 0,t.done=!0,t};return i.next=i}}return{next:A}}function A(){return{value:void 0,done:!0}}return f.prototype=p,s(v,"constructor",p),s(p,"constructor",f),f.displayName=s(p,a,"GeneratorFunction"),e.isGeneratorFunction=function(e){var t="function"==typeof e&&e.constructor;return!!t&&(t===f||"GeneratorFunction"===(t.displayName||t.name))},e.mark=function(e){return Object.setPrototypeOf?Object.setPrototypeOf(e,p):(e.__proto__=p,s(e,a,"GeneratorFunction")),e.prototype=Object.create(v),e},e.awrap=function(e){return{__await:e}},m(_.prototype),s(_.prototype,i,(function(){return this})),e.AsyncIterator=_,e.async=function(t,n,r,o,i){void 0===i&&(i=Promise);var a=new _(u(t,n,r,o),i);return e.isGeneratorFunction(n)?a:a.next().then((function(e){return e.done?e.value:a.next()}))},m(v),s(v,a,"Generator"),s(v,o,(function(){return this})),s(v,"toString",(function(){return"[object Generator]"})),e.keys=function(e){var t=[];for(var n in e)t.push(n);return t.reverse(),function n(){for(;t.length;){var r=t.pop();if(r in e)return n.value=r,n.done=!1,n}return n.done=!0,n}},e.values=I,T.prototype={constructor:T,reset:function(e){if(this.prev=0,this.next=0,this.sent=this._sent=void 0,this.done=!1,this.delegate=null,this.method="next",this.arg=void 0,this.tryEntries.forEach(C),!e)for(var t in this)"t"===t.charAt(0)&&n.call(this,t)&&!isNaN(+t.slice(1))&&(this[t]=void 0)},stop:function(){this.done=!0;var e=this.tryEntries[0].completion;if("throw"===e.type)throw e.arg;return this.rval},dispatchException:function(e){if(this.done)throw e;var t=this;function r(n,r){return a.type="throw",a.arg=e,t.next=n,r&&(t.method="next",t.arg=void 0),!!r}for(var o=this.tryEntries.length-1;o>=0;--o){var i=this.tryEntries[o],a=i.completion;if("root"===i.tryLoc)return r("end");if(i.tryLoc<=this.prev){var s=n.call(i,"catchLoc"),u=n.call(i,"finallyLoc");if(s&&u){if(this.prev<i.catchLoc)return r(i.catchLoc,!0);if(this.prev<i.finallyLoc)return r(i.finallyLoc)}else if(s){if(this.prev<i.catchLoc)return r(i.catchLoc,!0)}else{if(!u)throw new Error("try statement without catch or finally");if(this.prev<i.finallyLoc)return r(i.finallyLoc)}}}},abrupt:function(e,t){for(var r=this.tryEntries.length-1;r>=0;--r){var o=this.tryEntries[r];if(o.tryLoc<=this.prev&&n.call(o,"finallyLoc")&&this.prev<o.finallyLoc){var i=o;break}}i&&("break"===e||"continue"===e)&&i.tryLoc<=t&&t<=i.finallyLoc&&(i=null);var a=i?i.completion:{};return a.type=e,a.arg=t,i?(this.method="next",this.next=i.finallyLoc,l):this.complete(a)},complete:function(e,t){if("throw"===e.type)throw e.arg;return"break"===e.type||"continue"===e.type?this.next=e.arg:"return"===e.type?(this.rval=this.arg=e.arg,this.method="return",this.next="end"):"normal"===e.type&&t&&(this.next=t),l},finish:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var n=this.tryEntries[t];if(n.finallyLoc===e)return this.complete(n.completion,n.afterLoc),C(n),l}},catch:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var n=this.tryEntries[t];if(n.tryLoc===e){var r=n.completion;if("throw"===r.type){var o=r.arg;C(n)}return o}}throw new Error("illegal catch attempt")},delegateYield:function(e,t,n){return this.delegate={iterator:I(e),resultName:t,nextLoc:n},"next"===this.method&&(this.arg=void 0),l}},e}function ha(e,t,n,r,o,i,a){try{var s=e[i](a),u=s.value}catch(yu){return void n(yu)}s.done?t(u):Promise.resolve(u).then(r,o)}function Ea(e){return function(){var t=this,n=arguments;return new Promise((function(r,o){var i=e.apply(t,n);function a(e){ha(i,r,o,a,s,"next",e)}function s(e){ha(i,r,o,a,s,"throw",e)}a(void 0)}))}}function ga(e,t,n){return ga=ar()?Reflect.construct.bind():function(e,t,n){var r=[null];r.push.apply(r,t);var o=new(Function.bind.apply(e,r));return n&&mt(o,n.prototype),o},ga.apply(null,arguments)}function va(e){var t="function"===typeof Map?new Map:void 0;return va=function(e){if(null===e||(n=e,-1===Function.toString.call(n).indexOf("[native code]")))return e;var n;if("function"!==typeof e)throw new TypeError("Super expression must either be null or a function");if("undefined"!==typeof t){if(t.has(e))return t.get(e);t.set(e,r)}function r(){return ga(e,arguments,nr(this).constructor)}return r.prototype=Object.create(e.prototype,{constructor:{value:r,enumerable:!1,writable:!0,configurable:!0}}),mt(r,e)},va(e)}var ma=!1,_a=!1,Sa="${JSCORE_VERSION}",ya=function(e,t){if(!e)throw Ca(t)},Ca=function(e){return new Error("Firebase Database ("+Sa+") INTERNAL ASSERT FAILED: "+e)},Ta=function(e){for(var t=[],n=0,r=0;r<e.length;r++){var o=e.charCodeAt(r);o<128?t[n++]=o:o<2048?(t[n++]=o>>6|192,t[n++]=63&o|128):55296===(64512&o)&&r+1<e.length&&56320===(64512&e.charCodeAt(r+1))?(o=65536+((1023&o)<<10)+(1023&e.charCodeAt(++r)),t[n++]=o>>18|240,t[n++]=o>>12&63|128,t[n++]=o>>6&63|128,t[n++]=63&o|128):(t[n++]=o>>12|224,t[n++]=o>>6&63|128,t[n++]=63&o|128)}return t},Ia={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:"function"===typeof atob,encodeByteArray:function(e,t){if(!Array.isArray(e))throw Error("encodeByteArray takes an array as a parameter");this.init_();for(var n=t?this.byteToCharMapWebSafe_:this.byteToCharMap_,r=[],o=0;o<e.length;o+=3){var i=e[o],a=o+1<e.length,s=a?e[o+1]:0,u=o+2<e.length,c=u?e[o+2]:0,l=i>>2,d=(3&i)<<4|s>>4,f=(15&s)<<2|c>>6,p=63&c;u||(p=64,a||(f=64)),r.push(n[l],n[d],n[f],n[p])}return r.join("")},encodeString:function(e,t){return this.HAS_NATIVE_SUPPORT&&!t?btoa(e):this.encodeByteArray(Ta(e),t)},decodeString:function(e,t){return this.HAS_NATIVE_SUPPORT&&!t?atob(e):function(e){for(var t=[],n=0,r=0;n<e.length;){var o=e[n++];if(o<128)t[r++]=String.fromCharCode(o);else if(o>191&&o<224){var i=e[n++];t[r++]=String.fromCharCode((31&o)<<6|63&i)}else if(o>239&&o<365){var a=((7&o)<<18|(63&e[n++])<<12|(63&e[n++])<<6|63&e[n++])-65536;t[r++]=String.fromCharCode(55296+(a>>10)),t[r++]=String.fromCharCode(56320+(1023&a))}else{var s=e[n++],u=e[n++];t[r++]=String.fromCharCode((15&o)<<12|(63&s)<<6|63&u)}}return t.join("")}(this.decodeStringToByteArray(e,t))},decodeStringToByteArray:function(e,t){this.init_();for(var n=t?this.charToByteMapWebSafe_:this.charToByteMap_,r=[],o=0;o<e.length;){var i=n[e.charAt(o++)],a=o<e.length?n[e.charAt(o)]:0,s=++o<e.length?n[e.charAt(o)]:64,u=++o<e.length?n[e.charAt(o)]:64;if(++o,null==i||null==a||null==s||null==u)throw Error();var c=i<<2|a>>4;if(r.push(c),64!==s){var l=a<<4&240|s>>2;if(r.push(l),64!==u){var d=s<<6&192|u;r.push(d)}}}return r},init_:function(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(var e=0;e<this.ENCODED_VALS.length;e++)this.byteToCharMap_[e]=this.ENCODED_VALS.charAt(e),this.charToByteMap_[this.byteToCharMap_[e]]=e,this.byteToCharMapWebSafe_[e]=this.ENCODED_VALS_WEBSAFE.charAt(e),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[e]]=e,e>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(e)]=e,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(e)]=e)}}},Aa=function(e){var t=Ta(e);return Ia.encodeByteArray(t,!0)},Ra=function(e){return Aa(e).replace(/\./g,"")},Oa=function(e){try{return Ia.decodeString(e,!0)}catch(Cp){console.error("base64Decode failed: ",Cp)}return null};function Na(e){return ba(void 0,e)}function ba(e,t){if(!(t instanceof Object))return t;switch(t.constructor){case Date:return new Date(t.getTime());case Object:void 0===e&&(e={});break;case Array:e=[];break;default:return t}for(var n in t)t.hasOwnProperty(n)&&"__proto__"!==n&&(e[n]=ba(e[n],t[n]));return e}var wa=function(){function e(){var t=this;En(this,e),this.reject=function(){},this.resolve=function(){},this.promise=new Promise((function(e,n){t.resolve=e,t.reject=n}))}return vn(e,[{key:"wrapCallback",value:function(e){var t=this;return function(n,r){n?t.reject(n):t.resolve(r),"function"===typeof e&&(t.promise.catch((function(){})),1===e.length?e(n):e(n,r))}}}]),e}();function Pa(){return"undefined"!==typeof navigator&&"string"===typeof navigator.userAgent?navigator.userAgent:""}function La(){return"undefined"!==typeof window&&!!(window.cordova||window.phonegap||window.PhoneGap)&&/ios|iphone|ipod|ipad|android|blackberry|iemobile/i.test(Pa())}function Ma(){return!0===ma||!0===_a}var Da=function(e){ir(n,e);var t=lr(n);function n(e,r,o){var i;return En(this,n),(i=t.call(this,r)).code=e,i.customData=o,i.name="FirebaseError",Object.setPrototypeOf(ur(i),n.prototype),Error.captureStackTrace&&Error.captureStackTrace(ur(i),xa.prototype.create),i}return vn(n)}(va(Error)),xa=function(){function e(t,n,r){En(this,e),this.service=t,this.serviceName=n,this.errors=r}return vn(e,[{key:"create",value:function(e){var t=(arguments.length<=1?void 0:arguments[1])||{},n="".concat(this.service,"/").concat(e),r=this.errors[e],o=r?ka(r,t):"Error",i="".concat(this.serviceName,": ").concat(o," (").concat(n,")."),a=new Da(n,i,t);return a}}]),e}();function ka(e,t){return e.replace(Ua,(function(e,n){var r=t[n];return null!=r?String(r):"<".concat(n,"?>")}))}var Ua=/\{\$([^}]+)}/g;function Ya(e){return JSON.parse(e)}function Ga(e){return JSON.stringify(e)}var Fa=function(e){var t={},n={},r={},o="";try{var i=e.split(".");t=Ya(Oa(i[0])||""),n=Ya(Oa(i[1])||""),o=i[2],r=n.d||{},delete n.d}catch(Cp){}return{header:t,claims:n,data:r,signature:o}};function Ka(e,t){return Object.prototype.hasOwnProperty.call(e,t)}function Ba(e,t){return Object.prototype.hasOwnProperty.call(e,t)?e[t]:void 0}function ja(e){for(var t in e)if(Object.prototype.hasOwnProperty.call(e,t))return!1;return!0}function Va(e,t,n){var r={};for(var o in e)Object.prototype.hasOwnProperty.call(e,o)&&(r[o]=t.call(n,e[o],o,e));return r}function Ha(e,t){if(e===t)return!0;for(var n=Object.keys(e),r=Object.keys(t),o=0,i=n;o<i.length;o++){var a=i[o];if(!r.includes(a))return!1;var s=e[a],u=t[a];if(Wa(s)&&Wa(u)){if(!Ha(s,u))return!1}else if(s!==u)return!1}for(var c=0,l=r;c<l.length;c++){var d=l[c];if(!n.includes(d))return!1}return!0}function Wa(e){return null!==e&&"object"===typeof e}function Ja(e){for(var t=[],n=function(){var e=s(o[r],2),n=e[0],i=e[1];Array.isArray(i)?i.forEach((function(e){t.push(encodeURIComponent(n)+"="+encodeURIComponent(e))})):t.push(encodeURIComponent(n)+"="+encodeURIComponent(i))},r=0,o=Object.entries(e);r<o.length;r++)n();return t.length?"&"+t.join("&"):""}var za=function(){function e(){En(this,e),this.chain_=[],this.buf_=[],this.W_=[],this.pad_=[],this.inbuf_=0,this.total_=0,this.blockSize=64,this.pad_[0]=128;for(var t=1;t<this.blockSize;++t)this.pad_[t]=0;this.reset()}return vn(e,[{key:"reset",value:function(){this.chain_[0]=1732584193,this.chain_[1]=4023233417,this.chain_[2]=2562383102,this.chain_[3]=271733878,this.chain_[4]=3285377520,this.inbuf_=0,this.total_=0}},{key:"compress_",value:function(e,t){t||(t=0);var n=this.W_;if("string"===typeof e)for(var r=0;r<16;r++)n[r]=e.charCodeAt(t)<<24|e.charCodeAt(t+1)<<16|e.charCodeAt(t+2)<<8|e.charCodeAt(t+3),t+=4;else for(var o=0;o<16;o++)n[o]=e[t]<<24|e[t+1]<<16|e[t+2]<<8|e[t+3],t+=4;for(var i=16;i<80;i++){var a=n[i-3]^n[i-8]^n[i-14]^n[i-16];n[i]=4294967295&(a<<1|a>>>31)}for(var s,u,c=this.chain_[0],l=this.chain_[1],d=this.chain_[2],f=this.chain_[3],p=this.chain_[4],h=0;h<80;h++){h<40?h<20?(s=f^l&(d^f),u=1518500249):(s=l^d^f,u=1859775393):h<60?(s=l&d|f&(l|d),u=2400959708):(s=l^d^f,u=3395469782);var E=(c<<5|c>>>27)+s+p+u+n[h]&4294967295;p=f,f=d,d=4294967295&(l<<30|l>>>2),l=c,c=E}this.chain_[0]=this.chain_[0]+c&4294967295,this.chain_[1]=this.chain_[1]+l&4294967295,this.chain_[2]=this.chain_[2]+d&4294967295,this.chain_[3]=this.chain_[3]+f&4294967295,this.chain_[4]=this.chain_[4]+p&4294967295}},{key:"update",value:function(e,t){if(null!=e){void 0===t&&(t=e.length);for(var n=t-this.blockSize,r=0,o=this.buf_,i=this.inbuf_;r<t;){if(0===i)for(;r<=n;)this.compress_(e,r),r+=this.blockSize;if("string"===typeof e){for(;r<t;)if(o[i]=e.charCodeAt(r),++r,++i===this.blockSize){this.compress_(o),i=0;break}}else for(;r<t;)if(o[i]=e[r],++r,++i===this.blockSize){this.compress_(o),i=0;break}}this.inbuf_=i,this.total_+=t}}},{key:"digest",value:function(){var e=[],t=8*this.total_;this.inbuf_<56?this.update(this.pad_,56-this.inbuf_):this.update(this.pad_,this.blockSize-(this.inbuf_-56));for(var n=this.blockSize-1;n>=56;n--)this.buf_[n]=255&t,t/=256;this.compress_(this.buf_);for(var r=0,o=0;o<5;o++)for(var i=24;i>=0;i-=8)e[r]=this.chain_[o]>>i&255,++r;return e}}]),e}();function qa(e,t){return"".concat(e," failed: ").concat(t," argument ")}var Qa=function(e){for(var t=0,n=0;n<e.length;n++){var r=e.charCodeAt(n);r<128?t++:r<2048?t+=2:r>=55296&&r<=56319?(t+=4,n++):t+=3}return t};function Xa(e){return e&&e._delegate?e._delegate:e}var $a=function(){function e(t,n,r){En(this,e),this.name=t,this.instanceFactory=n,this.type=r,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}return vn(e,[{key:"setInstantiationMode",value:function(e){return this.instantiationMode=e,this}},{key:"setMultipleInstances",value:function(e){return this.multipleInstances=e,this}},{key:"setServiceProps",value:function(e){return this.serviceProps=e,this}},{key:"setInstanceCreatedCallback",value:function(e){return this.onInstanceCreated=e,this}}]),e}(),Za="[DEFAULT]",es=function(){function e(t,n){En(this,e),this.name=t,this.container=n,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}return vn(e,[{key:"get",value:function(e){var t=this.normalizeInstanceIdentifier(e);if(!this.instancesDeferred.has(t)){var n=new wa;if(this.instancesDeferred.set(t,n),this.isInitialized(t)||this.shouldAutoInitialize())try{var r=this.getOrInitializeService({instanceIdentifier:t});r&&n.resolve(r)}catch(Cp){}}return this.instancesDeferred.get(t).promise}},{key:"getImmediate",value:function(e){var t,n=this.normalizeInstanceIdentifier(null===e||void 0===e?void 0:e.identifier),r=null!==(t=null===e||void 0===e?void 0:e.optional)&&void 0!==t&&t;if(!this.isInitialized(n)&&!this.shouldAutoInitialize()){if(r)return null;throw Error("Service ".concat(this.name," is not available"))}try{return this.getOrInitializeService({instanceIdentifier:n})}catch(Cp){if(r)return null;throw Cp}}},{key:"getComponent",value:function(){return this.component}},{key:"setComponent",value:function(e){if(e.name!==this.name)throw Error("Mismatching Component ".concat(e.name," for Provider ").concat(this.name,"."));if(this.component)throw Error("Component for ".concat(this.name," has already been provided"));if(this.component=e,this.shouldAutoInitialize()){if(function(e){return"EAGER"===e.instantiationMode}(e))try{this.getOrInitializeService({instanceIdentifier:Za})}catch(Cp){}var t,n=wr(this.instancesDeferred.entries());try{for(n.s();!(t=n.n()).done;){var r=s(t.value,2),o=r[0],i=r[1],a=this.normalizeInstanceIdentifier(o);try{var u=this.getOrInitializeService({instanceIdentifier:a});i.resolve(u)}catch(Cp){}}}catch(c){n.e(c)}finally{n.f()}}}},{key:"clearInstance",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Za;this.instancesDeferred.delete(e),this.instancesOptions.delete(e),this.instances.delete(e)}},{key:"delete",value:function(){var e=Ea(pa().mark((function e(){var t;return pa().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t=Array.from(this.instances.values()),e.next=3,Promise.all([].concat(hn(t.filter((function(e){return"INTERNAL"in e})).map((function(e){return e.INTERNAL.delete()}))),hn(t.filter((function(e){return"_delete"in e})).map((function(e){return e._delete()})))));case 3:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"isComponentSet",value:function(){return null!=this.component}},{key:"isInitialized",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Za;return this.instances.has(e)}},{key:"getOptions",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Za;return this.instancesOptions.get(e)||{}}},{key:"initialize",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=e.options,n=void 0===t?{}:t,r=this.normalizeInstanceIdentifier(e.instanceIdentifier);if(this.isInitialized(r))throw Error("".concat(this.name,"(").concat(r,") has already been initialized"));if(!this.isComponentSet())throw Error("Component ".concat(this.name," has not been registered yet"));var o,i=this.getOrInitializeService({instanceIdentifier:r,options:n}),a=wr(this.instancesDeferred.entries());try{for(a.s();!(o=a.n()).done;){var u=s(o.value,2),c=u[0],l=u[1],d=this.normalizeInstanceIdentifier(c);r===d&&l.resolve(i)}}catch(f){a.e(f)}finally{a.f()}return i}},{key:"onInit",value:function(e,t){var n,r=this.normalizeInstanceIdentifier(t),o=null!==(n=this.onInitCallbacks.get(r))&&void 0!==n?n:new Set;o.add(e),this.onInitCallbacks.set(r,o);var i=this.instances.get(r);return i&&e(i,r),function(){o.delete(e)}}},{key:"invokeOnInitCallbacks",value:function(e,t){var n=this.onInitCallbacks.get(t);if(n){var r,o=wr(n);try{for(o.s();!(r=o.n()).done;){var i=r.value;try{i(e,t)}catch(a){}}}catch(s){o.e(s)}finally{o.f()}}}},{key:"getOrInitializeService",value:function(e){var t,n=e.instanceIdentifier,r=e.options,o=void 0===r?{}:r,i=this.instances.get(n);if(!i&&this.component&&(i=this.component.instanceFactory(this.container,{instanceIdentifier:(t=n,t===Za?void 0:t),options:o}),this.instances.set(n,i),this.instancesOptions.set(n,o),this.invokeOnInitCallbacks(i,n),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,n,i)}catch(a){}return i||null}},{key:"normalizeInstanceIdentifier",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Za;return this.component?this.component.multipleInstances?e:Za:e}},{key:"shouldAutoInitialize",value:function(){return!!this.component&&"EXPLICIT"!==this.component.instantiationMode}}]),e}();var ts,ns,rs=function(){function e(t){En(this,e),this.name=t,this.providers=new Map}return vn(e,[{key:"addComponent",value:function(e){var t=this.getProvider(e.name);if(t.isComponentSet())throw new Error("Component ".concat(e.name," has already been registered with ").concat(this.name));t.setComponent(e)}},{key:"addOrOverwriteComponent",value:function(e){this.getProvider(e.name).isComponentSet()&&this.providers.delete(e.name),this.addComponent(e)}},{key:"getProvider",value:function(e){if(this.providers.has(e))return this.providers.get(e);var t=new es(e,this);return this.providers.set(e,t),t}},{key:"getProviders",value:function(){return Array.from(this.providers.values())}}]),e}(),os=[];!function(e){e[e.DEBUG=0]="DEBUG",e[e.VERBOSE=1]="VERBOSE",e[e.INFO=2]="INFO",e[e.WARN=3]="WARN",e[e.ERROR=4]="ERROR",e[e.SILENT=5]="SILENT"}(ns||(ns={}));var is={debug:ns.DEBUG,verbose:ns.VERBOSE,info:ns.INFO,warn:ns.WARN,error:ns.ERROR,silent:ns.SILENT},as=ns.INFO,ss=(j(ts={},ns.DEBUG,"log"),j(ts,ns.VERBOSE,"log"),j(ts,ns.INFO,"info"),j(ts,ns.WARN,"warn"),j(ts,ns.ERROR,"error"),ts),us=function(e,t){if(!(t<e.logLevel)){var n=(new Date).toISOString(),r=ss[t];if(!r)throw new Error("Attempted to log a message with an invalid logType (value: ".concat(t,")"));for(var o,i=arguments.length,a=new Array(i>2?i-2:0),s=2;s<i;s++)a[s-2]=arguments[s];(o=console)[r].apply(o,["[".concat(n,"]  ").concat(e.name,":")].concat(a))}},cs=function(){function e(t){En(this,e),this.name=t,this._logLevel=as,this._logHandler=us,this._userLogHandler=null,os.push(this)}return vn(e,[{key:"logLevel",get:function(){return this._logLevel},set:function(e){if(!(e in ns))throw new TypeError('Invalid value "'.concat(e,'" assigned to `logLevel`'));this._logLevel=e}},{key:"setLogLevel",value:function(e){this._logLevel="string"===typeof e?is[e]:e}},{key:"logHandler",get:function(){return this._logHandler},set:function(e){if("function"!==typeof e)throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=e}},{key:"userLogHandler",get:function(){return this._userLogHandler},set:function(e){this._userLogHandler=e}},{key:"debug",value:function(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];this._userLogHandler&&this._userLogHandler.apply(this,[this,ns.DEBUG].concat(t)),this._logHandler.apply(this,[this,ns.DEBUG].concat(t))}},{key:"log",value:function(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];this._userLogHandler&&this._userLogHandler.apply(this,[this,ns.VERBOSE].concat(t)),this._logHandler.apply(this,[this,ns.VERBOSE].concat(t))}},{key:"info",value:function(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];this._userLogHandler&&this._userLogHandler.apply(this,[this,ns.INFO].concat(t)),this._logHandler.apply(this,[this,ns.INFO].concat(t))}},{key:"warn",value:function(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];this._userLogHandler&&this._userLogHandler.apply(this,[this,ns.WARN].concat(t)),this._logHandler.apply(this,[this,ns.WARN].concat(t))}},{key:"error",value:function(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];this._userLogHandler&&this._userLogHandler.apply(this,[this,ns.ERROR].concat(t)),this._logHandler.apply(this,[this,ns.ERROR].concat(t))}}]),e}();var ls,ds;var fs=new WeakMap,ps=new WeakMap,hs=new WeakMap,Es=new WeakMap,gs=new WeakMap;var vs={get:function(e,t,n){if(e instanceof IDBTransaction){if("done"===t)return ps.get(e);if("objectStoreNames"===t)return e.objectStoreNames||hs.get(e);if("store"===t)return n.objectStoreNames[1]?void 0:n.objectStore(n.objectStoreNames[0])}return Ss(e[t])},set:function(e,t,n){return e[t]=n,!0},has:function(e,t){return e instanceof IDBTransaction&&("done"===t||"store"===t)||t in e}};function ms(e){return e!==IDBDatabase.prototype.transaction||"objectStoreNames"in IDBTransaction.prototype?(ds||(ds=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])).includes(e)?function(){for(var t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];return e.apply(ys(this),n),Ss(fs.get(this))}:function(){for(var t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];return Ss(e.apply(ys(this),n))}:function(t){for(var n=arguments.length,r=new Array(n>1?n-1:0),o=1;o<n;o++)r[o-1]=arguments[o];var i=e.call.apply(e,[ys(this),t].concat(r));return hs.set(i,t.sort?t.sort():[t]),Ss(i)}}function _s(e){return"function"===typeof e?ms(e):(e instanceof IDBTransaction&&function(e){if(!ps.has(e)){var t=new Promise((function(t,n){var r=function(){e.removeEventListener("complete",o),e.removeEventListener("error",i),e.removeEventListener("abort",i)},o=function(){t(),r()},i=function(){n(e.error||new DOMException("AbortError","AbortError")),r()};e.addEventListener("complete",o),e.addEventListener("error",i),e.addEventListener("abort",i)}));ps.set(e,t)}}(e),t=e,(ls||(ls=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])).some((function(e){return t instanceof e}))?new Proxy(e,vs):e);var t}function Ss(e){if(e instanceof IDBRequest)return function(e){var t=new Promise((function(t,n){var r=function(){e.removeEventListener("success",o),e.removeEventListener("error",i)},o=function(){t(Ss(e.result)),r()},i=function(){n(e.error),r()};e.addEventListener("success",o),e.addEventListener("error",i)}));return t.then((function(t){t instanceof IDBCursor&&fs.set(t,e)})).catch((function(){})),gs.set(t,e),t}(e);if(Es.has(e))return Es.get(e);var t=_s(e);return t!==e&&(Es.set(e,t),gs.set(t,e)),t}var ys=function(e){return gs.get(e)};var Cs,Ts,Is=["get","getKey","getAll","getAllKeys","count"],As=["put","add","delete","clear"],Rs=new Map;function Os(e,t){if(e instanceof IDBDatabase&&!(t in e)&&"string"===typeof t){if(Rs.get(t))return Rs.get(t);var n=t.replace(/FromIndex$/,""),r=t!==n,o=As.includes(n);if(n in(r?IDBIndex:IDBObjectStore).prototype&&(o||Is.includes(n))){var i=function(){var e=Ea(pa().mark((function e(t){var i,a,s,u,c,l,d=arguments;return pa().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:for(a=this.transaction(t,o?"readwrite":"readonly"),s=a.store,u=d.length,c=new Array(u>1?u-1:0),l=1;l<u;l++)c[l-1]=d[l];return r&&(s=s.index(c.shift())),e.next=6,Promise.all([(i=s)[n].apply(i,c),o&&a.done]);case 6:return e.abrupt("return",e.sent[0]);case 7:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}();return Rs.set(t,i),i}}}vs=function(e){return H(H({},e),{},{get:function(t,n,r){return Os(t,n)||e.get(t,n,r)},has:function(t,n){return!!Os(t,n)||e.has(t,n)}})}(vs);var Ns=function(){function e(t){En(this,e),this.container=t}return vn(e,[{key:"getPlatformInfoString",value:function(){return this.container.getProviders().map((function(e){if(function(e){var t=e.getComponent();return"VERSION"===(null===t||void 0===t?void 0:t.type)}(e)){var t=e.getImmediate();return"".concat(t.library,"/").concat(t.version)}return null})).filter((function(e){return e})).join(" ")}}]),e}();var bs="@firebase/app",ws="0.7.30",Ps=new cs("@firebase/app"),Ls="[DEFAULT]",Ms=(j(Cs={},bs,"fire-core"),j(Cs,"@firebase/app-compat","fire-core-compat"),j(Cs,"@firebase/analytics","fire-analytics"),j(Cs,"@firebase/analytics-compat","fire-analytics-compat"),j(Cs,"@firebase/app-check","fire-app-check"),j(Cs,"@firebase/app-check-compat","fire-app-check-compat"),j(Cs,"@firebase/auth","fire-auth"),j(Cs,"@firebase/auth-compat","fire-auth-compat"),j(Cs,"@firebase/database","fire-rtdb"),j(Cs,"@firebase/database-compat","fire-rtdb-compat"),j(Cs,"@firebase/functions","fire-fn"),j(Cs,"@firebase/functions-compat","fire-fn-compat"),j(Cs,"@firebase/installations","fire-iid"),j(Cs,"@firebase/installations-compat","fire-iid-compat"),j(Cs,"@firebase/messaging","fire-fcm"),j(Cs,"@firebase/messaging-compat","fire-fcm-compat"),j(Cs,"@firebase/performance","fire-perf"),j(Cs,"@firebase/performance-compat","fire-perf-compat"),j(Cs,"@firebase/remote-config","fire-rc"),j(Cs,"@firebase/remote-config-compat","fire-rc-compat"),j(Cs,"@firebase/storage","fire-gcs"),j(Cs,"@firebase/storage-compat","fire-gcs-compat"),j(Cs,"@firebase/firestore","fire-fst"),j(Cs,"@firebase/firestore-compat","fire-fst-compat"),j(Cs,"fire-js","fire-js"),j(Cs,"firebase","fire-js-all"),Cs),Ds=new Map,xs=new Map;function ks(e,t){try{e.container.addComponent(t)}catch(Cp){Ps.debug("Component ".concat(t.name," failed to register with FirebaseApp ").concat(e.name),Cp)}}function Us(e){var t=e.name;if(xs.has(t))return Ps.debug("There were multiple attempts to register component ".concat(t,".")),!1;xs.set(t,e);var n,r=wr(Ds.values());try{for(r.s();!(n=r.n()).done;){ks(n.value,e)}}catch(o){r.e(o)}finally{r.f()}return!0}function Ys(e,t){var n=e.container.getProvider("heartbeat").getImmediate({optional:!0});return n&&n.triggerHeartbeat(),e.container.getProvider(t)}var Gs=(j(Ts={},"no-app","No Firebase App '{$appName}' has been created - call Firebase App.initializeApp()"),j(Ts,"bad-app-name","Illegal App name: '{$appName}"),j(Ts,"duplicate-app","Firebase App named '{$appName}' already exists with different options or config"),j(Ts,"app-deleted","Firebase App named '{$appName}' already deleted"),j(Ts,"invalid-app-argument","firebase.{$appName}() takes either no argument or a Firebase App instance."),j(Ts,"invalid-log-argument","First argument to `onLog` must be null or a function."),j(Ts,"idb-open","Error thrown when opening IndexedDB. Original error: {$originalErrorMessage}."),j(Ts,"idb-get","Error thrown when reading from IndexedDB. Original error: {$originalErrorMessage}."),j(Ts,"idb-set","Error thrown when writing to IndexedDB. Original error: {$originalErrorMessage}."),j(Ts,"idb-delete","Error thrown when deleting from IndexedDB. Original error: {$originalErrorMessage}."),Ts),Fs=new xa("app","Firebase",Gs),Ks=function(){function e(t,n,r){var o=this;En(this,e),this._isDeleted=!1,this._options=Object.assign({},t),this._config=Object.assign({},n),this._name=n.name,this._automaticDataCollectionEnabled=n.automaticDataCollectionEnabled,this._container=r,this.container.addComponent(new $a("app",(function(){return o}),"PUBLIC"))}return vn(e,[{key:"automaticDataCollectionEnabled",get:function(){return this.checkDestroyed(),this._automaticDataCollectionEnabled},set:function(e){this.checkDestroyed(),this._automaticDataCollectionEnabled=e}},{key:"name",get:function(){return this.checkDestroyed(),this._name}},{key:"options",get:function(){return this.checkDestroyed(),this._options}},{key:"config",get:function(){return this.checkDestroyed(),this._config}},{key:"container",get:function(){return this._container}},{key:"isDeleted",get:function(){return this._isDeleted},set:function(e){this._isDeleted=e}},{key:"checkDestroyed",value:function(){if(this.isDeleted)throw Fs.create("app-deleted",{appName:this._name})}}]),e}();function Bs(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Ls,t=Ds.get(e);if(!t)throw Fs.create("no-app",{appName:e});return t}function js(e,t,n){var r,o=null!==(r=Ms[e])&&void 0!==r?r:e;n&&(o+="-".concat(n));var i=o.match(/\s|\//),a=t.match(/\s|\//);if(i||a){var s=['Unable to register library "'.concat(o,'" with version "').concat(t,'":')];return i&&s.push('library name "'.concat(o,'" contains illegal characters (whitespace or "/")')),i&&a&&s.push("and"),a&&s.push('version name "'.concat(t,'" contains illegal characters (whitespace or "/")')),void Ps.warn(s.join(" "))}Us(new $a("".concat(o,"-version"),(function(){return{library:o,version:t}}),"VERSION"))}var Vs="firebase-heartbeat-store",Hs=null;function Ws(){return Hs||(Hs=function(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},r=n.blocked,o=n.upgrade,i=n.blocking,a=n.terminated,s=indexedDB.open(e,t),u=Ss(s);return o&&s.addEventListener("upgradeneeded",(function(e){o(Ss(s.result),e.oldVersion,e.newVersion,Ss(s.transaction))})),r&&s.addEventListener("blocked",(function(){return r()})),u.then((function(e){a&&e.addEventListener("close",(function(){return a()})),i&&e.addEventListener("versionchange",(function(){return i()}))})).catch((function(){})),u}("firebase-heartbeat-database",1,{upgrade:function(e,t){if(0===t)e.createObjectStore(Vs)}}).catch((function(e){throw Fs.create("idb-open",{originalErrorMessage:e.message})}))),Hs}function Js(e){return zs.apply(this,arguments)}function zs(){return zs=Ea(pa().mark((function e(t){var n,r,o;return pa().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,Ws();case 3:return r=e.sent,e.abrupt("return",r.transaction(Vs).objectStore(Vs).get(Xs(t)));case 7:e.prev=7,e.t0=e.catch(0),e.t0 instanceof Da?Ps.warn(e.t0.message):(o=Fs.create("idb-get",{originalErrorMessage:null===(n=e.t0)||void 0===n?void 0:n.message}),Ps.warn(o.message));case 10:case"end":return e.stop()}}),e,null,[[0,7]])}))),zs.apply(this,arguments)}function qs(e,t){return Qs.apply(this,arguments)}function Qs(){return Qs=Ea(pa().mark((function e(t,n){var r,o,i,a,s;return pa().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,Ws();case 3:return o=e.sent,i=o.transaction(Vs,"readwrite"),a=i.objectStore(Vs),e.next=8,a.put(n,Xs(t));case 8:return e.abrupt("return",i.done);case 11:e.prev=11,e.t0=e.catch(0),e.t0 instanceof Da?Ps.warn(e.t0.message):(s=Fs.create("idb-set",{originalErrorMessage:null===(r=e.t0)||void 0===r?void 0:r.message}),Ps.warn(s.message));case 14:case"end":return e.stop()}}),e,null,[[0,11]])}))),Qs.apply(this,arguments)}function Xs(e){return"".concat(e.name,"!").concat(e.options.appId)}var $s=function(){function e(t){var n=this;En(this,e),this.container=t,this._heartbeatsCache=null;var r=this.container.getProvider("app").getImmediate();this._storage=new nu(r),this._heartbeatsCachePromise=this._storage.read().then((function(e){return n._heartbeatsCache=e,e}))}return vn(e,[{key:"triggerHeartbeat",value:function(){var e=Ea(pa().mark((function e(){var t,n,r;return pa().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(t=this.container.getProvider("platform-logger").getImmediate(),n=t.getPlatformInfoString(),r=Zs(),null!==this._heartbeatsCache){e.next=7;break}return e.next=6,this._heartbeatsCachePromise;case 6:this._heartbeatsCache=e.sent;case 7:if(this._heartbeatsCache.lastSentHeartbeatDate!==r&&!this._heartbeatsCache.heartbeats.some((function(e){return e.date===r}))){e.next=11;break}return e.abrupt("return");case 11:this._heartbeatsCache.heartbeats.push({date:r,agent:n});case 12:return this._heartbeatsCache.heartbeats=this._heartbeatsCache.heartbeats.filter((function(e){var t=new Date(e.date).valueOf();return Date.now()-t<=2592e6})),e.abrupt("return",this._storage.overwrite(this._heartbeatsCache));case 14:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"getHeartbeatsHeader",value:function(){var e=Ea(pa().mark((function e(){var t,n,r,o,i;return pa().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(null!==this._heartbeatsCache){e.next=3;break}return e.next=3,this._heartbeatsCachePromise;case 3:if(null!==this._heartbeatsCache&&0!==this._heartbeatsCache.heartbeats.length){e.next=5;break}return e.abrupt("return","");case 5:if(t=Zs(),n=eu(this._heartbeatsCache.heartbeats),r=n.heartbeatsToSend,o=n.unsentEntries,i=Ra(JSON.stringify({version:2,heartbeats:r})),this._heartbeatsCache.lastSentHeartbeatDate=t,!(o.length>0)){e.next=15;break}return this._heartbeatsCache.heartbeats=o,e.next=13,this._storage.overwrite(this._heartbeatsCache);case 13:e.next=17;break;case 15:this._heartbeatsCache.heartbeats=[],this._storage.overwrite(this._heartbeatsCache);case 17:return e.abrupt("return",i);case 18:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()}]),e}();function Zs(){return(new Date).toISOString().substring(0,10)}function eu(e){var t,n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:1024,r=[],o=e.slice(),i=wr(e);try{var a=function(){var e=t.value,i=r.find((function(t){return t.agent===e.agent}));if(i){if(i.dates.push(e.date),ru(r)>n)return i.dates.pop(),"break"}else if(r.push({agent:e.agent,dates:[e.date]}),ru(r)>n)return r.pop(),"break";o=o.slice(1)};for(i.s();!(t=i.n()).done;){var s=a();if("break"===s)break}}catch(u){i.e(u)}finally{i.f()}return{heartbeatsToSend:r,unsentEntries:o}}var tu,nu=function(){function e(t){En(this,e),this.app=t,this._canUseIndexedDBPromise=this.runIndexedDBEnvironmentCheck()}return vn(e,[{key:"runIndexedDBEnvironmentCheck",value:function(){var e=Ea(pa().mark((function e(){return pa().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if("object"===typeof indexedDB){e.next=4;break}return e.abrupt("return",!1);case 4:return e.abrupt("return",new Promise((function(e,t){try{var n=!0,r="validate-browser-context-for-indexeddb-analytics-module",o=self.indexedDB.open(r);o.onsuccess=function(){o.result.close(),n||self.indexedDB.deleteDatabase(r),e(!0)},o.onupgradeneeded=function(){n=!1},o.onerror=function(){var e;t((null===(e=o.error)||void 0===e?void 0:e.message)||"")}}catch(yu){t(yu)}})).then((function(){return!0})).catch((function(){return!1})));case 5:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}()},{key:"read",value:function(){var e=Ea(pa().mark((function e(){var t;return pa().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this._canUseIndexedDBPromise;case 2:if(e.sent){e.next=7;break}return e.abrupt("return",{heartbeats:[]});case 7:return e.next=9,Js(this.app);case 9:return t=e.sent,e.abrupt("return",t||{heartbeats:[]});case 11:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"overwrite",value:function(){var e=Ea(pa().mark((function e(t){var n,r;return pa().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this._canUseIndexedDBPromise;case 2:if(e.sent){e.next=7;break}return e.abrupt("return");case 7:return e.next=9,this.read();case 9:return r=e.sent,e.abrupt("return",qs(this.app,{lastSentHeartbeatDate:null!==(n=t.lastSentHeartbeatDate)&&void 0!==n?n:r.lastSentHeartbeatDate,heartbeats:t.heartbeats}));case 11:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"add",value:function(){var e=Ea(pa().mark((function e(t){var n,r;return pa().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this._canUseIndexedDBPromise;case 2:if(e.sent){e.next=7;break}return e.abrupt("return");case 7:return e.next=9,this.read();case 9:return r=e.sent,e.abrupt("return",qs(this.app,{lastSentHeartbeatDate:null!==(n=t.lastSentHeartbeatDate)&&void 0!==n?n:r.lastSentHeartbeatDate,heartbeats:[].concat(hn(r.heartbeats),hn(t.heartbeats))}));case 11:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()}]),e}();function ru(e){return Ra(JSON.stringify({version:2,heartbeats:e})).length}tu="",Us(new $a("platform-logger",(function(e){return new Ns(e)}),"PRIVATE")),Us(new $a("heartbeat",(function(e){return new $s(e)}),"PRIVATE")),js(bs,ws,tu),js(bs,ws,"esm2017"),js("fire-js","");js("firebase","9.9.2","app");var ou="@firebase/database",iu="0.13.4",au="";var su=function(){function e(t){En(this,e),this.domStorage_=t,this.prefix_="firebase:"}return vn(e,[{key:"set",value:function(e,t){null==t?this.domStorage_.removeItem(this.prefixedName_(e)):this.domStorage_.setItem(this.prefixedName_(e),Ga(t))}},{key:"get",value:function(e){var t=this.domStorage_.getItem(this.prefixedName_(e));return null==t?null:Ya(t)}},{key:"remove",value:function(e){this.domStorage_.removeItem(this.prefixedName_(e))}},{key:"prefixedName_",value:function(e){return this.prefix_+e}},{key:"toString",value:function(){return this.domStorage_.toString()}}]),e}(),uu=function(){function e(){En(this,e),this.cache_={},this.isInMemoryStorage=!0}return vn(e,[{key:"set",value:function(e,t){null==t?delete this.cache_[e]:this.cache_[e]=t}},{key:"get",value:function(e){return Ka(this.cache_,e)?this.cache_[e]:null}},{key:"remove",value:function(e){delete this.cache_[e]}}]),e}(),cu=function(e){try{if("undefined"!==typeof window&&"undefined"!==typeof window[e]){var t=window[e];return t.setItem("firebase:sentinel","cache"),t.removeItem("firebase:sentinel"),new su(t)}}catch(Cp){}return new uu},lu=cu("localStorage"),du=cu("sessionStorage"),fu=new cs("@firebase/database"),pu=function(){var e=1;return function(){return e++}}(),hu=function(e){var t=function(e){for(var t=[],n=0,r=0;r<e.length;r++){var o=e.charCodeAt(r);if(o>=55296&&o<=56319){var i=o-55296;r++,ya(r<e.length,"Surrogate pair missing trail surrogate."),o=65536+(i<<10)+(e.charCodeAt(r)-56320)}o<128?t[n++]=o:o<2048?(t[n++]=o>>6|192,t[n++]=63&o|128):o<65536?(t[n++]=o>>12|224,t[n++]=o>>6&63|128,t[n++]=63&o|128):(t[n++]=o>>18|240,t[n++]=o>>12&63|128,t[n++]=o>>6&63|128,t[n++]=63&o|128)}return t}(e),n=new za;n.update(t);var r=n.digest();return Ia.encodeByteArray(r)},Eu=function e(){for(var t="",n=0;n<arguments.length;n++){var r=n<0||arguments.length<=n?void 0:arguments[n];Array.isArray(r)||r&&"object"===typeof r&&"number"===typeof r.length?t+=e.apply(null,r):t+="object"===typeof r?Ga(r):r,t+=" "}return t},gu=null,vu=!0,mu=function(e,t){ya(!t||!0===e||!1===e,"Can't turn on custom loggers persistently."),!0===e?(fu.logLevel=ns.VERBOSE,gu=fu.log.bind(fu),t&&du.set("logging_enabled",!0)):"function"===typeof e?gu=e:(gu=null,du.remove("logging_enabled"))},_u=function(){if(!0===vu&&(vu=!1,null===gu&&!0===du.get("logging_enabled")&&mu(!0)),gu){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];var r=Eu.apply(null,t);gu(r)}},Su=function(e){return function(){for(var t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];_u.apply(void 0,[e].concat(n))}},yu=function(){var e="FIREBASE INTERNAL ERROR: "+Eu.apply(void 0,arguments);fu.error(e)},Cu=function(){var e="FIREBASE FATAL ERROR: ".concat(Eu.apply(void 0,arguments));throw fu.error(e),new Error(e)},Tu=function(){var e="FIREBASE WARNING: "+Eu.apply(void 0,arguments);fu.warn(e)},Iu=function(e){return"number"===typeof e&&(e!==e||e===Number.POSITIVE_INFINITY||e===Number.NEGATIVE_INFINITY)},Au="[MIN_NAME]",Ru="[MAX_NAME]",Ou=function(e,t){if(e===t)return 0;if(e===Au||t===Ru)return-1;if(t===Au||e===Ru)return 1;var n=Uu(e),r=Uu(t);return null!==n?null!==r?n-r===0?e.length-t.length:n-r:-1:null!==r?1:e<t?-1:1},Nu=function(e,t){return e===t?0:e<t?-1:1},bu=function(e,t){if(t&&e in t)return t[e];throw new Error("Missing required key ("+e+") in object: "+Ga(t))},wu=function e(t){if("object"!==typeof t||null===t)return Ga(t);var n=[];for(var r in t)n.push(r);n.sort();for(var o="{",i=0;i<n.length;i++)0!==i&&(o+=","),o+=Ga(n[i]),o+=":",o+=e(t[n[i]]);return o+="}"},Pu=function(e,t){var n=e.length;if(n<=t)return[e];for(var r=[],o=0;o<n;o+=t)o+t>n?r.push(e.substring(o,n)):r.push(e.substring(o,o+t));return r};function Lu(e,t){for(var n in e)e.hasOwnProperty(n)&&t(n,e[n])}var Mu=function(e){ya(!Iu(e),"Invalid JSON number");var t,n,r,o,i,a=1023;0===e?(n=0,r=0,t=1/e===-1/0?1:0):(t=e<0,(e=Math.abs(e))>=Math.pow(2,-1022)?(n=(o=Math.min(Math.floor(Math.log(e)/Math.LN2),a))+a,r=Math.round(e*Math.pow(2,52-o)-Math.pow(2,52))):(n=0,r=Math.round(e/Math.pow(2,-1074))));var s=[];for(i=52;i;i-=1)s.push(r%2?1:0),r=Math.floor(r/2);for(i=11;i;i-=1)s.push(n%2?1:0),n=Math.floor(n/2);s.push(t?1:0),s.reverse();var u=s.join(""),c="";for(i=0;i<64;i+=8){var l=parseInt(u.substr(i,8),2).toString(16);1===l.length&&(l="0"+l),c+=l}return c.toLowerCase()};var Du=new RegExp("^-?(0*)\\d{1,10}$"),xu=-2147483648,ku=2147483647,Uu=function(e){if(Du.test(e)){var t=Number(e);if(t>=xu&&t<=ku)return t}return null},Yu=function(e){try{e()}catch(Cp){setTimeout((function(){var t=Cp.stack||"";throw Tu("Exception was thrown by user callback.",t),Cp}),Math.floor(0))}},Gu=function(e,t){var n=setTimeout(e,t);return"object"===typeof n&&n.unref&&n.unref(),n},Fu=function(){function e(t,n){var r=this;En(this,e),this.appName_=t,this.appCheckProvider=n,this.appCheck=null===n||void 0===n?void 0:n.getImmediate({optional:!0}),this.appCheck||null===n||void 0===n||n.get().then((function(e){return r.appCheck=e}))}return vn(e,[{key:"getToken",value:function(e){var t=this;return this.appCheck?this.appCheck.getToken(e):new Promise((function(n,r){setTimeout((function(){t.appCheck?t.getToken(e).then(n,r):n(null)}),0)}))}},{key:"addTokenChangeListener",value:function(e){var t;null===(t=this.appCheckProvider)||void 0===t||t.get().then((function(t){return t.addTokenListener(e)}))}},{key:"notifyForInvalidToken",value:function(){Tu('Provided AppCheck credentials for the app named "'.concat(this.appName_,'" ')+"are invalid. This usually indicates your app was not initialized correctly.")}}]),e}(),Ku=function(){function e(t,n,r){var o=this;En(this,e),this.appName_=t,this.firebaseOptions_=n,this.authProvider_=r,this.auth_=null,this.auth_=r.getImmediate({optional:!0}),this.auth_||r.onInit((function(e){return o.auth_=e}))}return vn(e,[{key:"getToken",value:function(e){var t=this;return this.auth_?this.auth_.getToken(e).catch((function(e){return e&&"auth/token-not-initialized"===e.code?(_u("Got auth/token-not-initialized error.  Treating as null token."),null):Promise.reject(e)})):new Promise((function(n,r){setTimeout((function(){t.auth_?t.getToken(e).then(n,r):n(null)}),0)}))}},{key:"addTokenChangeListener",value:function(e){this.auth_?this.auth_.addAuthTokenListener(e):this.authProvider_.get().then((function(t){return t.addAuthTokenListener(e)}))}},{key:"removeTokenChangeListener",value:function(e){this.authProvider_.get().then((function(t){return t.removeAuthTokenListener(e)}))}},{key:"notifyForInvalidToken",value:function(){var e='Provided authentication credentials for the app named "'+this.appName_+'" are invalid. This usually indicates your app was not initialized correctly. ';"credential"in this.firebaseOptions_?e+='Make sure the "credential" property provided to initializeApp() is authorized to access the specified "databaseURL" and is from the correct project.':"serviceAccount"in this.firebaseOptions_?e+='Make sure the "serviceAccount" property provided to initializeApp() is authorized to access the specified "databaseURL" and is from the correct project.':e+='Make sure the "apiKey" and "databaseURL" properties provided to initializeApp() match the values provided for your app at https://console.firebase.google.com/.',Tu(e)}}]),e}(),Bu=function(){function e(t){En(this,e),this.accessToken=t}return vn(e,[{key:"getToken",value:function(e){return Promise.resolve({accessToken:this.accessToken})}},{key:"addTokenChangeListener",value:function(e){e(this.accessToken)}},{key:"removeTokenChangeListener",value:function(e){}},{key:"notifyForInvalidToken",value:function(){}}]),e}();Bu.OWNER="owner";var ju="5",Vu=/(console\.firebase|firebase-console-\w+\.corp|firebase\.corp)\.google\.com/,Hu="websocket",Wu="long_polling",Ju=function(){function e(t,n,r,o){var i=arguments.length>4&&void 0!==arguments[4]&&arguments[4],a=arguments.length>5&&void 0!==arguments[5]?arguments[5]:"",s=arguments.length>6&&void 0!==arguments[6]&&arguments[6];En(this,e),this.secure=n,this.namespace=r,this.webSocketOnly=o,this.nodeAdmin=i,this.persistenceKey=a,this.includeNamespaceInQueryParams=s,this._host=t.toLowerCase(),this._domain=this._host.substr(this._host.indexOf(".")+1),this.internalHost=lu.get("host:"+t)||this._host}return vn(e,[{key:"isCacheableHost",value:function(){return"s-"===this.internalHost.substr(0,2)}},{key:"isCustomHost",value:function(){return"firebaseio.com"!==this._domain&&"firebaseio-demo.com"!==this._domain}},{key:"host",get:function(){return this._host},set:function(e){e!==this.internalHost&&(this.internalHost=e,this.isCacheableHost()&&lu.set("host:"+this._host,this.internalHost))}},{key:"toString",value:function(){var e=this.toURLString();return this.persistenceKey&&(e+="<"+this.persistenceKey+">"),e}},{key:"toURLString",value:function(){var e=this.secure?"https://":"http://",t=this.includeNamespaceInQueryParams?"?ns=".concat(this.namespace):"";return"".concat(e).concat(this.host,"/").concat(t)}}]),e}();function zu(e,t,n){var r;if(ya("string"===typeof t,"typeof type must == string"),ya("object"===typeof n,"typeof params must == object"),t===Hu)r=(e.secure?"wss://":"ws://")+e.internalHost+"/.ws?";else{if(t!==Wu)throw new Error("Unknown connection type: "+t);r=(e.secure?"https://":"http://")+e.internalHost+"/.lp?"}(function(e){return e.host!==e.internalHost||e.isCustomHost()||e.includeNamespaceInQueryParams})(e)&&(n.ns=e.namespace);var o=[];return Lu(n,(function(e,t){o.push(e+"="+t)})),r+o.join("&")}var qu=function(){function e(){En(this,e),this.counters_={}}return vn(e,[{key:"incrementCounter",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:1;Ka(this.counters_,e)||(this.counters_[e]=0),this.counters_[e]+=t}},{key:"get",value:function(){return Na(this.counters_)}}]),e}(),Qu={},Xu={};function $u(e){var t=e.toString();return Qu[t]||(Qu[t]=new qu),Qu[t]}var Zu=function(){function e(t){En(this,e),this.onMessage_=t,this.pendingResponses=[],this.currentResponseNum=0,this.closeAfterResponse=-1,this.onClose=null}return vn(e,[{key:"closeAfter",value:function(e,t){this.closeAfterResponse=e,this.onClose=t,this.closeAfterResponse<this.currentResponseNum&&(this.onClose(),this.onClose=null)}},{key:"handleResponse",value:function(e,t){var n=this;this.pendingResponses[e]=t;for(var r=function(){var e=n.pendingResponses[n.currentResponseNum];delete n.pendingResponses[n.currentResponseNum];for(var t=function(t){e[t]&&Yu((function(){n.onMessage_(e[t])}))},r=0;r<e.length;++r)t(r);if(n.currentResponseNum===n.closeAfterResponse)return n.onClose&&(n.onClose(),n.onClose=null),"break";n.currentResponseNum++};this.pendingResponses[this.currentResponseNum];){if("break"===r())break}}}]),e}(),ec="start",tc="close",nc=function(){function e(t,n,r,o,i,a,s){var u=this;En(this,e),this.connId=t,this.repoInfo=n,this.applicationId=r,this.appCheckToken=o,this.authToken=i,this.transportSessionId=a,this.lastSessionId=s,this.bytesSent=0,this.bytesReceived=0,this.everConnected_=!1,this.log_=Su(t),this.stats_=$u(n),this.urlFn=function(e){return u.appCheckToken&&(e.ac=u.appCheckToken),zu(n,Wu,e)}}return vn(e,[{key:"open",value:function(e,t){var n=this;this.curSegmentNum=0,this.onDisconnect_=t,this.myPacketOrderer=new Zu(e),this.isClosed_=!1,this.connectTimeoutTimer_=setTimeout((function(){n.log_("Timed out trying to connect."),n.onClosed_(),n.connectTimeoutTimer_=null}),Math.floor(3e4)),function(e){if(Ma()||"complete"===document.readyState)e();else{var t=!1,n=function n(){document.body?t||(t=!0,e()):setTimeout(n,Math.floor(10))};document.addEventListener?(document.addEventListener("DOMContentLoaded",n,!1),window.addEventListener("load",n,!1)):document.attachEvent&&(document.attachEvent("onreadystatechange",(function(){"complete"===document.readyState&&n()})),window.attachEvent("onload",n))}}((function(){if(!n.isClosed_){n.scriptTagHolder=new rc((function(){for(var e=arguments.length,t=new Array(e),r=0;r<e;r++)t[r]=arguments[r];var o=t[0],i=t[1],a=t[2];t[3],t[4];if(n.incrementIncomingBytes_(t),n.scriptTagHolder)if(n.connectTimeoutTimer_&&(clearTimeout(n.connectTimeoutTimer_),n.connectTimeoutTimer_=null),n.everConnected_=!0,o===ec)n.id=i,n.password=a;else{if(o!==tc)throw new Error("Unrecognized command received: "+o);i?(n.scriptTagHolder.sendNewPolls=!1,n.myPacketOrderer.closeAfter(i,(function(){n.onClosed_()}))):n.onClosed_()}}),(function(){for(var e=arguments.length,t=new Array(e),r=0;r<e;r++)t[r]=arguments[r];var o=t[0],i=t[1];n.incrementIncomingBytes_(t),n.myPacketOrderer.handleResponse(o,i)}),(function(){n.onClosed_()}),n.urlFn);var e={start:"t"};e.ser=Math.floor(1e8*Math.random()),n.scriptTagHolder.uniqueCallbackIdentifier&&(e.cb=n.scriptTagHolder.uniqueCallbackIdentifier),e.v=ju,n.transportSessionId&&(e.s=n.transportSessionId),n.lastSessionId&&(e.ls=n.lastSessionId),n.applicationId&&(e.p=n.applicationId),n.appCheckToken&&(e.ac=n.appCheckToken),"undefined"!==typeof location&&location.hostname&&Vu.test(location.hostname)&&(e.r="f");var t=n.urlFn(e);n.log_("Connecting via long-poll to "+t),n.scriptTagHolder.addTag(t,(function(){}))}}))}},{key:"start",value:function(){this.scriptTagHolder.startLongPoll(this.id,this.password),this.addDisconnectPingFrame(this.id,this.password)}},{key:"markConnectionHealthy",value:function(){}},{key:"shutdown_",value:function(){this.isClosed_=!0,this.scriptTagHolder&&(this.scriptTagHolder.close(),this.scriptTagHolder=null),this.myDisconnFrame&&(document.body.removeChild(this.myDisconnFrame),this.myDisconnFrame=null),this.connectTimeoutTimer_&&(clearTimeout(this.connectTimeoutTimer_),this.connectTimeoutTimer_=null)}},{key:"onClosed_",value:function(){this.isClosed_||(this.log_("Longpoll is closing itself"),this.shutdown_(),this.onDisconnect_&&(this.onDisconnect_(this.everConnected_),this.onDisconnect_=null))}},{key:"close",value:function(){this.isClosed_||(this.log_("Longpoll is being closed."),this.shutdown_())}},{key:"send",value:function(e){var t=Ga(e);this.bytesSent+=t.length,this.stats_.incrementCounter("bytes_sent",t.length);for(var n=Aa(t),r=Pu(n,1840),o=0;o<r.length;o++)this.scriptTagHolder.enqueueSegment(this.curSegmentNum,r.length,r[o]),this.curSegmentNum++}},{key:"addDisconnectPingFrame",value:function(e,t){if(!Ma()){this.myDisconnFrame=document.createElement("iframe");var n={dframe:"t"};n.id=e,n.pw=t,this.myDisconnFrame.src=this.urlFn(n),this.myDisconnFrame.style.display="none",document.body.appendChild(this.myDisconnFrame)}}},{key:"incrementIncomingBytes_",value:function(e){var t=Ga(e).length;this.bytesReceived+=t,this.stats_.incrementCounter("bytes_received",t)}}],[{key:"forceAllow",value:function(){e.forceAllow_=!0}},{key:"forceDisallow",value:function(){e.forceDisallow_=!0}},{key:"isAvailable",value:function(){return!Ma()&&(!!e.forceAllow_||!e.forceDisallow_&&"undefined"!==typeof document&&null!=document.createElement&&!("object"===typeof window&&window.chrome&&window.chrome.extension&&!/^chrome/.test(window.location.href))&&!("object"===typeof Windows&&"object"===typeof Windows.UI))}}]),e}(),rc=function(){function e(t,n,r,o){if(En(this,e),this.onDisconnect=r,this.urlFn=o,this.outstandingRequests=new Set,this.pendingSegs=[],this.currentSerial=Math.floor(1e8*Math.random()),this.sendNewPolls=!0,Ma())this.commandCB=t,this.onMessageCB=n;else{this.uniqueCallbackIdentifier=pu(),window["pLPCommand"+this.uniqueCallbackIdentifier]=t,window["pRTLPCB"+this.uniqueCallbackIdentifier]=n,this.myIFrame=e.createIFrame_();var i="";if(this.myIFrame.src&&"javascript:"===this.myIFrame.src.substr(0,"javascript:".length))i='<script>document.domain="'+document.domain+'";<\/script>';var a="<html><body>"+i+"</body></html>";try{this.myIFrame.doc.open(),this.myIFrame.doc.write(a),this.myIFrame.doc.close()}catch(Cp){_u("frame writing exception"),Cp.stack&&_u(Cp.stack),_u(Cp)}}}return vn(e,[{key:"close",value:function(){var e=this;this.alive=!1,this.myIFrame&&(this.myIFrame.doc.body.innerHTML="",setTimeout((function(){null!==e.myIFrame&&(document.body.removeChild(e.myIFrame),e.myIFrame=null)}),Math.floor(0)));var t=this.onDisconnect;t&&(this.onDisconnect=null,t())}},{key:"startLongPoll",value:function(e,t){for(this.myID=e,this.myPW=t,this.alive=!0;this.newRequest_(););}},{key:"newRequest_",value:function(){if(this.alive&&this.sendNewPolls&&this.outstandingRequests.size<(this.pendingSegs.length>0?2:1)){this.currentSerial++;var e={};e.id=this.myID,e.pw=this.myPW,e.ser=this.currentSerial;for(var t=this.urlFn(e),n="",r=0;this.pendingSegs.length>0;){if(!(this.pendingSegs[0].d.length+30+n.length<=1870))break;var o=this.pendingSegs.shift();n=n+"&seg"+r+"="+o.seg+"&ts"+r+"="+o.ts+"&d"+r+"="+o.d,r++}return t+=n,this.addLongPollTag_(t,this.currentSerial),!0}return!1}},{key:"enqueueSegment",value:function(e,t,n){this.pendingSegs.push({seg:e,ts:t,d:n}),this.alive&&this.newRequest_()}},{key:"addLongPollTag_",value:function(e,t){var n=this;this.outstandingRequests.add(t);var r=function(){n.outstandingRequests.delete(t),n.newRequest_()},o=setTimeout(r,Math.floor(25e3));this.addTag(e,(function(){clearTimeout(o),r()}))}},{key:"addTag",value:function(e,t){var n=this;Ma()?this.doNodeLongPoll(e,t):setTimeout((function(){try{if(!n.sendNewPolls)return;var r=n.myIFrame.doc.createElement("script");r.type="text/javascript",r.async=!0,r.src=e,r.onload=r.onreadystatechange=function(){var e=r.readyState;e&&"loaded"!==e&&"complete"!==e||(r.onload=r.onreadystatechange=null,r.parentNode&&r.parentNode.removeChild(r),t())},r.onerror=function(){_u("Long-poll script failed to load: "+e),n.sendNewPolls=!1,n.close()},n.myIFrame.doc.body.appendChild(r)}catch(Cp){}}),Math.floor(1))}}],[{key:"createIFrame_",value:function(){var e=document.createElement("iframe");if(e.style.display="none",!document.body)throw"Document body has not initialized. Wait to initialize Firebase until after the document is ready.";document.body.appendChild(e);try{e.contentWindow.document||_u("No IE domain setting required")}catch(Cp){var t=document.domain;e.src="javascript:void((function(){document.open();document.domain='"+t+"';document.close();})())"}return e.contentDocument?e.doc=e.contentDocument:e.contentWindow?e.doc=e.contentWindow.document:e.document&&(e.doc=e.document),e}}]),e}(),oc=null;"undefined"!==typeof MozWebSocket?oc=MozWebSocket:"undefined"!==typeof WebSocket&&(oc=WebSocket);var ic=function(){function e(t,n,r,o,i,a,s){En(this,e),this.connId=t,this.applicationId=r,this.appCheckToken=o,this.authToken=i,this.keepaliveTimer=null,this.frames=null,this.totalFrames=0,this.bytesSent=0,this.bytesReceived=0,this.log_=Su(this.connId),this.stats_=$u(n),this.connURL=e.connectionURL_(n,a,s,o,r),this.nodeAdmin=n.nodeAdmin}return vn(e,[{key:"open",value:function(e,t){var n=this;this.onDisconnect=t,this.onMessage=e,this.log_("Websocket connecting to "+this.connURL),this.everConnected_=!1,lu.set("previous_websocket_failure",!0);try{var r;if(Ma()){var o=this.nodeAdmin?"AdminNode":"Node";r={headers:{"User-Agent":"Firebase/".concat(ju,"/").concat(au,"/").concat(process.platform,"/").concat(o),"X-Firebase-GMPID":this.applicationId||""}},this.authToken&&(r.headers.Authorization="Bearer ".concat(this.authToken)),this.appCheckToken&&(r.headers["X-Firebase-AppCheck"]=this.appCheckToken);var i={NODE_ENV:"production",PUBLIC_URL:"/heyauntie",WDS_SOCKET_HOST:void 0,WDS_SOCKET_PATH:void 0,WDS_SOCKET_PORT:void 0,FAST_REFRESH:!0},a=0===this.connURL.indexOf("wss://")?i.HTTPS_PROXY||i.https_proxy:i.HTTP_PROXY||i.http_proxy;a&&(r.proxy={origin:a})}this.mySock=new oc(this.connURL,[],r)}catch(Cp){this.log_("Error instantiating WebSocket.");var s=Cp.message||Cp.data;return s&&this.log_(s),void this.onClosed_()}this.mySock.onopen=function(){n.log_("Websocket connected."),n.everConnected_=!0},this.mySock.onclose=function(){n.log_("Websocket connection was disconnected."),n.mySock=null,n.onClosed_()},this.mySock.onmessage=function(e){n.handleIncomingFrame(e)},this.mySock.onerror=function(e){n.log_("WebSocket error.  Closing connection.");var t=e.message||e.data;t&&n.log_(t),n.onClosed_()}}},{key:"start",value:function(){}},{key:"markConnectionHealthy",value:function(){lu.remove("previous_websocket_failure")}},{key:"appendFrame_",value:function(e){if(this.frames.push(e),this.frames.length===this.totalFrames){var t=this.frames.join("");this.frames=null;var n=Ya(t);this.onMessage(n)}}},{key:"handleNewFrameCount_",value:function(e){this.totalFrames=e,this.frames=[]}},{key:"extractFrameCount_",value:function(e){if(ya(null===this.frames,"We already have a frame buffer"),e.length<=6){var t=Number(e);if(!isNaN(t))return this.handleNewFrameCount_(t),null}return this.handleNewFrameCount_(1),e}},{key:"handleIncomingFrame",value:function(e){if(null!==this.mySock){var t=e.data;if(this.bytesReceived+=t.length,this.stats_.incrementCounter("bytes_received",t.length),this.resetKeepAlive(),null!==this.frames)this.appendFrame_(t);else{var n=this.extractFrameCount_(t);null!==n&&this.appendFrame_(n)}}}},{key:"send",value:function(e){this.resetKeepAlive();var t=Ga(e);this.bytesSent+=t.length,this.stats_.incrementCounter("bytes_sent",t.length);var n=Pu(t,16384);n.length>1&&this.sendString_(String(n.length));for(var r=0;r<n.length;r++)this.sendString_(n[r])}},{key:"shutdown_",value:function(){this.isClosed_=!0,this.keepaliveTimer&&(clearInterval(this.keepaliveTimer),this.keepaliveTimer=null),this.mySock&&(this.mySock.close(),this.mySock=null)}},{key:"onClosed_",value:function(){this.isClosed_||(this.log_("WebSocket is closing itself"),this.shutdown_(),this.onDisconnect&&(this.onDisconnect(this.everConnected_),this.onDisconnect=null))}},{key:"close",value:function(){this.isClosed_||(this.log_("WebSocket is being closed"),this.shutdown_())}},{key:"resetKeepAlive",value:function(){var e=this;clearInterval(this.keepaliveTimer),this.keepaliveTimer=setInterval((function(){e.mySock&&e.sendString_("0"),e.resetKeepAlive()}),Math.floor(45e3))}},{key:"sendString_",value:function(e){try{this.mySock.send(e)}catch(Cp){this.log_("Exception thrown from WebSocket.send():",Cp.message||Cp.data,"Closing connection."),setTimeout(this.onClosed_.bind(this),0)}}}],[{key:"connectionURL_",value:function(e,t,n,r,o){var i={};return i.v=ju,!Ma()&&"undefined"!==typeof location&&location.hostname&&Vu.test(location.hostname)&&(i.r="f"),t&&(i.s=t),n&&(i.ls=n),r&&(i.ac=r),o&&(i.p=o),zu(e,Hu,i)}},{key:"forceDisallow",value:function(){e.forceDisallow_=!0}},{key:"isAvailable",value:function(){var t=!1;if("undefined"!==typeof navigator&&navigator.userAgent){var n=navigator.userAgent.match(/Android ([0-9]{0,}\.[0-9]{0,})/);n&&n.length>1&&parseFloat(n[1])<4.4&&(t=!0)}return!t&&null!==oc&&!e.forceDisallow_}},{key:"previouslyFailed",value:function(){return lu.isInMemoryStorage||!0===lu.get("previous_websocket_failure")}}]),e}();ic.responsesRequiredToBeHealthy=2,ic.healthyTimeout=3e4;var ac=function(){function e(t){En(this,e),this.initTransports_(t)}return vn(e,[{key:"initTransports_",value:function(t){var n=ic&&ic.isAvailable(),r=n&&!ic.previouslyFailed();if(t.webSocketOnly&&(n||Tu("wss:// URL used, but browser isn't known to support websockets.  Trying anyway."),r=!0),r)this.transports_=[ic];else{var o,i=this.transports_=[],a=wr(e.ALL_TRANSPORTS);try{for(a.s();!(o=a.n()).done;){var s=o.value;s&&s.isAvailable()&&i.push(s)}}catch(u){a.e(u)}finally{a.f()}e.globalTransportInitialized_=!0}}},{key:"initialTransport",value:function(){if(this.transports_.length>0)return this.transports_[0];throw new Error("No transports available")}},{key:"upgradeTransport",value:function(){return this.transports_.length>1?this.transports_[1]:null}}],[{key:"ALL_TRANSPORTS",get:function(){return[nc,ic]}},{key:"IS_TRANSPORT_INITIALIZED",get:function(){return this.globalTransportInitialized_}}]),e}();ac.globalTransportInitialized_=!1;var sc=function(){function e(t,n,r,o,i,a,s,u,c,l){En(this,e),this.id=t,this.repoInfo_=n,this.applicationId_=r,this.appCheckToken_=o,this.authToken_=i,this.onMessage_=a,this.onReady_=s,this.onDisconnect_=u,this.onKill_=c,this.lastSessionId=l,this.connectionCount=0,this.pendingDataMessages=[],this.state_=0,this.log_=Su("c:"+this.id+":"),this.transportManager_=new ac(n),this.log_("Connection created"),this.start_()}return vn(e,[{key:"start_",value:function(){var e=this,t=this.transportManager_.initialTransport();this.conn_=new t(this.nextTransportId_(),this.repoInfo_,this.applicationId_,this.appCheckToken_,this.authToken_,null,this.lastSessionId),this.primaryResponsesRequired_=t.responsesRequiredToBeHealthy||0;var n=this.connReceiver_(this.conn_),r=this.disconnReceiver_(this.conn_);this.tx_=this.conn_,this.rx_=this.conn_,this.secondaryConn_=null,this.isHealthy_=!1,setTimeout((function(){e.conn_&&e.conn_.open(n,r)}),Math.floor(0));var o=t.healthyTimeout||0;o>0&&(this.healthyTimeout_=Gu((function(){e.healthyTimeout_=null,e.isHealthy_||(e.conn_&&e.conn_.bytesReceived>102400?(e.log_("Connection exceeded healthy timeout but has received "+e.conn_.bytesReceived+" bytes.  Marking connection healthy."),e.isHealthy_=!0,e.conn_.markConnectionHealthy()):e.conn_&&e.conn_.bytesSent>10240?e.log_("Connection exceeded healthy timeout but has sent "+e.conn_.bytesSent+" bytes.  Leaving connection alive."):(e.log_("Closing unhealthy connection after timeout."),e.close()))}),Math.floor(o)))}},{key:"nextTransportId_",value:function(){return"c:"+this.id+":"+this.connectionCount++}},{key:"disconnReceiver_",value:function(e){var t=this;return function(n){e===t.conn_?t.onConnectionLost_(n):e===t.secondaryConn_?(t.log_("Secondary connection lost."),t.onSecondaryConnectionLost_()):t.log_("closing an old connection")}}},{key:"connReceiver_",value:function(e){var t=this;return function(n){2!==t.state_&&(e===t.rx_?t.onPrimaryMessageReceived_(n):e===t.secondaryConn_?t.onSecondaryMessageReceived_(n):t.log_("message on old connection"))}}},{key:"sendRequest",value:function(e){var t={t:"d",d:e};this.sendData_(t)}},{key:"tryCleanupConnection",value:function(){this.tx_===this.secondaryConn_&&this.rx_===this.secondaryConn_&&(this.log_("cleaning up and promoting a connection: "+this.secondaryConn_.connId),this.conn_=this.secondaryConn_,this.secondaryConn_=null)}},{key:"onSecondaryControl_",value:function(e){if("t"in e){var t=e.t;"a"===t?this.upgradeIfSecondaryHealthy_():"r"===t?(this.log_("Got a reset on secondary, closing it"),this.secondaryConn_.close(),this.tx_!==this.secondaryConn_&&this.rx_!==this.secondaryConn_||this.close()):"o"===t&&(this.log_("got pong on secondary."),this.secondaryResponsesRequired_--,this.upgradeIfSecondaryHealthy_())}}},{key:"onSecondaryMessageReceived_",value:function(e){var t=bu("t",e),n=bu("d",e);if("c"===t)this.onSecondaryControl_(n);else{if("d"!==t)throw new Error("Unknown protocol layer: "+t);this.pendingDataMessages.push(n)}}},{key:"upgradeIfSecondaryHealthy_",value:function(){this.secondaryResponsesRequired_<=0?(this.log_("Secondary connection is healthy."),this.isHealthy_=!0,this.secondaryConn_.markConnectionHealthy(),this.proceedWithUpgrade_()):(this.log_("sending ping on secondary."),this.secondaryConn_.send({t:"c",d:{t:"p",d:{}}}))}},{key:"proceedWithUpgrade_",value:function(){this.secondaryConn_.start(),this.log_("sending client ack on secondary"),this.secondaryConn_.send({t:"c",d:{t:"a",d:{}}}),this.log_("Ending transmission on primary"),this.conn_.send({t:"c",d:{t:"n",d:{}}}),this.tx_=this.secondaryConn_,this.tryCleanupConnection()}},{key:"onPrimaryMessageReceived_",value:function(e){var t=bu("t",e),n=bu("d",e);"c"===t?this.onControl_(n):"d"===t&&this.onDataMessage_(n)}},{key:"onDataMessage_",value:function(e){this.onPrimaryResponse_(),this.onMessage_(e)}},{key:"onPrimaryResponse_",value:function(){this.isHealthy_||(this.primaryResponsesRequired_--,this.primaryResponsesRequired_<=0&&(this.log_("Primary connection is healthy."),this.isHealthy_=!0,this.conn_.markConnectionHealthy()))}},{key:"onControl_",value:function(e){var t=bu("t",e);if("d"in e){var n=e.d;if("h"===t)this.onHandshake_(n);else if("n"===t){this.log_("recvd end transmission on primary"),this.rx_=this.secondaryConn_;for(var r=0;r<this.pendingDataMessages.length;++r)this.onDataMessage_(this.pendingDataMessages[r]);this.pendingDataMessages=[],this.tryCleanupConnection()}else"s"===t?this.onConnectionShutdown_(n):"r"===t?this.onReset_(n):"e"===t?yu("Server Error: "+n):"o"===t?(this.log_("got pong on primary."),this.onPrimaryResponse_(),this.sendPingOnPrimaryIfNecessary_()):yu("Unknown control packet command: "+t)}}},{key:"onHandshake_",value:function(e){var t=e.ts,n=e.v,r=e.h;this.sessionId=e.s,this.repoInfo_.host=r,0===this.state_&&(this.conn_.start(),this.onConnectionEstablished_(this.conn_,t),ju!==n&&Tu("Protocol version mismatch detected"),this.tryStartUpgrade_())}},{key:"tryStartUpgrade_",value:function(){var e=this.transportManager_.upgradeTransport();e&&this.startUpgrade_(e)}},{key:"startUpgrade_",value:function(e){var t=this;this.secondaryConn_=new e(this.nextTransportId_(),this.repoInfo_,this.applicationId_,this.appCheckToken_,this.authToken_,this.sessionId),this.secondaryResponsesRequired_=e.responsesRequiredToBeHealthy||0;var n=this.connReceiver_(this.secondaryConn_),r=this.disconnReceiver_(this.secondaryConn_);this.secondaryConn_.open(n,r),Gu((function(){t.secondaryConn_&&(t.log_("Timed out trying to upgrade."),t.secondaryConn_.close())}),Math.floor(6e4))}},{key:"onReset_",value:function(e){this.log_("Reset packet received.  New host: "+e),this.repoInfo_.host=e,1===this.state_?this.close():(this.closeConnections_(),this.start_())}},{key:"onConnectionEstablished_",value:function(e,t){var n=this;this.log_("Realtime connection established."),this.conn_=e,this.state_=1,this.onReady_&&(this.onReady_(t,this.sessionId),this.onReady_=null),0===this.primaryResponsesRequired_?(this.log_("Primary connection is healthy."),this.isHealthy_=!0):Gu((function(){n.sendPingOnPrimaryIfNecessary_()}),Math.floor(5e3))}},{key:"sendPingOnPrimaryIfNecessary_",value:function(){this.isHealthy_||1!==this.state_||(this.log_("sending ping on primary."),this.sendData_({t:"c",d:{t:"p",d:{}}}))}},{key:"onSecondaryConnectionLost_",value:function(){var e=this.secondaryConn_;this.secondaryConn_=null,this.tx_!==e&&this.rx_!==e||this.close()}},{key:"onConnectionLost_",value:function(e){this.conn_=null,e||0!==this.state_?1===this.state_&&this.log_("Realtime connection lost."):(this.log_("Realtime connection failed."),this.repoInfo_.isCacheableHost()&&(lu.remove("host:"+this.repoInfo_.host),this.repoInfo_.internalHost=this.repoInfo_.host)),this.close()}},{key:"onConnectionShutdown_",value:function(e){this.log_("Connection shutdown command received. Shutting down..."),this.onKill_&&(this.onKill_(e),this.onKill_=null),this.onDisconnect_=null,this.close()}},{key:"sendData_",value:function(e){if(1!==this.state_)throw"Connection is not connected";this.tx_.send(e)}},{key:"close",value:function(){2!==this.state_&&(this.log_("Closing realtime connection."),this.state_=2,this.closeConnections_(),this.onDisconnect_&&(this.onDisconnect_(),this.onDisconnect_=null))}},{key:"closeConnections_",value:function(){this.log_("Shutting down all connections"),this.conn_&&(this.conn_.close(),this.conn_=null),this.secondaryConn_&&(this.secondaryConn_.close(),this.secondaryConn_=null),this.healthyTimeout_&&(clearTimeout(this.healthyTimeout_),this.healthyTimeout_=null)}}]),e}(),uc=function(){function e(){En(this,e)}return vn(e,[{key:"put",value:function(e,t,n,r){}},{key:"merge",value:function(e,t,n,r){}},{key:"refreshAuthToken",value:function(e){}},{key:"refreshAppCheckToken",value:function(e){}},{key:"onDisconnectPut",value:function(e,t,n){}},{key:"onDisconnectMerge",value:function(e,t,n){}},{key:"onDisconnectCancel",value:function(e,t){}},{key:"reportStats",value:function(e){}}]),e}(),cc=function(){function e(t){En(this,e),this.allowedEvents_=t,this.listeners_={},ya(Array.isArray(t)&&t.length>0,"Requires a non-empty array")}return vn(e,[{key:"trigger",value:function(e){if(Array.isArray(this.listeners_[e])){for(var t=hn(this.listeners_[e]),n=arguments.length,r=new Array(n>1?n-1:0),o=1;o<n;o++)r[o-1]=arguments[o];for(var i=0;i<t.length;i++)t[i].callback.apply(t[i].context,r)}}},{key:"on",value:function(e,t,n){this.validateEventType_(e),this.listeners_[e]=this.listeners_[e]||[],this.listeners_[e].push({callback:t,context:n});var r=this.getInitialEvent(e);r&&t.apply(n,r)}},{key:"off",value:function(e,t,n){this.validateEventType_(e);for(var r=this.listeners_[e]||[],o=0;o<r.length;o++)if(r[o].callback===t&&(!n||n===r[o].context))return void r.splice(o,1)}},{key:"validateEventType_",value:function(e){ya(this.allowedEvents_.find((function(t){return t===e})),"Unknown event: "+e)}}]),e}(),lc=function(e){ir(n,e);var t=lr(n);function n(){var e;return En(this,n),(e=t.call(this,["online"])).online_=!0,"undefined"===typeof window||"undefined"===typeof window.addEventListener||La()||(window.addEventListener("online",(function(){e.online_||(e.online_=!0,e.trigger("online",!0))}),!1),window.addEventListener("offline",(function(){e.online_&&(e.online_=!1,e.trigger("online",!1))}),!1)),e}return vn(n,[{key:"getInitialEvent",value:function(e){return ya("online"===e,"Unknown event type: "+e),[this.online_]}},{key:"currentlyOnline",value:function(){return this.online_}}],[{key:"getInstance",value:function(){return new n}}]),n}(cc),dc=function(){function e(t,n){if(En(this,e),void 0===n){this.pieces_=t.split("/");for(var r=0,o=0;o<this.pieces_.length;o++)this.pieces_[o].length>0&&(this.pieces_[r]=this.pieces_[o],r++);this.pieces_.length=r,this.pieceNum_=0}else this.pieces_=t,this.pieceNum_=n}return vn(e,[{key:"toString",value:function(){for(var e="",t=this.pieceNum_;t<this.pieces_.length;t++)""!==this.pieces_[t]&&(e+="/"+this.pieces_[t]);return e||"/"}}]),e}();function fc(){return new dc("")}function pc(e){return e.pieceNum_>=e.pieces_.length?null:e.pieces_[e.pieceNum_]}function hc(e){return e.pieces_.length-e.pieceNum_}function Ec(e){var t=e.pieceNum_;return t<e.pieces_.length&&t++,new dc(e.pieces_,t)}function gc(e){return e.pieceNum_<e.pieces_.length?e.pieces_[e.pieces_.length-1]:null}function vc(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0;return e.pieces_.slice(e.pieceNum_+t)}function mc(e){if(e.pieceNum_>=e.pieces_.length)return null;for(var t=[],n=e.pieceNum_;n<e.pieces_.length-1;n++)t.push(e.pieces_[n]);return new dc(t,0)}function _c(e,t){for(var n=[],r=e.pieceNum_;r<e.pieces_.length;r++)n.push(e.pieces_[r]);if(t instanceof dc)for(var o=t.pieceNum_;o<t.pieces_.length;o++)n.push(t.pieces_[o]);else for(var i=t.split("/"),a=0;a<i.length;a++)i[a].length>0&&n.push(i[a]);return new dc(n,0)}function Sc(e){return e.pieceNum_>=e.pieces_.length}function yc(e,t){var n=pc(e),r=pc(t);if(null===n)return t;if(n===r)return yc(Ec(e),Ec(t));throw new Error("INTERNAL ERROR: innerPath ("+t+") is not within outerPath ("+e+")")}function Cc(e,t){for(var n=vc(e,0),r=vc(t,0),o=0;o<n.length&&o<r.length;o++){var i=Ou(n[o],r[o]);if(0!==i)return i}return n.length===r.length?0:n.length<r.length?-1:1}function Tc(e,t){if(hc(e)!==hc(t))return!1;for(var n=e.pieceNum_,r=t.pieceNum_;n<=e.pieces_.length;n++,r++)if(e.pieces_[n]!==t.pieces_[r])return!1;return!0}function Ic(e,t){var n=e.pieceNum_,r=t.pieceNum_;if(hc(e)>hc(t))return!1;for(;n<e.pieces_.length;){if(e.pieces_[n]!==t.pieces_[r])return!1;++n,++r}return!0}var Ac=vn((function e(t,n){En(this,e),this.errorPrefix_=n,this.parts_=vc(t,0),this.byteLength_=Math.max(1,this.parts_.length);for(var r=0;r<this.parts_.length;r++)this.byteLength_+=Qa(this.parts_[r]);Rc(this)}));function Rc(e){if(e.byteLength_>768)throw new Error(e.errorPrefix_+"has a key path longer than 768 bytes ("+e.byteLength_+").");if(e.parts_.length>32)throw new Error(e.errorPrefix_+"path specified exceeds the maximum depth that can be written (32) or object contains a cycle "+Oc(e))}function Oc(e){return 0===e.parts_.length?"":"in property '"+e.parts_.join(".")+"'"}var Nc=function(e){ir(n,e);var t=lr(n);function n(){var e,r,o;return En(this,n),e=t.call(this,["visible"]),"undefined"!==typeof document&&"undefined"!==typeof document.addEventListener&&("undefined"!==typeof document.hidden?(o="visibilitychange",r="hidden"):"undefined"!==typeof document.mozHidden?(o="mozvisibilitychange",r="mozHidden"):"undefined"!==typeof document.msHidden?(o="msvisibilitychange",r="msHidden"):"undefined"!==typeof document.webkitHidden&&(o="webkitvisibilitychange",r="webkitHidden")),e.visible_=!0,o&&document.addEventListener(o,(function(){var t=!document[r];t!==e.visible_&&(e.visible_=t,e.trigger("visible",t))}),!1),e}return vn(n,[{key:"getInitialEvent",value:function(e){return ya("visible"===e,"Unknown event type: "+e),[this.visible_]}}],[{key:"getInstance",value:function(){return new n}}]),n}(cc),bc=1e3,wc=function(e){ir(n,e);var t=lr(n);function n(e,r,o,i,a,s,u,c){var l;if(En(this,n),(l=t.call(this)).repoInfo_=e,l.applicationId_=r,l.onDataUpdate_=o,l.onConnectStatus_=i,l.onServerInfoUpdate_=a,l.authTokenProvider_=s,l.appCheckTokenProvider_=u,l.authOverride_=c,l.id=n.nextPersistentConnectionId_++,l.log_=Su("p:"+l.id+":"),l.interruptReasons_={},l.listens=new Map,l.outstandingPuts_=[],l.outstandingGets_=[],l.outstandingPutCount_=0,l.outstandingGetCount_=0,l.onDisconnectRequestQueue_=[],l.connected_=!1,l.reconnectDelay_=bc,l.maxReconnectDelay_=3e5,l.securityDebugCallback_=null,l.lastSessionId=null,l.establishConnectionTimer_=null,l.visible_=!1,l.requestCBHash_={},l.requestNumber_=0,l.realtime_=null,l.authToken_=null,l.appCheckToken_=null,l.forceTokenRefresh_=!1,l.invalidAuthTokenCount_=0,l.invalidAppCheckTokenCount_=0,l.firstConnection_=!0,l.lastConnectionAttemptTime_=null,l.lastConnectionEstablishedTime_=null,c&&!Ma())throw new Error("Auth override specified in options, but not supported on non Node.js platforms");return Nc.getInstance().on("visible",l.onVisible_,ur(l)),-1===e.host.indexOf("fblocal")&&lc.getInstance().on("online",l.onOnline_,ur(l)),l}return vn(n,[{key:"sendRequest",value:function(e,t,n){var r=++this.requestNumber_,o={r:r,a:e,b:t};this.log_(Ga(o)),ya(this.connected_,"sendRequest call when we're not connected not allowed."),this.realtime_.sendRequest(o),n&&(this.requestCBHash_[r]=n)}},{key:"get",value:function(e){this.initConnection_();var t=new wa,n={action:"g",request:{p:e._path.toString(),q:e._queryObject},onComplete:function(e){var n=e.d;"ok"===e.s?t.resolve(n):t.reject(n)}};this.outstandingGets_.push(n),this.outstandingGetCount_++;var r=this.outstandingGets_.length-1;return this.connected_&&this.sendGet_(r),t.promise}},{key:"listen",value:function(e,t,n,r){this.initConnection_();var o=e._queryIdentifier,i=e._path.toString();this.log_("Listen called for "+i+" "+o),this.listens.has(i)||this.listens.set(i,new Map),ya(e._queryParams.isDefault()||!e._queryParams.loadsAllData(),"listen() called for non-default but complete query"),ya(!this.listens.get(i).has(o),"listen() called twice for same path/queryId.");var a={onComplete:r,hashFn:t,query:e,tag:n};this.listens.get(i).set(o,a),this.connected_&&this.sendListen_(a)}},{key:"sendGet_",value:function(e){var t=this,n=this.outstandingGets_[e];this.sendRequest("g",n.request,(function(r){delete t.outstandingGets_[e],t.outstandingGetCount_--,0===t.outstandingGetCount_&&(t.outstandingGets_=[]),n.onComplete&&n.onComplete(r)}))}},{key:"sendListen_",value:function(e){var t=this,r=e.query,o=r._path.toString(),i=r._queryIdentifier;this.log_("Listen on "+o+" for "+i);var a={p:o};e.tag&&(a.q=r._queryObject,a.t=e.tag),a.h=e.hashFn(),this.sendRequest("q",a,(function(a){var s=a.d,u=a.s;n.warnOnListenWarnings_(s,r),(t.listens.get(o)&&t.listens.get(o).get(i))===e&&(t.log_("listen response",a),"ok"!==u&&t.removeListen_(o,i),e.onComplete&&e.onComplete(u,s))}))}},{key:"refreshAuthToken",value:function(e){this.authToken_=e,this.log_("Auth token refreshed"),this.authToken_?this.tryAuth():this.connected_&&this.sendRequest("unauth",{},(function(){})),this.reduceReconnectDelayIfAdminCredential_(e)}},{key:"reduceReconnectDelayIfAdminCredential_",value:function(e){(e&&40===e.length||function(e){var t=Fa(e).claims;return"object"===typeof t&&!0===t.admin}(e))&&(this.log_("Admin auth credential detected.  Reducing max reconnect time."),this.maxReconnectDelay_=3e4)}},{key:"refreshAppCheckToken",value:function(e){this.appCheckToken_=e,this.log_("App check token refreshed"),this.appCheckToken_?this.tryAppCheck():this.connected_&&this.sendRequest("unappeck",{},(function(){}))}},{key:"tryAuth",value:function(){var e=this;if(this.connected_&&this.authToken_){var t=this.authToken_,n=function(e){var t=Fa(e).claims;return!!t&&"object"===typeof t&&t.hasOwnProperty("iat")}(t)?"auth":"gauth",r={cred:t};null===this.authOverride_?r.noauth=!0:"object"===typeof this.authOverride_&&(r.authvar=this.authOverride_),this.sendRequest(n,r,(function(n){var r=n.s,o=n.d||"error";e.authToken_===t&&("ok"===r?e.invalidAuthTokenCount_=0:e.onAuthRevoked_(r,o))}))}}},{key:"tryAppCheck",value:function(){var e=this;this.connected_&&this.appCheckToken_&&this.sendRequest("appcheck",{token:this.appCheckToken_},(function(t){var n=t.s,r=t.d||"error";"ok"===n?e.invalidAppCheckTokenCount_=0:e.onAppCheckRevoked_(n,r)}))}},{key:"unlisten",value:function(e,t){var n=e._path.toString(),r=e._queryIdentifier;this.log_("Unlisten called for "+n+" "+r),ya(e._queryParams.isDefault()||!e._queryParams.loadsAllData(),"unlisten() called for non-default but complete query"),this.removeListen_(n,r)&&this.connected_&&this.sendUnlisten_(n,r,e._queryObject,t)}},{key:"sendUnlisten_",value:function(e,t,n,r){this.log_("Unlisten on "+e+" for "+t);var o={p:e};r&&(o.q=n,o.t=r),this.sendRequest("n",o)}},{key:"onDisconnectPut",value:function(e,t,n){this.initConnection_(),this.connected_?this.sendOnDisconnect_("o",e,t,n):this.onDisconnectRequestQueue_.push({pathString:e,action:"o",data:t,onComplete:n})}},{key:"onDisconnectMerge",value:function(e,t,n){this.initConnection_(),this.connected_?this.sendOnDisconnect_("om",e,t,n):this.onDisconnectRequestQueue_.push({pathString:e,action:"om",data:t,onComplete:n})}},{key:"onDisconnectCancel",value:function(e,t){this.initConnection_(),this.connected_?this.sendOnDisconnect_("oc",e,null,t):this.onDisconnectRequestQueue_.push({pathString:e,action:"oc",data:null,onComplete:t})}},{key:"sendOnDisconnect_",value:function(e,t,n,r){var o={p:t,d:n};this.log_("onDisconnect "+e,o),this.sendRequest(e,o,(function(e){r&&setTimeout((function(){r(e.s,e.d)}),Math.floor(0))}))}},{key:"put",value:function(e,t,n,r){this.putInternal("p",e,t,n,r)}},{key:"merge",value:function(e,t,n,r){this.putInternal("m",e,t,n,r)}},{key:"putInternal",value:function(e,t,n,r,o){this.initConnection_();var i={p:t,d:n};void 0!==o&&(i.h=o),this.outstandingPuts_.push({action:e,request:i,onComplete:r}),this.outstandingPutCount_++;var a=this.outstandingPuts_.length-1;this.connected_?this.sendPut_(a):this.log_("Buffering put: "+t)}},{key:"sendPut_",value:function(e){var t=this,n=this.outstandingPuts_[e].action,r=this.outstandingPuts_[e].request,o=this.outstandingPuts_[e].onComplete;this.outstandingPuts_[e].queued=this.connected_,this.sendRequest(n,r,(function(r){t.log_(n+" response",r),delete t.outstandingPuts_[e],t.outstandingPutCount_--,0===t.outstandingPutCount_&&(t.outstandingPuts_=[]),o&&o(r.s,r.d)}))}},{key:"reportStats",value:function(e){var t=this;if(this.connected_){var n={c:e};this.log_("reportStats",n),this.sendRequest("s",n,(function(e){if("ok"!==e.s){var n=e.d;t.log_("reportStats","Error sending stats: "+n)}}))}}},{key:"onDataMessage_",value:function(e){if("r"in e){this.log_("from server: "+Ga(e));var t=e.r,n=this.requestCBHash_[t];n&&(delete this.requestCBHash_[t],n(e.b))}else{if("error"in e)throw"A server-side error has occurred: "+e.error;"a"in e&&this.onDataPush_(e.a,e.b)}}},{key:"onDataPush_",value:function(e,t){this.log_("handleServerMessage",e,t),"d"===e?this.onDataUpdate_(t.p,t.d,!1,t.t):"m"===e?this.onDataUpdate_(t.p,t.d,!0,t.t):"c"===e?this.onListenRevoked_(t.p,t.q):"ac"===e?this.onAuthRevoked_(t.s,t.d):"apc"===e?this.onAppCheckRevoked_(t.s,t.d):"sd"===e?this.onSecurityDebugPacket_(t):yu("Unrecognized action received from server: "+Ga(e)+"\nAre you using the latest client?")}},{key:"onReady_",value:function(e,t){this.log_("connection ready"),this.connected_=!0,this.lastConnectionEstablishedTime_=(new Date).getTime(),this.handleTimestamp_(e),this.lastSessionId=t,this.firstConnection_&&this.sendConnectStats_(),this.restoreState_(),this.firstConnection_=!1,this.onConnectStatus_(!0)}},{key:"scheduleConnect_",value:function(e){var t=this;ya(!this.realtime_,"Scheduling a connect when we're already connected/ing?"),this.establishConnectionTimer_&&clearTimeout(this.establishConnectionTimer_),this.establishConnectionTimer_=setTimeout((function(){t.establishConnectionTimer_=null,t.establishConnection_()}),Math.floor(e))}},{key:"initConnection_",value:function(){!this.realtime_&&this.firstConnection_&&this.scheduleConnect_(0)}},{key:"onVisible_",value:function(e){e&&!this.visible_&&this.reconnectDelay_===this.maxReconnectDelay_&&(this.log_("Window became visible.  Reducing delay."),this.reconnectDelay_=bc,this.realtime_||this.scheduleConnect_(0)),this.visible_=e}},{key:"onOnline_",value:function(e){e?(this.log_("Browser went online."),this.reconnectDelay_=bc,this.realtime_||this.scheduleConnect_(0)):(this.log_("Browser went offline.  Killing connection."),this.realtime_&&this.realtime_.close())}},{key:"onRealtimeDisconnect_",value:function(){if(this.log_("data client disconnected"),this.connected_=!1,this.realtime_=null,this.cancelSentTransactions_(),this.requestCBHash_={},this.shouldReconnect_()){if(this.visible_){if(this.lastConnectionEstablishedTime_){(new Date).getTime()-this.lastConnectionEstablishedTime_>3e4&&(this.reconnectDelay_=bc),this.lastConnectionEstablishedTime_=null}}else this.log_("Window isn't visible.  Delaying reconnect."),this.reconnectDelay_=this.maxReconnectDelay_,this.lastConnectionAttemptTime_=(new Date).getTime();var e=(new Date).getTime()-this.lastConnectionAttemptTime_,t=Math.max(0,this.reconnectDelay_-e);t=Math.random()*t,this.log_("Trying to reconnect in "+t+"ms"),this.scheduleConnect_(t),this.reconnectDelay_=Math.min(this.maxReconnectDelay_,1.3*this.reconnectDelay_)}this.onConnectStatus_(!1)}},{key:"establishConnection_",value:function(){var e=Ea(pa().mark((function e(){var t,r,o,i,a,u,c,l,d,f,p,h,E,g,v=this;return pa().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!this.shouldReconnect_()){e.next=30;break}return this.log_("Making a connection attempt"),this.lastConnectionAttemptTime_=(new Date).getTime(),this.lastConnectionEstablishedTime_=null,t=this.onDataMessage_.bind(this),r=this.onReady_.bind(this),o=this.onRealtimeDisconnect_.bind(this),i=this.id+":"+n.nextConnectionId_++,a=this.lastSessionId,u=!1,c=null,l=function(){c?c.close():(u=!0,o())},d=function(e){ya(c,"sendRequest call when we're not connected not allowed."),c.sendRequest(e)},this.realtime_={close:l,sendRequest:d},f=this.forceTokenRefresh_,this.forceTokenRefresh_=!1,e.prev=16,e.next=19,Promise.all([this.authTokenProvider_.getToken(f),this.appCheckTokenProvider_.getToken(f)]);case 19:p=e.sent,h=s(p,2),E=h[0],g=h[1],u?_u("getToken() completed but was canceled"):(_u("getToken() completed. Creating connection."),this.authToken_=E&&E.accessToken,this.appCheckToken_=g&&g.token,c=new sc(i,this.repoInfo_,this.applicationId_,this.appCheckToken_,this.authToken_,t,r,o,(function(e){Tu(e+" ("+v.repoInfo_.toString()+")"),v.interrupt("server_kill")}),a)),e.next=30;break;case 26:e.prev=26,e.t0=e.catch(16),this.log_("Failed to get token: "+e.t0),u||(this.repoInfo_.nodeAdmin&&Tu(e.t0),l());case 30:case"end":return e.stop()}}),e,this,[[16,26]])})));return function(){return e.apply(this,arguments)}}()},{key:"interrupt",value:function(e){_u("Interrupting connection for reason: "+e),this.interruptReasons_[e]=!0,this.realtime_?this.realtime_.close():(this.establishConnectionTimer_&&(clearTimeout(this.establishConnectionTimer_),this.establishConnectionTimer_=null),this.connected_&&this.onRealtimeDisconnect_())}},{key:"resume",value:function(e){_u("Resuming connection for reason: "+e),delete this.interruptReasons_[e],ja(this.interruptReasons_)&&(this.reconnectDelay_=bc,this.realtime_||this.scheduleConnect_(0))}},{key:"handleTimestamp_",value:function(e){var t=e-(new Date).getTime();this.onServerInfoUpdate_({serverTimeOffset:t})}},{key:"cancelSentTransactions_",value:function(){for(var e=0;e<this.outstandingPuts_.length;e++){var t=this.outstandingPuts_[e];t&&"h"in t.request&&t.queued&&(t.onComplete&&t.onComplete("disconnect"),delete this.outstandingPuts_[e],this.outstandingPutCount_--)}0===this.outstandingPutCount_&&(this.outstandingPuts_=[])}},{key:"onListenRevoked_",value:function(e,t){var n;n=t?t.map((function(e){return wu(e)})).join("$"):"default";var r=this.removeListen_(e,n);r&&r.onComplete&&r.onComplete("permission_denied")}},{key:"removeListen_",value:function(e,t){var n,r=new dc(e).toString();if(this.listens.has(r)){var o=this.listens.get(r);n=o.get(t),o.delete(t),0===o.size&&this.listens.delete(r)}else n=void 0;return n}},{key:"onAuthRevoked_",value:function(e,t){_u("Auth token revoked: "+e+"/"+t),this.authToken_=null,this.forceTokenRefresh_=!0,this.realtime_.close(),"invalid_token"!==e&&"permission_denied"!==e||(this.invalidAuthTokenCount_++,this.invalidAuthTokenCount_>=3&&(this.reconnectDelay_=3e4,this.authTokenProvider_.notifyForInvalidToken()))}},{key:"onAppCheckRevoked_",value:function(e,t){_u("App check token revoked: "+e+"/"+t),this.appCheckToken_=null,this.forceTokenRefresh_=!0,"invalid_token"!==e&&"permission_denied"!==e||(this.invalidAppCheckTokenCount_++,this.invalidAppCheckTokenCount_>=3&&this.appCheckTokenProvider_.notifyForInvalidToken())}},{key:"onSecurityDebugPacket_",value:function(e){this.securityDebugCallback_?this.securityDebugCallback_(e):"msg"in e&&console.log("FIREBASE: "+e.msg.replace("\n","\nFIREBASE: "))}},{key:"restoreState_",value:function(){this.tryAuth(),this.tryAppCheck();var e,t=wr(this.listens.values());try{for(t.s();!(e=t.n()).done;){var n,r=wr(e.value.values());try{for(r.s();!(n=r.n()).done;){var o=n.value;this.sendListen_(o)}}catch(u){r.e(u)}finally{r.f()}}}catch(u){t.e(u)}finally{t.f()}for(var i=0;i<this.outstandingPuts_.length;i++)this.outstandingPuts_[i]&&this.sendPut_(i);for(;this.onDisconnectRequestQueue_.length;){var a=this.onDisconnectRequestQueue_.shift();this.sendOnDisconnect_(a.action,a.pathString,a.data,a.onComplete)}for(var s=0;s<this.outstandingGets_.length;s++)this.outstandingGets_[s]&&this.sendGet_(s)}},{key:"sendConnectStats_",value:function(){var e={},t="js";Ma()&&(t=this.repoInfo_.nodeAdmin?"admin_node":"node"),e["sdk."+t+"."+au.replace(/\./g,"-")]=1,La()?e["framework.cordova"]=1:"object"===typeof navigator&&"ReactNative"===navigator.product&&(e["framework.reactnative"]=1),this.reportStats(e)}},{key:"shouldReconnect_",value:function(){var e=lc.getInstance().currentlyOnline();return ja(this.interruptReasons_)&&e}}],[{key:"warnOnListenWarnings_",value:function(e,t){if(e&&"object"===typeof e&&Ka(e,"w")){var n=Ba(e,"w");if(Array.isArray(n)&&~n.indexOf("no_index")){var r='".indexOn": "'+t._queryParams.getIndex().toString()+'"',o=t._path.toString();Tu("Using an unspecified index. Your data will be downloaded and "+"filtered on the client. Consider adding ".concat(r," at ")+"".concat(o," to your security rules for better performance."))}}}}]),n}(uc);wc.nextPersistentConnectionId_=0,wc.nextConnectionId_=0;var Pc,Lc=function(){function e(t,n){En(this,e),this.name=t,this.node=n}return vn(e,null,[{key:"Wrap",value:function(t,n){return new e(t,n)}}]),e}(),Mc=function(){function e(){En(this,e)}return vn(e,[{key:"getCompare",value:function(){return this.compare.bind(this)}},{key:"indexedValueChanged",value:function(e,t){var n=new Lc(Au,e),r=new Lc(Au,t);return 0!==this.compare(n,r)}},{key:"minPost",value:function(){return Lc.MIN}}]),e}(),Dc=function(e){ir(n,e);var t=lr(n);function n(){return En(this,n),t.apply(this,arguments)}return vn(n,[{key:"compare",value:function(e,t){return Ou(e.name,t.name)}},{key:"isDefinedOn",value:function(e){throw Ca("KeyIndex.isDefinedOn not expected to be called.")}},{key:"indexedValueChanged",value:function(e,t){return!1}},{key:"minPost",value:function(){return Lc.MIN}},{key:"maxPost",value:function(){return new Lc(Ru,Pc)}},{key:"makePost",value:function(e,t){return ya("string"===typeof e,"KeyIndex indexValue must always be a string."),new Lc(e,Pc)}},{key:"toString",value:function(){return".key"}}],[{key:"__EMPTY_NODE",get:function(){return Pc},set:function(e){Pc=e}}]),n}(Mc),xc=new Dc,kc=function(){function e(t,n,r,o){var i=arguments.length>4&&void 0!==arguments[4]?arguments[4]:null;En(this,e),this.isReverse_=o,this.resultGenerator_=i,this.nodeStack_=[];for(var a=1;!t.isEmpty();)if(a=n?r(t.key,n):1,o&&(a*=-1),a<0)t=this.isReverse_?t.left:t.right;else{if(0===a){this.nodeStack_.push(t);break}this.nodeStack_.push(t),t=this.isReverse_?t.right:t.left}}return vn(e,[{key:"getNext",value:function(){if(0===this.nodeStack_.length)return null;var e,t=this.nodeStack_.pop();if(e=this.resultGenerator_?this.resultGenerator_(t.key,t.value):{key:t.key,value:t.value},this.isReverse_)for(t=t.left;!t.isEmpty();)this.nodeStack_.push(t),t=t.right;else for(t=t.right;!t.isEmpty();)this.nodeStack_.push(t),t=t.left;return e}},{key:"hasNext",value:function(){return this.nodeStack_.length>0}},{key:"peek",value:function(){if(0===this.nodeStack_.length)return null;var e=this.nodeStack_[this.nodeStack_.length-1];return this.resultGenerator_?this.resultGenerator_(e.key,e.value):{key:e.key,value:e.value}}}]),e}(),Uc=function(){function e(t,n,r,o,i){En(this,e),this.key=t,this.value=n,this.color=null!=r?r:e.RED,this.left=null!=o?o:Fc.EMPTY_NODE,this.right=null!=i?i:Fc.EMPTY_NODE}return vn(e,[{key:"copy",value:function(t,n,r,o,i){return new e(null!=t?t:this.key,null!=n?n:this.value,null!=r?r:this.color,null!=o?o:this.left,null!=i?i:this.right)}},{key:"count",value:function(){return this.left.count()+1+this.right.count()}},{key:"isEmpty",value:function(){return!1}},{key:"inorderTraversal",value:function(e){return this.left.inorderTraversal(e)||!!e(this.key,this.value)||this.right.inorderTraversal(e)}},{key:"reverseTraversal",value:function(e){return this.right.reverseTraversal(e)||e(this.key,this.value)||this.left.reverseTraversal(e)}},{key:"min_",value:function(){return this.left.isEmpty()?this:this.left.min_()}},{key:"minKey",value:function(){return this.min_().key}},{key:"maxKey",value:function(){return this.right.isEmpty()?this.key:this.right.maxKey()}},{key:"insert",value:function(e,t,n){var r=this,o=n(e,r.key);return(r=o<0?r.copy(null,null,null,r.left.insert(e,t,n),null):0===o?r.copy(null,t,null,null,null):r.copy(null,null,null,null,r.right.insert(e,t,n))).fixUp_()}},{key:"removeMin_",value:function(){if(this.left.isEmpty())return Fc.EMPTY_NODE;var e=this;return e.left.isRed_()||e.left.left.isRed_()||(e=e.moveRedLeft_()),(e=e.copy(null,null,null,e.left.removeMin_(),null)).fixUp_()}},{key:"remove",value:function(e,t){var n,r;if(t(e,(n=this).key)<0)n.left.isEmpty()||n.left.isRed_()||n.left.left.isRed_()||(n=n.moveRedLeft_()),n=n.copy(null,null,null,n.left.remove(e,t),null);else{if(n.left.isRed_()&&(n=n.rotateRight_()),n.right.isEmpty()||n.right.isRed_()||n.right.left.isRed_()||(n=n.moveRedRight_()),0===t(e,n.key)){if(n.right.isEmpty())return Fc.EMPTY_NODE;r=n.right.min_(),n=n.copy(r.key,r.value,null,null,n.right.removeMin_())}n=n.copy(null,null,null,null,n.right.remove(e,t))}return n.fixUp_()}},{key:"isRed_",value:function(){return this.color}},{key:"fixUp_",value:function(){var e=this;return e.right.isRed_()&&!e.left.isRed_()&&(e=e.rotateLeft_()),e.left.isRed_()&&e.left.left.isRed_()&&(e=e.rotateRight_()),e.left.isRed_()&&e.right.isRed_()&&(e=e.colorFlip_()),e}},{key:"moveRedLeft_",value:function(){var e=this.colorFlip_();return e.right.left.isRed_()&&(e=(e=(e=e.copy(null,null,null,null,e.right.rotateRight_())).rotateLeft_()).colorFlip_()),e}},{key:"moveRedRight_",value:function(){var e=this.colorFlip_();return e.left.left.isRed_()&&(e=(e=e.rotateRight_()).colorFlip_()),e}},{key:"rotateLeft_",value:function(){var t=this.copy(null,null,e.RED,null,this.right.left);return this.right.copy(null,null,this.color,t,null)}},{key:"rotateRight_",value:function(){var t=this.copy(null,null,e.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,t)}},{key:"colorFlip_",value:function(){var e=this.left.copy(null,null,!this.left.color,null,null),t=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,e,t)}},{key:"checkMaxDepth_",value:function(){var e=this.check_();return Math.pow(2,e)<=this.count()+1}},{key:"check_",value:function(){if(this.isRed_()&&this.left.isRed_())throw new Error("Red node has red child("+this.key+","+this.value+")");if(this.right.isRed_())throw new Error("Right child of ("+this.key+","+this.value+") is red");var e=this.left.check_();if(e!==this.right.check_())throw new Error("Black depths differ");return e+(this.isRed_()?0:1)}}]),e}();Uc.RED=!0,Uc.BLACK=!1;var Yc,Gc=function(){function e(){En(this,e)}return vn(e,[{key:"copy",value:function(e,t,n,r,o){return this}},{key:"insert",value:function(e,t,n){return new Uc(e,t,null)}},{key:"remove",value:function(e,t){return this}},{key:"count",value:function(){return 0}},{key:"isEmpty",value:function(){return!0}},{key:"inorderTraversal",value:function(e){return!1}},{key:"reverseTraversal",value:function(e){return!1}},{key:"minKey",value:function(){return null}},{key:"maxKey",value:function(){return null}},{key:"check_",value:function(){return 0}},{key:"isRed_",value:function(){return!1}}]),e}(),Fc=function(){function e(t){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:e.EMPTY_NODE;En(this,e),this.comparator_=t,this.root_=n}return vn(e,[{key:"insert",value:function(t,n){return new e(this.comparator_,this.root_.insert(t,n,this.comparator_).copy(null,null,Uc.BLACK,null,null))}},{key:"remove",value:function(t){return new e(this.comparator_,this.root_.remove(t,this.comparator_).copy(null,null,Uc.BLACK,null,null))}},{key:"get",value:function(e){for(var t,n=this.root_;!n.isEmpty();){if(0===(t=this.comparator_(e,n.key)))return n.value;t<0?n=n.left:t>0&&(n=n.right)}return null}},{key:"getPredecessorKey",value:function(e){for(var t,n=this.root_,r=null;!n.isEmpty();){if(0===(t=this.comparator_(e,n.key))){if(n.left.isEmpty())return r?r.key:null;for(n=n.left;!n.right.isEmpty();)n=n.right;return n.key}t<0?n=n.left:t>0&&(r=n,n=n.right)}throw new Error("Attempted to find predecessor key for a nonexistent key.  What gives?")}},{key:"isEmpty",value:function(){return this.root_.isEmpty()}},{key:"count",value:function(){return this.root_.count()}},{key:"minKey",value:function(){return this.root_.minKey()}},{key:"maxKey",value:function(){return this.root_.maxKey()}},{key:"inorderTraversal",value:function(e){return this.root_.inorderTraversal(e)}},{key:"reverseTraversal",value:function(e){return this.root_.reverseTraversal(e)}},{key:"getIterator",value:function(e){return new kc(this.root_,null,this.comparator_,!1,e)}},{key:"getIteratorFrom",value:function(e,t){return new kc(this.root_,e,this.comparator_,!1,t)}},{key:"getReverseIteratorFrom",value:function(e,t){return new kc(this.root_,e,this.comparator_,!0,t)}},{key:"getReverseIterator",value:function(e){return new kc(this.root_,null,this.comparator_,!0,e)}}]),e}();function Kc(e,t){return Ou(e.name,t.name)}function Bc(e,t){return Ou(e,t)}Fc.EMPTY_NODE=new Gc;var jc,Vc,Hc,Wc=function(e){return"number"===typeof e?"number:"+Mu(e):"string:"+e},Jc=function(e){if(e.isLeafNode()){var t=e.val();ya("string"===typeof t||"number"===typeof t||"object"===typeof t&&Ka(t,".sv"),"Priority must be a string or number.")}else ya(e===Yc||e.isEmpty(),"priority of unexpected type.");ya(e===Yc||e.getPriority().isEmpty(),"Priority nodes can't have a priority of their own.")},zc=function(){function e(t){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:e.__childrenNodeConstructor.EMPTY_NODE;En(this,e),this.value_=t,this.priorityNode_=n,this.lazyHash_=null,ya(void 0!==this.value_&&null!==this.value_,"LeafNode shouldn't be created with null/undefined value."),Jc(this.priorityNode_)}return vn(e,[{key:"isLeafNode",value:function(){return!0}},{key:"getPriority",value:function(){return this.priorityNode_}},{key:"updatePriority",value:function(t){return new e(this.value_,t)}},{key:"getImmediateChild",value:function(t){return".priority"===t?this.priorityNode_:e.__childrenNodeConstructor.EMPTY_NODE}},{key:"getChild",value:function(t){return Sc(t)?this:".priority"===pc(t)?this.priorityNode_:e.__childrenNodeConstructor.EMPTY_NODE}},{key:"hasChild",value:function(){return!1}},{key:"getPredecessorChildName",value:function(e,t){return null}},{key:"updateImmediateChild",value:function(t,n){return".priority"===t?this.updatePriority(n):n.isEmpty()&&".priority"!==t?this:e.__childrenNodeConstructor.EMPTY_NODE.updateImmediateChild(t,n).updatePriority(this.priorityNode_)}},{key:"updateChild",value:function(t,n){var r=pc(t);return null===r?n:n.isEmpty()&&".priority"!==r?this:(ya(".priority"!==r||1===hc(t),".priority must be the last token in a path"),this.updateImmediateChild(r,e.__childrenNodeConstructor.EMPTY_NODE.updateChild(Ec(t),n)))}},{key:"isEmpty",value:function(){return!1}},{key:"numChildren",value:function(){return 0}},{key:"forEachChild",value:function(e,t){return!1}},{key:"val",value:function(e){return e&&!this.getPriority().isEmpty()?{".value":this.getValue(),".priority":this.getPriority().val()}:this.getValue()}},{key:"hash",value:function(){if(null===this.lazyHash_){var e="";this.priorityNode_.isEmpty()||(e+="priority:"+Wc(this.priorityNode_.val())+":");var t=typeof this.value_;e+=t+":",e+="number"===t?Mu(this.value_):this.value_,this.lazyHash_=hu(e)}return this.lazyHash_}},{key:"getValue",value:function(){return this.value_}},{key:"compareTo",value:function(t){return t===e.__childrenNodeConstructor.EMPTY_NODE?1:t instanceof e.__childrenNodeConstructor?-1:(ya(t.isLeafNode(),"Unknown node type"),this.compareToLeafNode_(t))}},{key:"compareToLeafNode_",value:function(t){var n=typeof t.value_,r=typeof this.value_,o=e.VALUE_TYPE_ORDER.indexOf(n),i=e.VALUE_TYPE_ORDER.indexOf(r);return ya(o>=0,"Unknown leaf type: "+n),ya(i>=0,"Unknown leaf type: "+r),o===i?"object"===r?0:this.value_<t.value_?-1:this.value_===t.value_?0:1:i-o}},{key:"withIndex",value:function(){return this}},{key:"isIndexed",value:function(){return!0}},{key:"equals",value:function(e){if(e===this)return!0;if(e.isLeafNode()){var t=e;return this.value_===t.value_&&this.priorityNode_.equals(t.priorityNode_)}return!1}}],[{key:"__childrenNodeConstructor",get:function(){return jc},set:function(e){jc=e}}]),e}();zc.VALUE_TYPE_ORDER=["object","boolean","number","string"];var qc,Qc,Xc=function(e){ir(n,e);var t=lr(n);function n(){return En(this,n),t.apply(this,arguments)}return vn(n,[{key:"compare",value:function(e,t){var n=e.node.getPriority(),r=t.node.getPriority(),o=n.compareTo(r);return 0===o?Ou(e.name,t.name):o}},{key:"isDefinedOn",value:function(e){return!e.getPriority().isEmpty()}},{key:"indexedValueChanged",value:function(e,t){return!e.getPriority().equals(t.getPriority())}},{key:"minPost",value:function(){return Lc.MIN}},{key:"maxPost",value:function(){return new Lc(Ru,new zc("[PRIORITY-POST]",Hc))}},{key:"makePost",value:function(e,t){var n=Vc(e);return new Lc(t,new zc("[PRIORITY-POST]",n))}},{key:"toString",value:function(){return".priority"}}]),n}(Mc),$c=new Xc,Zc=Math.log(2),el=function(){function e(t){En(this,e);var n;this.count=(n=t+1,parseInt(Math.log(n)/Zc,10)),this.current_=this.count-1;var r,o=(r=this.count,parseInt(Array(r+1).join("1"),2));this.bits_=t+1&o}return vn(e,[{key:"nextBitIsOne",value:function(){var e=!(this.bits_&1<<this.current_);return this.current_--,e}}]),e}(),tl=function(e,t,n,r){e.sort(t);var o=function t(r,o){var i,a,s=o-r;if(0===s)return null;if(1===s)return i=e[r],a=n?n(i):i,new Uc(a,i.node,Uc.BLACK,null,null);var u=parseInt(s/2,10)+r,c=t(r,u),l=t(u+1,o);return i=e[u],a=n?n(i):i,new Uc(a,i.node,Uc.BLACK,c,l)},i=function(t){for(var r=null,i=null,a=e.length,s=function(t,r){var i=a-t,s=a;a-=t;var c=o(i+1,s),l=e[i],d=n?n(l):l;u(new Uc(d,l.node,r,null,c))},u=function(e){r?(r.left=e,r=e):(i=e,r=e)},c=0;c<t.count;++c){var l=t.nextBitIsOne(),d=Math.pow(2,t.count-(c+1));l?s(d,Uc.BLACK):(s(d,Uc.BLACK),s(d,Uc.RED))}return i}(new el(e.length));return new Fc(r||t,i)},nl={},rl=function(){function e(t,n){En(this,e),this.indexes_=t,this.indexSet_=n}return vn(e,[{key:"get",value:function(e){var t=Ba(this.indexes_,e);if(!t)throw new Error("No index defined for "+e);return t instanceof Fc?t:null}},{key:"hasIndex",value:function(e){return Ka(this.indexSet_,e.toString())}},{key:"addIndex",value:function(t,n){ya(t!==xc,"KeyIndex always exists and isn't meant to be added to the IndexMap.");for(var r,o=[],i=!1,a=n.getIterator(Lc.Wrap),s=a.getNext();s;)i=i||t.isDefinedOn(s.node),o.push(s),s=a.getNext();r=i?tl(o,t.getCompare()):nl;var u=t.toString(),c=Object.assign({},this.indexSet_);c[u]=t;var l=Object.assign({},this.indexes_);return l[u]=r,new e(l,c)}},{key:"addToIndexes",value:function(t,n){var r=this;return new e(Va(this.indexes_,(function(e,o){var i=Ba(r.indexSet_,o);if(ya(i,"Missing index implementation for "+o),e===nl){if(i.isDefinedOn(t.node)){for(var a=[],s=n.getIterator(Lc.Wrap),u=s.getNext();u;)u.name!==t.name&&a.push(u),u=s.getNext();return a.push(t),tl(a,i.getCompare())}return nl}var c=n.get(t.name),l=e;return c&&(l=l.remove(new Lc(t.name,c))),l.insert(t,t.node)})),this.indexSet_)}},{key:"removeFromIndexes",value:function(t,n){return new e(Va(this.indexes_,(function(e){if(e===nl)return e;var r=n.get(t.name);return r?e.remove(new Lc(t.name,r)):e})),this.indexSet_)}}],[{key:"Default",get:function(){return ya(nl&&$c,"ChildrenNode.ts has not been loaded"),qc=qc||new e({".priority":nl},{".priority":$c})}}]),e}(),ol=function(){function e(t,n,r){En(this,e),this.children_=t,this.priorityNode_=n,this.indexMap_=r,this.lazyHash_=null,this.priorityNode_&&Jc(this.priorityNode_),this.children_.isEmpty()&&ya(!this.priorityNode_||this.priorityNode_.isEmpty(),"An empty node cannot have a priority")}return vn(e,[{key:"isLeafNode",value:function(){return!1}},{key:"getPriority",value:function(){return this.priorityNode_||Qc}},{key:"updatePriority",value:function(t){return this.children_.isEmpty()?this:new e(this.children_,t,this.indexMap_)}},{key:"getImmediateChild",value:function(e){if(".priority"===e)return this.getPriority();var t=this.children_.get(e);return null===t?Qc:t}},{key:"getChild",value:function(e){var t=pc(e);return null===t?this:this.getImmediateChild(t).getChild(Ec(e))}},{key:"hasChild",value:function(e){return null!==this.children_.get(e)}},{key:"updateImmediateChild",value:function(t,n){if(ya(n,"We should always be passing snapshot nodes"),".priority"===t)return this.updatePriority(n);var r,o,i=new Lc(t,n);n.isEmpty()?(r=this.children_.remove(t),o=this.indexMap_.removeFromIndexes(i,this.children_)):(r=this.children_.insert(t,n),o=this.indexMap_.addToIndexes(i,this.children_));var a=r.isEmpty()?Qc:this.priorityNode_;return new e(r,a,o)}},{key:"updateChild",value:function(e,t){var n=pc(e);if(null===n)return t;ya(".priority"!==pc(e)||1===hc(e),".priority must be the last token in a path");var r=this.getImmediateChild(n).updateChild(Ec(e),t);return this.updateImmediateChild(n,r)}},{key:"isEmpty",value:function(){return this.children_.isEmpty()}},{key:"numChildren",value:function(){return this.children_.count()}},{key:"val",value:function(t){if(this.isEmpty())return null;var n={},r=0,o=0,i=!0;if(this.forEachChild($c,(function(a,s){n[a]=s.val(t),r++,i&&e.INTEGER_REGEXP_.test(a)?o=Math.max(o,Number(a)):i=!1})),!t&&i&&o<2*r){var a=[];for(var s in n)a[s]=n[s];return a}return t&&!this.getPriority().isEmpty()&&(n[".priority"]=this.getPriority().val()),n}},{key:"hash",value:function(){if(null===this.lazyHash_){var e="";this.getPriority().isEmpty()||(e+="priority:"+Wc(this.getPriority().val())+":"),this.forEachChild($c,(function(t,n){var r=n.hash();""!==r&&(e+=":"+t+":"+r)})),this.lazyHash_=""===e?"":hu(e)}return this.lazyHash_}},{key:"getPredecessorChildName",value:function(e,t,n){var r=this.resolveIndex_(n);if(r){var o=r.getPredecessorKey(new Lc(e,t));return o?o.name:null}return this.children_.getPredecessorKey(e)}},{key:"getFirstChildName",value:function(e){var t=this.resolveIndex_(e);if(t){var n=t.minKey();return n&&n.name}return this.children_.minKey()}},{key:"getFirstChild",value:function(e){var t=this.getFirstChildName(e);return t?new Lc(t,this.children_.get(t)):null}},{key:"getLastChildName",value:function(e){var t=this.resolveIndex_(e);if(t){var n=t.maxKey();return n&&n.name}return this.children_.maxKey()}},{key:"getLastChild",value:function(e){var t=this.getLastChildName(e);return t?new Lc(t,this.children_.get(t)):null}},{key:"forEachChild",value:function(e,t){var n=this.resolveIndex_(e);return n?n.inorderTraversal((function(e){return t(e.name,e.node)})):this.children_.inorderTraversal(t)}},{key:"getIterator",value:function(e){return this.getIteratorFrom(e.minPost(),e)}},{key:"getIteratorFrom",value:function(e,t){var n=this.resolveIndex_(t);if(n)return n.getIteratorFrom(e,(function(e){return e}));for(var r=this.children_.getIteratorFrom(e.name,Lc.Wrap),o=r.peek();null!=o&&t.compare(o,e)<0;)r.getNext(),o=r.peek();return r}},{key:"getReverseIterator",value:function(e){return this.getReverseIteratorFrom(e.maxPost(),e)}},{key:"getReverseIteratorFrom",value:function(e,t){var n=this.resolveIndex_(t);if(n)return n.getReverseIteratorFrom(e,(function(e){return e}));for(var r=this.children_.getReverseIteratorFrom(e.name,Lc.Wrap),o=r.peek();null!=o&&t.compare(o,e)>0;)r.getNext(),o=r.peek();return r}},{key:"compareTo",value:function(e){return this.isEmpty()?e.isEmpty()?0:-1:e.isLeafNode()||e.isEmpty()?1:e===il?-1:0}},{key:"withIndex",value:function(t){if(t===xc||this.indexMap_.hasIndex(t))return this;var n=this.indexMap_.addIndex(t,this.children_);return new e(this.children_,this.priorityNode_,n)}},{key:"isIndexed",value:function(e){return e===xc||this.indexMap_.hasIndex(e)}},{key:"equals",value:function(e){if(e===this)return!0;if(e.isLeafNode())return!1;var t=e;if(this.getPriority().equals(t.getPriority())){if(this.children_.count()===t.children_.count()){for(var n=this.getIterator($c),r=t.getIterator($c),o=n.getNext(),i=r.getNext();o&&i;){if(o.name!==i.name||!o.node.equals(i.node))return!1;o=n.getNext(),i=r.getNext()}return null===o&&null===i}return!1}return!1}},{key:"resolveIndex_",value:function(e){return e===xc?null:this.indexMap_.get(e.toString())}}],[{key:"EMPTY_NODE",get:function(){return Qc||(Qc=new e(new Fc(Bc),null,rl.Default))}}]),e}();ol.INTEGER_REGEXP_=/^(0|[1-9]\d*)$/;var il=new(function(e){ir(n,e);var t=lr(n);function n(){return En(this,n),t.call(this,new Fc(Bc),ol.EMPTY_NODE,rl.Default)}return vn(n,[{key:"compareTo",value:function(e){return e===this?0:1}},{key:"equals",value:function(e){return e===this}},{key:"getPriority",value:function(){return this}},{key:"getImmediateChild",value:function(e){return ol.EMPTY_NODE}},{key:"isEmpty",value:function(){return!1}}]),n}(ol));Object.defineProperties(Lc,{MIN:{value:new Lc(Au,ol.EMPTY_NODE)},MAX:{value:new Lc(Ru,il)}}),Dc.__EMPTY_NODE=ol.EMPTY_NODE,zc.__childrenNodeConstructor=ol,Yc=il,function(e){Hc=e}(il);function al(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null;if(null===e)return ol.EMPTY_NODE;if("object"===typeof e&&".priority"in e&&(t=e[".priority"]),ya(null===t||"string"===typeof t||"number"===typeof t||"object"===typeof t&&".sv"in t,"Invalid priority type found: "+typeof t),"object"===typeof e&&".value"in e&&null!==e[".value"]&&(e=e[".value"]),"object"!==typeof e||".sv"in e){var n=e;return new zc(n,al(t))}if(e instanceof Array){var r=ol.EMPTY_NODE;return Lu(e,(function(t,n){if(Ka(e,t)&&"."!==t.substring(0,1)){var o=al(n);!o.isLeafNode()&&o.isEmpty()||(r=r.updateImmediateChild(t,o))}})),r.updatePriority(al(t))}var o=[],i=!1,a=e;if(Lu(a,(function(e,t){if("."!==e.substring(0,1)){var n=al(t);n.isEmpty()||(i=i||!n.getPriority().isEmpty(),o.push(new Lc(e,n)))}})),0===o.length)return ol.EMPTY_NODE;var s=tl(o,Kc,(function(e){return e.name}),Bc);if(i){var u=tl(o,$c.getCompare());return new ol(s,al(t),new rl({".priority":u},{".priority":$c}))}return new ol(s,al(t),rl.Default)}!function(e){Vc=e}(al);var sl=function(e){ir(n,e);var t=lr(n);function n(e){var r;return En(this,n),(r=t.call(this)).indexPath_=e,ya(!Sc(e)&&".priority"!==pc(e),"Can't create PathIndex with empty path or .priority key"),r}return vn(n,[{key:"extractChild",value:function(e){return e.getChild(this.indexPath_)}},{key:"isDefinedOn",value:function(e){return!e.getChild(this.indexPath_).isEmpty()}},{key:"compare",value:function(e,t){var n=this.extractChild(e.node),r=this.extractChild(t.node),o=n.compareTo(r);return 0===o?Ou(e.name,t.name):o}},{key:"makePost",value:function(e,t){var n=al(e),r=ol.EMPTY_NODE.updateChild(this.indexPath_,n);return new Lc(t,r)}},{key:"maxPost",value:function(){var e=ol.EMPTY_NODE.updateChild(this.indexPath_,il);return new Lc(Ru,e)}},{key:"toString",value:function(){return vc(this.indexPath_,0).join("/")}}]),n}(Mc),ul=function(e){ir(n,e);var t=lr(n);function n(){return En(this,n),t.apply(this,arguments)}return vn(n,[{key:"compare",value:function(e,t){var n=e.node.compareTo(t.node);return 0===n?Ou(e.name,t.name):n}},{key:"isDefinedOn",value:function(e){return!0}},{key:"indexedValueChanged",value:function(e,t){return!e.equals(t)}},{key:"minPost",value:function(){return Lc.MIN}},{key:"maxPost",value:function(){return Lc.MAX}},{key:"makePost",value:function(e,t){var n=al(e);return new Lc(t,n)}},{key:"toString",value:function(){return".value"}}]),n}(Mc),cl=new ul,ll="-0123456789ABCDEFGHIJKLMNOPQRSTUVWXYZ_abcdefghijklmnopqrstuvwxyz",dl=function(){var e=0,t=[];return function(n){var r,o=n===e;e=n;var i=new Array(8);for(r=7;r>=0;r--)i[r]=ll.charAt(n%64),n=Math.floor(n/64);ya(0===n,"Cannot push at time == 0");var a=i.join("");if(o){for(r=11;r>=0&&63===t[r];r--)t[r]=0;t[r]++}else for(r=0;r<12;r++)t[r]=Math.floor(64*Math.random());for(r=0;r<12;r++)a+=ll.charAt(t[r]);return ya(20===a.length,"nextPushId: Length should be 20."),a}}();function fl(e){return{type:"value",snapshotNode:e}}function pl(e,t){return{type:"child_added",snapshotNode:t,childName:e}}function hl(e,t){return{type:"child_removed",snapshotNode:t,childName:e}}function El(e,t,n){return{type:"child_changed",snapshotNode:t,childName:e,oldSnap:n}}var gl=function(){function e(){En(this,e),this.limitSet_=!1,this.startSet_=!1,this.startNameSet_=!1,this.startAfterSet_=!1,this.endSet_=!1,this.endNameSet_=!1,this.endBeforeSet_=!1,this.limit_=0,this.viewFrom_="",this.indexStartValue_=null,this.indexStartName_="",this.indexEndValue_=null,this.indexEndName_="",this.index_=$c}return vn(e,[{key:"hasStart",value:function(){return this.startSet_}},{key:"hasStartAfter",value:function(){return this.startAfterSet_}},{key:"hasEndBefore",value:function(){return this.endBeforeSet_}},{key:"isViewFromLeft",value:function(){return""===this.viewFrom_?this.startSet_:"l"===this.viewFrom_}},{key:"getIndexStartValue",value:function(){return ya(this.startSet_,"Only valid if start has been set"),this.indexStartValue_}},{key:"getIndexStartName",value:function(){return ya(this.startSet_,"Only valid if start has been set"),this.startNameSet_?this.indexStartName_:Au}},{key:"hasEnd",value:function(){return this.endSet_}},{key:"getIndexEndValue",value:function(){return ya(this.endSet_,"Only valid if end has been set"),this.indexEndValue_}},{key:"getIndexEndName",value:function(){return ya(this.endSet_,"Only valid if end has been set"),this.endNameSet_?this.indexEndName_:Ru}},{key:"hasLimit",value:function(){return this.limitSet_}},{key:"hasAnchoredLimit",value:function(){return this.limitSet_&&""!==this.viewFrom_}},{key:"getLimit",value:function(){return ya(this.limitSet_,"Only valid if limit has been set"),this.limit_}},{key:"getIndex",value:function(){return this.index_}},{key:"loadsAllData",value:function(){return!(this.startSet_||this.endSet_||this.limitSet_)}},{key:"isDefault",value:function(){return this.loadsAllData()&&this.index_===$c}},{key:"copy",value:function(){var t=new e;return t.limitSet_=this.limitSet_,t.limit_=this.limit_,t.startSet_=this.startSet_,t.indexStartValue_=this.indexStartValue_,t.startNameSet_=this.startNameSet_,t.indexStartName_=this.indexStartName_,t.endSet_=this.endSet_,t.indexEndValue_=this.indexEndValue_,t.endNameSet_=this.endNameSet_,t.indexEndName_=this.indexEndName_,t.index_=this.index_,t.viewFrom_=this.viewFrom_,t}}]),e}();function vl(e){var t,n={};return e.isDefault()||(e.index_===$c?t="$priority":e.index_===cl?t="$value":e.index_===xc?t="$key":(ya(e.index_ instanceof sl,"Unrecognized index type!"),t=e.index_.toString()),n.orderBy=Ga(t),e.startSet_&&(n.startAt=Ga(e.indexStartValue_),e.startNameSet_&&(n.startAt+=","+Ga(e.indexStartName_))),e.endSet_&&(n.endAt=Ga(e.indexEndValue_),e.endNameSet_&&(n.endAt+=","+Ga(e.indexEndName_))),e.limitSet_&&(e.isViewFromLeft()?n.limitToFirst=e.limit_:n.limitToLast=e.limit_)),n}function ml(e){var t={};if(e.startSet_&&(t.sp=e.indexStartValue_,e.startNameSet_&&(t.sn=e.indexStartName_)),e.endSet_&&(t.ep=e.indexEndValue_,e.endNameSet_&&(t.en=e.indexEndName_)),e.limitSet_){t.l=e.limit_;var n=e.viewFrom_;""===n&&(n=e.isViewFromLeft()?"l":"r"),t.vf=n}return e.index_!==$c&&(t.i=e.index_.toString()),t}var _l=function(e){ir(n,e);var t=lr(n);function n(e,r,o,i){var a;return En(this,n),(a=t.call(this)).repoInfo_=e,a.onDataUpdate_=r,a.authTokenProvider_=o,a.appCheckTokenProvider_=i,a.log_=Su("p:rest:"),a.listens_={},a}return vn(n,[{key:"reportStats",value:function(e){throw new Error("Method not implemented.")}},{key:"listen",value:function(e,t,r,o){var i=this,a=e._path.toString();this.log_("Listen called for "+a+" "+e._queryIdentifier);var s=n.getListenId_(e,r),u={};this.listens_[s]=u;var c=vl(e._queryParams);this.restRequest_(a+".json",c,(function(e,t){var n=t;(404===e&&(n=null,e=null),null===e&&i.onDataUpdate_(a,n,!1,r),Ba(i.listens_,s)===u)&&o(e?401===e?"permission_denied":"rest_error:"+e:"ok",null)}))}},{key:"unlisten",value:function(e,t){var r=n.getListenId_(e,t);delete this.listens_[r]}},{key:"get",value:function(e){var t=this,n=vl(e._queryParams),r=e._path.toString(),o=new wa;return this.restRequest_(r+".json",n,(function(e,n){var i=n;404===e&&(i=null,e=null),null===e?(t.onDataUpdate_(r,i,!1,null),o.resolve(i)):o.reject(new Error(i))})),o.promise}},{key:"refreshAuthToken",value:function(e){}},{key:"restRequest_",value:function(e){var t=this,n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},r=arguments.length>2?arguments[2]:void 0;return n.format="export",Promise.all([this.authTokenProvider_.getToken(!1),this.appCheckTokenProvider_.getToken(!1)]).then((function(o){var i=s(o,2),a=i[0],u=i[1];a&&a.accessToken&&(n.auth=a.accessToken),u&&u.token&&(n.ac=u.token);var c=(t.repoInfo_.secure?"https://":"http://")+t.repoInfo_.host+e+"?ns="+t.repoInfo_.namespace+Ja(n);t.log_("Sending REST request for "+c);var l=new XMLHttpRequest;l.onreadystatechange=function(){if(r&&4===l.readyState){t.log_("REST Response for "+c+" received. status:",l.status,"response:",l.responseText);var e=null;if(l.status>=200&&l.status<300){try{e=Ya(l.responseText)}catch(Cp){Tu("Failed to parse JSON response for "+c+": "+l.responseText)}r(null,e)}else 401!==l.status&&404!==l.status&&Tu("Got unsuccessful REST response for "+c+" Status: "+l.status),r(l.status);r=null}},l.open("GET",c,!0),l.send()}))}}],[{key:"getListenId_",value:function(e,t){return void 0!==t?"tag$"+t:(ya(e._queryParams.isDefault(),"should have a tag if it's not a default query."),e._path.toString())}}]),n}(uc),Sl=function(){function e(){En(this,e),this.rootNode_=ol.EMPTY_NODE}return vn(e,[{key:"getNode",value:function(e){return this.rootNode_.getChild(e)}},{key:"updateSnapshot",value:function(e,t){this.rootNode_=this.rootNode_.updateChild(e,t)}}]),e}();function yl(){return{value:null,children:new Map}}function Cl(e,t,n){if(Sc(t))e.value=n,e.children.clear();else if(null!==e.value)e.value=e.value.updateChild(t,n);else{var r=pc(t);e.children.has(r)||e.children.set(r,yl()),Cl(e.children.get(r),t=Ec(t),n)}}function Tl(e,t,n){null!==e.value?n(t,e.value):function(e,t){e.children.forEach((function(e,n){t(n,e)}))}(e,(function(e,r){Tl(r,new dc(t.toString()+"/"+e),n)}))}var Il,Al=function(){function e(t){En(this,e),this.collection_=t,this.last_=null}return vn(e,[{key:"get",value:function(){var e=this.collection_.get(),t=Object.assign({},e);return this.last_&&Lu(this.last_,(function(e,n){t[e]=t[e]-n})),this.last_=e,t}}]),e}(),Rl=function(){function e(t,n){En(this,e),this.server_=n,this.statsToReport_={},this.statsListener_=new Al(t);var r=1e4+2e4*Math.random();Gu(this.reportStats_.bind(this),Math.floor(r))}return vn(e,[{key:"reportStats_",value:function(){var e=this,t=this.statsListener_.get(),n={},r=!1;Lu(t,(function(t,o){o>0&&Ka(e.statsToReport_,t)&&(n[t]=o,r=!0)})),r&&this.server_.reportStats(n),Gu(this.reportStats_.bind(this),Math.floor(2*Math.random()*3e5))}}]),e}();function Ol(e){return{fromUser:!1,fromServer:!0,queryId:e,tagged:!0}}!function(e){e[e.OVERWRITE=0]="OVERWRITE",e[e.MERGE=1]="MERGE",e[e.ACK_USER_WRITE=2]="ACK_USER_WRITE",e[e.LISTEN_COMPLETE=3]="LISTEN_COMPLETE"}(Il||(Il={}));var Nl,bl=function(){function e(t,n,r){En(this,e),this.path=t,this.affectedTree=n,this.revert=r,this.type=Il.ACK_USER_WRITE,this.source={fromUser:!0,fromServer:!1,queryId:null,tagged:!1}}return vn(e,[{key:"operationForChild",value:function(t){if(Sc(this.path)){if(null!=this.affectedTree.value)return ya(this.affectedTree.children.isEmpty(),"affectedTree should not have overlapping affected paths."),this;var n=this.affectedTree.subtree(new dc(t));return new e(fc(),n,this.revert)}return ya(pc(this.path)===t,"operationForChild called for unrelated child."),new e(Ec(this.path),this.affectedTree,this.revert)}}]),e}(),wl=function(){function e(t,n,r){En(this,e),this.source=t,this.path=n,this.snap=r,this.type=Il.OVERWRITE}return vn(e,[{key:"operationForChild",value:function(t){return Sc(this.path)?new e(this.source,fc(),this.snap.getImmediateChild(t)):new e(this.source,Ec(this.path),this.snap)}}]),e}(),Pl=function(){function e(t,n,r){En(this,e),this.source=t,this.path=n,this.children=r,this.type=Il.MERGE}return vn(e,[{key:"operationForChild",value:function(t){if(Sc(this.path)){var n=this.children.subtree(new dc(t));return n.isEmpty()?null:n.value?new wl(this.source,fc(),n.value):new e(this.source,fc(),n)}return ya(pc(this.path)===t,"Can't get a merge for a child not on the path of the operation"),new e(this.source,Ec(this.path),this.children)}},{key:"toString",value:function(){return"Operation("+this.path+": "+this.source.toString()+" merge: "+this.children.toString()+")"}}]),e}(),Ll=function(){function e(t,n,r){En(this,e),this.node_=t,this.fullyInitialized_=n,this.filtered_=r}return vn(e,[{key:"isFullyInitialized",value:function(){return this.fullyInitialized_}},{key:"isFiltered",value:function(){return this.filtered_}},{key:"isCompleteForPath",value:function(e){if(Sc(e))return this.isFullyInitialized()&&!this.filtered_;var t=pc(e);return this.isCompleteForChild(t)}},{key:"isCompleteForChild",value:function(e){return this.isFullyInitialized()&&!this.filtered_||this.node_.hasChild(e)}},{key:"getNode",value:function(){return this.node_}}]),e}();function Ml(e,t,n,r,o,i){var a=r.filter((function(e){return e.type===n}));a.sort((function(t,n){return function(e,t,n){if(null==t.childName||null==n.childName)throw Ca("Should only compare child_ events.");var r=new Lc(t.childName,t.snapshotNode),o=new Lc(n.childName,n.snapshotNode);return e.index_.compare(r,o)}(e,t,n)})),a.forEach((function(n){var r=function(e,t,n){return"value"===t.type||"child_removed"===t.type||(t.prevName=n.getPredecessorChildName(t.childName,t.snapshotNode,e.index_)),t}(e,n,i);o.forEach((function(o){o.respondsTo(n.type)&&t.push(o.createEvent(r,e.query_))}))}))}function Dl(e,t){return{eventCache:e,serverCache:t}}function xl(e,t,n,r){return Dl(new Ll(t,n,r),e.serverCache)}function kl(e,t,n,r){return Dl(e.eventCache,new Ll(t,n,r))}function Ul(e){return e.eventCache.isFullyInitialized()?e.eventCache.getNode():null}function Yl(e){return e.serverCache.isFullyInitialized()?e.serverCache.getNode():null}var Gl=function(){return Nl||(Nl=new Fc(Nu)),Nl},Fl=function(){function e(t){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:Gl();En(this,e),this.value=t,this.children=n}return vn(e,[{key:"isEmpty",value:function(){return null===this.value&&this.children.isEmpty()}},{key:"findRootMostMatchingPathAndValue",value:function(e,t){if(null!=this.value&&t(this.value))return{path:fc(),value:this.value};if(Sc(e))return null;var n=pc(e),r=this.children.get(n);if(null!==r){var o=r.findRootMostMatchingPathAndValue(Ec(e),t);return null!=o?{path:_c(new dc(n),o.path),value:o.value}:null}return null}},{key:"findRootMostValueAndPath",value:function(e){return this.findRootMostMatchingPathAndValue(e,(function(){return!0}))}},{key:"subtree",value:function(t){if(Sc(t))return this;var n=pc(t),r=this.children.get(n);return null!==r?r.subtree(Ec(t)):new e(null)}},{key:"set",value:function(t,n){if(Sc(t))return new e(n,this.children);var r=pc(t),o=(this.children.get(r)||new e(null)).set(Ec(t),n),i=this.children.insert(r,o);return new e(this.value,i)}},{key:"remove",value:function(t){if(Sc(t))return this.children.isEmpty()?new e(null):new e(null,this.children);var n=pc(t),r=this.children.get(n);if(r){var o,i=r.remove(Ec(t));return o=i.isEmpty()?this.children.remove(n):this.children.insert(n,i),null===this.value&&o.isEmpty()?new e(null):new e(this.value,o)}return this}},{key:"get",value:function(e){if(Sc(e))return this.value;var t=pc(e),n=this.children.get(t);return n?n.get(Ec(e)):null}},{key:"setTree",value:function(t,n){if(Sc(t))return n;var r,o=pc(t),i=(this.children.get(o)||new e(null)).setTree(Ec(t),n);return r=i.isEmpty()?this.children.remove(o):this.children.insert(o,i),new e(this.value,r)}},{key:"fold",value:function(e){return this.fold_(fc(),e)}},{key:"fold_",value:function(e,t){var n={};return this.children.inorderTraversal((function(r,o){n[r]=o.fold_(_c(e,r),t)})),t(e,this.value,n)}},{key:"findOnPath",value:function(e,t){return this.findOnPath_(e,fc(),t)}},{key:"findOnPath_",value:function(e,t,n){var r=!!this.value&&n(t,this.value);if(r)return r;if(Sc(e))return null;var o=pc(e),i=this.children.get(o);return i?i.findOnPath_(Ec(e),_c(t,o),n):null}},{key:"foreachOnPath",value:function(e,t){return this.foreachOnPath_(e,fc(),t)}},{key:"foreachOnPath_",value:function(t,n,r){if(Sc(t))return this;this.value&&r(n,this.value);var o=pc(t),i=this.children.get(o);return i?i.foreachOnPath_(Ec(t),_c(n,o),r):new e(null)}},{key:"foreach",value:function(e){this.foreach_(fc(),e)}},{key:"foreach_",value:function(e,t){this.children.inorderTraversal((function(n,r){r.foreach_(_c(e,n),t)})),this.value&&t(e,this.value)}},{key:"foreachChild",value:function(e){this.children.inorderTraversal((function(t,n){n.value&&e(t,n.value)}))}}],[{key:"fromObject",value:function(t){var n=new e(null);return Lu(t,(function(e,t){n=n.set(new dc(e),t)})),n}}]),e}(),Kl=function(){function e(t){En(this,e),this.writeTree_=t}return vn(e,null,[{key:"empty",value:function(){return new e(new Fl(null))}}]),e}();function Bl(e,t,n){if(Sc(t))return new Kl(new Fl(n));var r=e.writeTree_.findRootMostValueAndPath(t);if(null!=r){var o=r.path,i=r.value,a=yc(o,t);return i=i.updateChild(a,n),new Kl(e.writeTree_.set(o,i))}var s=new Fl(n),u=e.writeTree_.setTree(t,s);return new Kl(u)}function jl(e,t,n){var r=e;return Lu(n,(function(e,n){r=Bl(r,_c(t,e),n)})),r}function Vl(e,t){if(Sc(t))return Kl.empty();var n=e.writeTree_.setTree(t,new Fl(null));return new Kl(n)}function Hl(e,t){return null!=Wl(e,t)}function Wl(e,t){var n=e.writeTree_.findRootMostValueAndPath(t);return null!=n?e.writeTree_.get(n.path).getChild(yc(n.path,t)):null}function Jl(e){var t=[],n=e.writeTree_.value;return null!=n?n.isLeafNode()||n.forEachChild($c,(function(e,n){t.push(new Lc(e,n))})):e.writeTree_.children.inorderTraversal((function(e,n){null!=n.value&&t.push(new Lc(e,n.value))})),t}function zl(e,t){if(Sc(t))return e;var n=Wl(e,t);return new Kl(null!=n?new Fl(n):e.writeTree_.subtree(t))}function ql(e){return e.writeTree_.isEmpty()}function Ql(e,t){return Xl(fc(),e.writeTree_,t)}function Xl(e,t,n){if(null!=t.value)return n.updateChild(e,t.value);var r=null;return t.children.inorderTraversal((function(t,o){".priority"===t?(ya(null!==o.value,"Priority writes must always be leaf nodes"),r=o.value):n=Xl(_c(e,t),o,n)})),n.getChild(e).isEmpty()||null===r||(n=n.updateChild(_c(e,".priority"),r)),n}function $l(e,t){return fd(t,e)}function Zl(e,t){for(var n=0;n<e.allWrites.length;n++){var r=e.allWrites[n];if(r.writeId===t)return r}return null}function ed(e,t){var n=e.allWrites.findIndex((function(e){return e.writeId===t}));ya(n>=0,"removeWrite called with nonexistent writeId.");var r=e.allWrites[n];e.allWrites.splice(n,1);for(var o=r.visible,i=!1,a=e.allWrites.length-1;o&&a>=0;){var s=e.allWrites[a];s.visible&&(a>=n&&td(s,r.path)?o=!1:Ic(r.path,s.path)&&(i=!0)),a--}if(o){if(i)return function(e){e.visibleWrites=rd(e.allWrites,nd,fc()),e.allWrites.length>0?e.lastWriteId=e.allWrites[e.allWrites.length-1].writeId:e.lastWriteId=-1}(e),!0;r.snap?e.visibleWrites=Vl(e.visibleWrites,r.path):Lu(r.children,(function(t){e.visibleWrites=Vl(e.visibleWrites,_c(r.path,t))}));return!0}return!1}function td(e,t){if(e.snap)return Ic(e.path,t);for(var n in e.children)if(e.children.hasOwnProperty(n)&&Ic(_c(e.path,n),t))return!0;return!1}function nd(e){return e.visible}function rd(e,t,n){for(var r=Kl.empty(),o=0;o<e.length;++o){var i=e[o];if(t(i)){var a=i.path,s=void 0;if(i.snap)Ic(n,a)?r=Bl(r,s=yc(n,a),i.snap):Ic(a,n)&&(s=yc(a,n),r=Bl(r,fc(),i.snap.getChild(s)));else{if(!i.children)throw Ca("WriteRecord should have .snap or .children");if(Ic(n,a))r=jl(r,s=yc(n,a),i.children);else if(Ic(a,n))if(Sc(s=yc(a,n)))r=jl(r,fc(),i.children);else{var u=Ba(i.children,pc(s));if(u){var c=u.getChild(Ec(s));r=Bl(r,fc(),c)}}}}}return r}function od(e,t,n,r,o){if(r||o){var i=zl(e.visibleWrites,t);if(!o&&ql(i))return n;if(o||null!=n||Hl(i,fc())){var a=rd(e.allWrites,(function(e){return(e.visible||o)&&(!r||!~r.indexOf(e.writeId))&&(Ic(e.path,t)||Ic(t,e.path))}),t);return Ql(a,n||ol.EMPTY_NODE)}return null}var s=Wl(e.visibleWrites,t);if(null!=s)return s;var u=zl(e.visibleWrites,t);return ql(u)?n:null!=n||Hl(u,fc())?Ql(u,n||ol.EMPTY_NODE):null}function id(e,t,n,r){return od(e.writeTree,e.treePath,t,n,r)}function ad(e,t){return function(e,t,n){var r=ol.EMPTY_NODE,o=Wl(e.visibleWrites,t);if(o)return o.isLeafNode()||o.forEachChild($c,(function(e,t){r=r.updateImmediateChild(e,t)})),r;if(n){var i=zl(e.visibleWrites,t);return n.forEachChild($c,(function(e,t){var n=Ql(zl(i,new dc(e)),t);r=r.updateImmediateChild(e,n)})),Jl(i).forEach((function(e){r=r.updateImmediateChild(e.name,e.node)})),r}return Jl(zl(e.visibleWrites,t)).forEach((function(e){r=r.updateImmediateChild(e.name,e.node)})),r}(e.writeTree,e.treePath,t)}function sd(e,t,n,r){return function(e,t,n,r,o){ya(r||o,"Either existingEventSnap or existingServerSnap must exist");var i=_c(t,n);if(Hl(e.visibleWrites,i))return null;var a=zl(e.visibleWrites,i);return ql(a)?o.getChild(n):Ql(a,o.getChild(n))}(e.writeTree,e.treePath,t,n,r)}function ud(e,t){return function(e,t){return Wl(e.visibleWrites,t)}(e.writeTree,_c(e.treePath,t))}function cd(e,t,n,r,o,i){return function(e,t,n,r,o,i,a){var s,u=zl(e.visibleWrites,t),c=Wl(u,fc());if(null!=c)s=c;else{if(null==n)return[];s=Ql(u,n)}if((s=s.withIndex(a)).isEmpty()||s.isLeafNode())return[];for(var l=[],d=a.getCompare(),f=i?s.getReverseIteratorFrom(r,a):s.getIteratorFrom(r,a),p=f.getNext();p&&l.length<o;)0!==d(p,r)&&l.push(p),p=f.getNext();return l}(e.writeTree,e.treePath,t,n,r,o,i)}function ld(e,t,n){return function(e,t,n,r){var o=_c(t,n),i=Wl(e.visibleWrites,o);return null!=i?i:r.isCompleteForChild(n)?Ql(zl(e.visibleWrites,o),r.getNode().getImmediateChild(n)):null}(e.writeTree,e.treePath,t,n)}function dd(e,t){return fd(_c(e.treePath,t),e.writeTree)}function fd(e,t){return{treePath:e,writeTree:t}}var pd=function(){function e(){En(this,e),this.changeMap=new Map}return vn(e,[{key:"trackChildChange",value:function(e){var t=e.type,n=e.childName;ya("child_added"===t||"child_changed"===t||"child_removed"===t,"Only child changes supported for tracking"),ya(".priority"!==n,"Only non-priority child changes can be tracked.");var r=this.changeMap.get(n);if(r){var o=r.type;if("child_added"===t&&"child_removed"===o)this.changeMap.set(n,El(n,e.snapshotNode,r.snapshotNode));else if("child_removed"===t&&"child_added"===o)this.changeMap.delete(n);else if("child_removed"===t&&"child_changed"===o)this.changeMap.set(n,hl(n,r.oldSnap));else if("child_changed"===t&&"child_added"===o)this.changeMap.set(n,pl(n,e.snapshotNode));else{if("child_changed"!==t||"child_changed"!==o)throw Ca("Illegal combination of changes: "+e+" occurred after "+r);this.changeMap.set(n,El(n,e.snapshotNode,r.oldSnap))}}else this.changeMap.set(n,e)}},{key:"getChanges",value:function(){return Array.from(this.changeMap.values())}}]),e}(),hd=new(function(){function e(){En(this,e)}return vn(e,[{key:"getCompleteChild",value:function(e){return null}},{key:"getChildAfterChild",value:function(e,t,n){return null}}]),e}()),Ed=function(){function e(t,n){var r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:null;En(this,e),this.writes_=t,this.viewCache_=n,this.optCompleteServerCache_=r}return vn(e,[{key:"getCompleteChild",value:function(e){var t=this.viewCache_.eventCache;if(t.isCompleteForChild(e))return t.getNode().getImmediateChild(e);var n=null!=this.optCompleteServerCache_?new Ll(this.optCompleteServerCache_,!0,!1):this.viewCache_.serverCache;return ld(this.writes_,e,n)}},{key:"getChildAfterChild",value:function(e,t,n){var r=null!=this.optCompleteServerCache_?this.optCompleteServerCache_:Yl(this.viewCache_),o=cd(this.writes_,r,t,1,n,e);return 0===o.length?null:o[0]}}]),e}();function gd(e,t,n,r,o){var i,a,s=new pd;if(n.type===Il.OVERWRITE){var u=n;u.source.fromUser?i=_d(e,t,u.path,u.snap,r,o,s):(ya(u.source.fromServer,"Unknown source."),a=u.source.tagged||t.serverCache.isFiltered()&&!Sc(u.path),i=md(e,t,u.path,u.snap,r,o,a,s))}else if(n.type===Il.MERGE){var c=n;c.source.fromUser?i=function(e,t,n,r,o,i,a){var s=t;return r.foreach((function(r,u){var c=_c(n,r);Sd(t,pc(c))&&(s=_d(e,s,c,u,o,i,a))})),r.foreach((function(r,u){var c=_c(n,r);Sd(t,pc(c))||(s=_d(e,s,c,u,o,i,a))})),s}(e,t,c.path,c.children,r,o,s):(ya(c.source.fromServer,"Unknown source."),a=c.source.tagged||t.serverCache.isFiltered(),i=Cd(e,t,c.path,c.children,r,o,a,s))}else if(n.type===Il.ACK_USER_WRITE){var l=n;i=l.revert?function(e,t,n,r,o,i){var a;if(null!=ud(r,n))return t;var s,u=new Ed(r,t,o),c=t.eventCache.getNode();if(Sc(n)||".priority"===pc(n)){var l;if(t.serverCache.isFullyInitialized())l=id(r,Yl(t));else{var d=t.serverCache.getNode();ya(d instanceof ol,"serverChildren would be complete if leaf node"),l=ad(r,d)}s=e.filter.updateFullNode(c,l,i)}else{var f=pc(n),p=ld(r,f,t.serverCache);null==p&&t.serverCache.isCompleteForChild(f)&&(p=c.getImmediateChild(f)),(s=null!=p?e.filter.updateChild(c,f,p,Ec(n),u,i):t.eventCache.getNode().hasChild(f)?e.filter.updateChild(c,f,ol.EMPTY_NODE,Ec(n),u,i):c).isEmpty()&&t.serverCache.isFullyInitialized()&&(a=id(r,Yl(t))).isLeafNode()&&(s=e.filter.updateFullNode(s,a,i))}return a=t.serverCache.isFullyInitialized()||null!=ud(r,fc()),xl(t,s,a,e.filter.filtersNodes())}(e,t,l.path,r,o,s):function(e,t,n,r,o,i,a){if(null!=ud(o,n))return t;var s=t.serverCache.isFiltered(),u=t.serverCache;if(null!=r.value){if(Sc(n)&&u.isFullyInitialized()||u.isCompleteForPath(n))return md(e,t,n,u.getNode().getChild(n),o,i,s,a);if(Sc(n)){var c=new Fl(null);return u.getNode().forEachChild(xc,(function(e,t){c=c.set(new dc(e),t)})),Cd(e,t,n,c,o,i,s,a)}return t}var l=new Fl(null);return r.foreach((function(e,t){var r=_c(n,e);u.isCompleteForPath(r)&&(l=l.set(e,u.getNode().getChild(r)))})),Cd(e,t,n,l,o,i,s,a)}(e,t,l.path,l.affectedTree,r,o,s)}else{if(n.type!==Il.LISTEN_COMPLETE)throw Ca("Unknown operation type: "+n.type);i=function(e,t,n,r,o){var i=t.serverCache,a=kl(t,i.getNode(),i.isFullyInitialized()||Sc(n),i.isFiltered());return vd(e,a,n,r,hd,o)}(e,t,n.path,r,s)}var d=s.getChanges();return function(e,t,n){var r=t.eventCache;if(r.isFullyInitialized()){var o=r.getNode().isLeafNode()||r.getNode().isEmpty(),i=Ul(e);(n.length>0||!e.eventCache.isFullyInitialized()||o&&!r.getNode().equals(i)||!r.getNode().getPriority().equals(i.getPriority()))&&n.push(fl(Ul(t)))}}(t,i,d),{viewCache:i,changes:d}}function vd(e,t,n,r,o,i){var a,s,u=t.eventCache;if(null!=ud(r,n))return t;if(Sc(n))if(ya(t.serverCache.isFullyInitialized(),"If change path is empty, we must have complete server data"),t.serverCache.isFiltered()){var c=Yl(t),l=ad(r,c instanceof ol?c:ol.EMPTY_NODE);a=e.filter.updateFullNode(t.eventCache.getNode(),l,i)}else{var d=id(r,Yl(t));a=e.filter.updateFullNode(t.eventCache.getNode(),d,i)}else{var f=pc(n);if(".priority"===f){ya(1===hc(n),"Can't have a priority with additional path components");var p=u.getNode(),h=sd(r,n,p,s=t.serverCache.getNode());a=null!=h?e.filter.updatePriority(p,h):u.getNode()}else{var E,g=Ec(n);if(u.isCompleteForChild(f)){s=t.serverCache.getNode();var v=sd(r,n,u.getNode(),s);E=null!=v?u.getNode().getImmediateChild(f).updateChild(g,v):u.getNode().getImmediateChild(f)}else E=ld(r,f,t.serverCache);a=null!=E?e.filter.updateChild(u.getNode(),f,E,g,o,i):u.getNode()}}return xl(t,a,u.isFullyInitialized()||Sc(n),e.filter.filtersNodes())}function md(e,t,n,r,o,i,a,s){var u,c=t.serverCache,l=a?e.filter:e.filter.getIndexedFilter();if(Sc(n))u=l.updateFullNode(c.getNode(),r,null);else if(l.filtersNodes()&&!c.isFiltered()){var d=c.getNode().updateChild(n,r);u=l.updateFullNode(c.getNode(),d,null)}else{var f=pc(n);if(!c.isCompleteForPath(n)&&hc(n)>1)return t;var p=Ec(n),h=c.getNode().getImmediateChild(f).updateChild(p,r);u=".priority"===f?l.updatePriority(c.getNode(),h):l.updateChild(c.getNode(),f,h,p,hd,null)}var E=kl(t,u,c.isFullyInitialized()||Sc(n),l.filtersNodes());return vd(e,E,n,o,new Ed(o,E,i),s)}function _d(e,t,n,r,o,i,a){var s,u,c=t.eventCache,l=new Ed(o,t,i);if(Sc(n))u=e.filter.updateFullNode(t.eventCache.getNode(),r,a),s=xl(t,u,!0,e.filter.filtersNodes());else{var d=pc(n);if(".priority"===d)u=e.filter.updatePriority(t.eventCache.getNode(),r),s=xl(t,u,c.isFullyInitialized(),c.isFiltered());else{var f,p=Ec(n),h=c.getNode().getImmediateChild(d);if(Sc(p))f=r;else{var E=l.getCompleteChild(d);f=null!=E?".priority"===gc(p)&&E.getChild(mc(p)).isEmpty()?E:E.updateChild(p,r):ol.EMPTY_NODE}if(h.equals(f))s=t;else s=xl(t,e.filter.updateChild(c.getNode(),d,f,p,l,a),c.isFullyInitialized(),e.filter.filtersNodes())}}return s}function Sd(e,t){return e.eventCache.isCompleteForChild(t)}function yd(e,t,n){return n.foreach((function(e,n){t=t.updateChild(e,n)})),t}function Cd(e,t,n,r,o,i,a,s){if(t.serverCache.getNode().isEmpty()&&!t.serverCache.isFullyInitialized())return t;var u,c=t;u=Sc(n)?r:new Fl(null).setTree(n,r);var l=t.serverCache.getNode();return u.children.inorderTraversal((function(n,r){if(l.hasChild(n)){var u=yd(0,t.serverCache.getNode().getImmediateChild(n),r);c=md(e,c,new dc(n),u,o,i,a,s)}})),u.children.inorderTraversal((function(n,r){var u=!t.serverCache.isCompleteForChild(n)&&void 0===r.value;if(!l.hasChild(n)&&!u){var d=yd(0,t.serverCache.getNode().getImmediateChild(n),r);c=md(e,c,new dc(n),d,o,i,a,s)}})),c}var Td;function Id(e,t){var n=Yl(e.viewCache_);return n&&(e.query._queryParams.loadsAllData()||!Sc(t)&&!n.getImmediateChild(pc(t)).isEmpty())?n.getChild(t):null}function Ad(e,t,n,r){t.type===Il.MERGE&&null!==t.source.queryId&&(ya(Yl(e.viewCache_),"We should always have a full cache before handling merges"),ya(Ul(e.viewCache_),"Missing event cache, even though we have a server cache"));var o,i,a=e.viewCache_,s=gd(e.processor_,a,t,n,r);return o=e.processor_,i=s.viewCache,ya(i.eventCache.getNode().isIndexed(o.filter.getIndex()),"Event snap not indexed"),ya(i.serverCache.getNode().isIndexed(o.filter.getIndex()),"Server snap not indexed"),ya(s.viewCache.serverCache.isFullyInitialized()||!a.serverCache.isFullyInitialized(),"Once a server snap is complete, it should never go back"),e.viewCache_=s.viewCache,Rd(e,s.changes,s.viewCache.eventCache.getNode(),null)}function Rd(e,t,n,r){var o=r?[r]:e.eventRegistrations_;return function(e,t,n,r){var o=[],i=[];return t.forEach((function(t){var n;"child_changed"===t.type&&e.index_.indexedValueChanged(t.oldSnap,t.snapshotNode)&&i.push((n=t.childName,{type:"child_moved",snapshotNode:t.snapshotNode,childName:n}))})),Ml(e,o,"child_removed",t,r,n),Ml(e,o,"child_added",t,r,n),Ml(e,o,"child_moved",i,r,n),Ml(e,o,"child_changed",t,r,n),Ml(e,o,"value",t,r,n),o}(e.eventGenerator_,t,n,o)}var Od;function Nd(e,t,n,r){var o=t.source.queryId;if(null!==o){var i=e.views.get(o);return ya(null!=i,"SyncTree gave us an op for an invalid query."),Ad(i,t,n,r)}var a,s=[],u=wr(e.views.values());try{for(u.s();!(a=u.n()).done;){var c=a.value;s=s.concat(Ad(c,t,n,r))}}catch(l){u.e(l)}finally{u.f()}return s}function bd(e,t){var n,r=null,o=wr(e.views.values());try{for(o.s();!(n=o.n()).done;){var i=n.value;r=r||Id(i,t)}}catch(a){o.e(a)}finally{o.f()}return r}var wd=vn((function e(t){En(this,e),this.listenProvider_=t,this.syncPointTree_=new Fl(null),this.pendingWriteTree_={visibleWrites:Kl.empty(),allWrites:[],lastWriteId:-1},this.tagToQueryMap=new Map,this.queryToTagMap=new Map}));function Pd(e,t,n,r,o){return function(e,t,n,r,o){ya(r>e.lastWriteId,"Stacking an older write on top of newer ones"),void 0===o&&(o=!0),e.allWrites.push({path:t,snap:n,writeId:r,visible:o}),o&&(e.visibleWrites=Bl(e.visibleWrites,t,n)),e.lastWriteId=r}(e.pendingWriteTree_,t,n,r,o),o?Ud(e,new wl({fromUser:!0,fromServer:!1,queryId:null,tagged:!1},t,n)):[]}function Ld(e,t,n,r){!function(e,t,n,r){ya(r>e.lastWriteId,"Stacking an older merge on top of newer ones"),e.allWrites.push({path:t,children:n,writeId:r,visible:!0}),e.visibleWrites=jl(e.visibleWrites,t,n),e.lastWriteId=r}(e.pendingWriteTree_,t,n,r);var o=Fl.fromObject(n);return Ud(e,new Pl({fromUser:!0,fromServer:!1,queryId:null,tagged:!1},t,o))}function Md(e,t){var n=arguments.length>2&&void 0!==arguments[2]&&arguments[2],r=Zl(e.pendingWriteTree_,t),o=ed(e.pendingWriteTree_,t);if(o){var i=new Fl(null);return null!=r.snap?i=i.set(fc(),!0):Lu(r.children,(function(e){i=i.set(new dc(e),!0)})),Ud(e,new bl(r.path,i,n))}return[]}function Dd(e,t,n){return Ud(e,new wl({fromUser:!1,fromServer:!0,queryId:null,tagged:!1},t,n))}function xd(e,t,n,r){var o=Fd(e,r);if(null!=o){var i=Kd(o),a=i.path,s=i.queryId,u=yc(a,t);return Bd(e,a,new wl(Ol(s),u,n))}return[]}function kd(e,t,n){var r=e.pendingWriteTree_,o=e.syncPointTree_.findOnPath(t,(function(e,n){var r=bd(n,yc(e,t));if(r)return r}));return od(r,t,o,n,!0)}function Ud(e,t){return Yd(t,e.syncPointTree_,null,$l(e.pendingWriteTree_,fc()))}function Yd(e,t,n,r){if(Sc(e.path))return Gd(e,t,n,r);var o=t.get(fc());null==n&&null!=o&&(n=bd(o,fc()));var i=[],a=pc(e.path),s=e.operationForChild(a),u=t.children.get(a);if(u&&s){var c=n?n.getImmediateChild(a):null,l=dd(r,a);i=i.concat(Yd(s,u,c,l))}return o&&(i=i.concat(Nd(o,e,r,n))),i}function Gd(e,t,n,r){var o=t.get(fc());null==n&&null!=o&&(n=bd(o,fc()));var i=[];return t.children.inorderTraversal((function(t,o){var a=n?n.getImmediateChild(t):null,s=dd(r,t),u=e.operationForChild(t);u&&(i=i.concat(Gd(u,o,a,s)))})),o&&(i=i.concat(Nd(o,e,r,n))),i}function Fd(e,t){return e.tagToQueryMap.get(t)}function Kd(e){var t=e.indexOf("$");return ya(-1!==t&&t<e.length-1,"Bad queryKey."),{queryId:e.substr(t+1),path:new dc(e.substr(0,t))}}function Bd(e,t,n){var r=e.syncPointTree_.get(t);return ya(r,"Missing sync point for query tag that we're tracking"),Nd(r,n,$l(e.pendingWriteTree_,t),null)}var jd=function(){function e(t){En(this,e),this.node_=t}return vn(e,[{key:"getImmediateChild",value:function(t){return new e(this.node_.getImmediateChild(t))}},{key:"node",value:function(){return this.node_}}]),e}(),Vd=function(){function e(t,n){En(this,e),this.syncTree_=t,this.path_=n}return vn(e,[{key:"getImmediateChild",value:function(t){var n=_c(this.path_,t);return new e(this.syncTree_,n)}},{key:"node",value:function(){return kd(this.syncTree_,this.path_)}}]),e}(),Hd=function(e,t,n){return e&&"object"===typeof e?(ya(".sv"in e,"Unexpected leaf node or priority contents"),"string"===typeof e[".sv"]?Wd(e[".sv"],t,n):"object"===typeof e[".sv"]?Jd(e[".sv"],t):void ya(!1,"Unexpected server value: "+JSON.stringify(e,null,2))):e},Wd=function(e,t,n){if("timestamp"===e)return n.timestamp;ya(!1,"Unexpected server value: "+e)},Jd=function(e,t,n){e.hasOwnProperty("increment")||ya(!1,"Unexpected server value: "+JSON.stringify(e,null,2));var r=e.increment;"number"!==typeof r&&ya(!1,"Unexpected increment value: "+r);var o=t.node();if(ya(null!==o&&"undefined"!==typeof o,"Expected ChildrenNode.EMPTY_NODE for nulls"),!o.isLeafNode())return r;var i=o.getValue();return"number"!==typeof i?r:i+r},zd=function(e,t,n,r){return Qd(t,new Vd(n,e),r)},qd=function(e,t,n){return Qd(e,new jd(t),n)};function Qd(e,t,n){var r,o=e.getPriority().val(),i=Hd(o,t.getImmediateChild(".priority"),n);if(e.isLeafNode()){var a=e,s=Hd(a.getValue(),t,n);return s!==a.getValue()||i!==a.getPriority().val()?new zc(s,al(i)):e}var u=e;return r=u,i!==u.getPriority().val()&&(r=r.updatePriority(new zc(i))),u.forEachChild($c,(function(e,o){var i=Qd(o,t.getImmediateChild(e),n);i!==o&&(r=r.updateImmediateChild(e,i))})),r}var Xd=vn((function e(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"",n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null,r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{children:{},childCount:0};En(this,e),this.name=t,this.parent=n,this.node=r}));function $d(e,t){for(var n=t instanceof dc?t:new dc(t),r=e,o=pc(n);null!==o;){var i=Ba(r.node.children,o)||{children:{},childCount:0};r=new Xd(o,r,i),o=pc(n=Ec(n))}return r}function Zd(e){return e.node.value}function ef(e,t){e.node.value=t,af(e)}function tf(e){return e.node.childCount>0}function nf(e,t){Lu(e.node.children,(function(n,r){t(new Xd(n,e,r))}))}function rf(e,t,n,r){n&&!r&&t(e),nf(e,(function(e){rf(e,t,!0,r)})),n&&r&&t(e)}function of(e){return new dc(null===e.parent?e.name:of(e.parent)+"/"+e.name)}function af(e){null!==e.parent&&function(e,t,n){var r=function(e){return void 0===Zd(e)&&!tf(e)}(n),o=Ka(e.node.children,t);r&&o?(delete e.node.children[t],e.node.childCount--,af(e)):r||o||(e.node.children[t]=n.node,e.node.childCount++,af(e))}(e.parent,e.name,e)}var sf=/[\[\].#$\/\u0000-\u001F\u007F]/,uf=/[\[\].#$\u0000-\u001F\u007F]/,cf=10485760,lf=function(e){return"string"===typeof e&&0!==e.length&&!sf.test(e)},df=function(e){return"string"===typeof e&&0!==e.length&&!uf.test(e)},ff=function(e){return null===e||"string"===typeof e||"number"===typeof e&&!Iu(e)||e&&"object"===typeof e&&Ka(e,".sv")},pf=function(e,t,n,r){r&&void 0===t||hf(qa(e,"value"),t,n)},hf=function e(t,n,r){var o=r instanceof dc?new Ac(r,t):r;if(void 0===n)throw new Error(t+"contains undefined "+Oc(o));if("function"===typeof n)throw new Error(t+"contains a function "+Oc(o)+" with contents = "+n.toString());if(Iu(n))throw new Error(t+"contains "+n.toString()+" "+Oc(o));if("string"===typeof n&&n.length>cf/3&&Qa(n)>cf)throw new Error(t+"contains a string greater than "+"10485760 utf8 bytes "+Oc(o)+" ('"+n.substring(0,50)+"...')");if(n&&"object"===typeof n){var i=!1,a=!1;if(Lu(n,(function(n,r){if(".value"===n)i=!0;else if(".priority"!==n&&".sv"!==n&&(a=!0,!lf(n)))throw new Error(t+" contains an invalid key ("+n+") "+Oc(o)+'.  Keys must be non-empty strings and can\'t contain ".", "#", "$", "/", "[", or "]"');var s,u;u=n,(s=o).parts_.length>0&&(s.byteLength_+=1),s.parts_.push(u),s.byteLength_+=Qa(u),Rc(s),e(t,r,o),function(e){var t=e.parts_.pop();e.byteLength_-=Qa(t),e.parts_.length>0&&(e.byteLength_-=1)}(o)})),i&&a)throw new Error(t+' contains ".value" child '+Oc(o)+" in addition to actual children.")}},Ef=function(e,t,n,r){if(!r||void 0!==t){var o=qa(e,"values");if(!t||"object"!==typeof t||Array.isArray(t))throw new Error(o+" must be an object containing the children to replace.");var i=[];Lu(t,(function(e,t){var r=new dc(e);if(hf(o,t,_c(n,r)),".priority"===gc(r)&&!ff(t))throw new Error(o+"contains an invalid value for '"+r.toString()+"', which must be a valid Firebase priority (a string, finite number, server value, or null).");i.push(r)})),function(e,t){var n,r;for(n=0;n<t.length;n++)for(var o=vc(r=t[n]),i=0;i<o.length;i++)if(".priority"===o[i]&&i===o.length-1);else if(!lf(o[i]))throw new Error(e+"contains an invalid key ("+o[i]+") in path "+r.toString()+'. Keys must be non-empty strings and can\'t contain ".", "#", "$", "/", "[", or "]"');t.sort(Cc);var a=null;for(n=0;n<t.length;n++){if(r=t[n],null!==a&&Ic(a,r))throw new Error(e+"contains a path "+a.toString()+" that is ancestor of another path "+r.toString());a=r}}(o,i)}},gf=function(e,t,n,r){if((!r||void 0!==n)&&!df(n))throw new Error(qa(e,t)+'was an invalid path = "'+n+'". Paths must be non-empty strings and can\'t contain ".", "#", "$", "[", or "]"')},vf=function(e,t){if(".info"===pc(t))throw new Error(e+" failed = Can't modify data under /.info/")},mf=function(e,t){var n=t.path.toString();if("string"!==typeof t.repoInfo.host||0===t.repoInfo.host.length||!lf(t.repoInfo.namespace)&&"localhost"!==t.repoInfo.host.split(":")[0]||0!==n.length&&!function(e){return e&&(e=e.replace(/^\/*\.info(\/|$)/,"/")),df(e)}(n))throw new Error(qa(e,"url")+'must be a valid firebase URL and the path can\'t contain ".", "#", "$", "[", or "]".')},_f=vn((function e(){En(this,e),this.eventLists_=[],this.recursionDepth_=0}));function Sf(e,t){for(var n=null,r=0;r<t.length;r++){var o=t[r],i=o.getPath();null===n||Tc(i,n.path)||(e.eventLists_.push(n),n=null),null===n&&(n={events:[],path:i}),n.events.push(o)}n&&e.eventLists_.push(n)}function yf(e,t,n){Sf(e,n),Cf(e,(function(e){return Ic(e,t)||Ic(t,e)}))}function Cf(e,t){e.recursionDepth_++;for(var n=!0,r=0;r<e.eventLists_.length;r++){var o=e.eventLists_[r];if(o)t(o.path)?(Tf(e.eventLists_[r]),e.eventLists_[r]=null):n=!1}n&&(e.eventLists_=[]),e.recursionDepth_--}function Tf(e){for(var t=0;t<e.events.length;t++){var n=e.events[t];if(null!==n){e.events[t]=null;var r=n.getEventRunner();gu&&_u("event: "+n.toString()),Yu(r)}}}var If="repo_interrupt",Af=function(){function e(t,n,r,o){En(this,e),this.repoInfo_=t,this.forceRestClient_=n,this.authTokenProvider_=r,this.appCheckProvider_=o,this.dataUpdateCount=0,this.statsListener_=null,this.eventQueue_=new _f,this.nextWriteId_=1,this.interceptServerDataCallback_=null,this.onDisconnect_=yl(),this.transactionQueueTree_=new Xd,this.persistentConnection_=null,this.key=this.repoInfo_.toURLString()}return vn(e,[{key:"toString",value:function(){return(this.repoInfo_.secure?"https://":"http://")+this.repoInfo_.host}}]),e}();function Rf(e,t,n){if(e.stats_=$u(e.repoInfo_),e.forceRestClient_||("object"===typeof window&&window.navigator&&window.navigator.userAgent||"").search(/googlebot|google webmaster tools|bingbot|yahoo! slurp|baiduspider|yandexbot|duckduckbot/i)>=0)e.server_=new _l(e.repoInfo_,(function(t,n,r,o){bf(e,t,n,r,o)}),e.authTokenProvider_,e.appCheckProvider_),setTimeout((function(){return wf(e,!0)}),0);else{if("undefined"!==typeof n&&null!==n){if("object"!==typeof n)throw new Error("Only objects are supported for option databaseAuthVariableOverride");try{Ga(n)}catch(Cp){throw new Error("Invalid authOverride provided: "+Cp)}}e.persistentConnection_=new wc(e.repoInfo_,t,(function(t,n,r,o){bf(e,t,n,r,o)}),(function(t){wf(e,t)}),(function(t){!function(e,t){Lu(t,(function(t,n){Pf(e,t,n)}))}(e,t)}),e.authTokenProvider_,e.appCheckProvider_,n),e.server_=e.persistentConnection_}e.authTokenProvider_.addTokenChangeListener((function(t){e.server_.refreshAuthToken(t)})),e.appCheckProvider_.addTokenChangeListener((function(t){e.server_.refreshAppCheckToken(t.token)})),e.statsReporter_=function(e,t){var n=e.toString();return Xu[n]||(Xu[n]=t()),Xu[n]}(e.repoInfo_,(function(){return new Rl(e.stats_,e.server_)})),e.infoData_=new Sl,e.infoSyncTree_=new wd({startListening:function(t,n,r,o){var i=[],a=e.infoData_.getNode(t._path);return a.isEmpty()||(i=Dd(e.infoSyncTree_,t._path,a),setTimeout((function(){o("ok")}),0)),i},stopListening:function(){}}),Pf(e,"connected",!1),e.serverSyncTree_=new wd({startListening:function(t,n,r,o){return e.server_.listen(t,r,n,(function(n,r){var i=o(n,r);yf(e.eventQueue_,t._path,i)})),[]},stopListening:function(t,n){e.server_.unlisten(t,n)}})}function Of(e){var t=e.infoData_.getNode(new dc(".info/serverTimeOffset")).val()||0;return(new Date).getTime()+t}function Nf(e){return(t=(t={timestamp:Of(e)})||{}).timestamp=t.timestamp||(new Date).getTime(),t;var t}function bf(e,t,n,r,o){e.dataUpdateCount++;var i=new dc(t);n=e.interceptServerDataCallback_?e.interceptServerDataCallback_(t,n):n;var a=[];if(o)if(r){var s=Va(n,(function(e){return al(e)}));a=function(e,t,n,r){var o=Fd(e,r);if(o){var i=Kd(o),a=i.path,s=i.queryId,u=yc(a,t),c=Fl.fromObject(n);return Bd(e,a,new Pl(Ol(s),u,c))}return[]}(e.serverSyncTree_,i,s,o)}else{var u=al(n);a=xd(e.serverSyncTree_,i,u,o)}else if(r){var c=Va(n,(function(e){return al(e)}));a=function(e,t,n){var r=Fl.fromObject(n);return Ud(e,new Pl({fromUser:!1,fromServer:!0,queryId:null,tagged:!1},t,r))}(e.serverSyncTree_,i,c)}else{var l=al(n);a=Dd(e.serverSyncTree_,i,l)}var d=i;a.length>0&&(d=Ff(e,i)),yf(e.eventQueue_,d,a)}function wf(e,t){Pf(e,"connected",t),!1===t&&function(e){xf(e,"onDisconnectEvents");var t=Nf(e),n=yl();Tl(e.onDisconnect_,fc(),(function(r,o){var i=zd(r,o,e.serverSyncTree_,t);Cl(n,r,i)}));var r=[];Tl(n,fc(),(function(t,n){r=r.concat(Dd(e.serverSyncTree_,t,n));var o=Hf(e,t);Ff(e,o)})),e.onDisconnect_=yl(),yf(e.eventQueue_,fc(),r)}(e)}function Pf(e,t,n){var r=new dc("/.info/"+t),o=al(n);e.infoData_.updateSnapshot(r,o);var i=Dd(e.infoSyncTree_,r,o);yf(e.eventQueue_,r,i)}function Lf(e){return e.nextWriteId_++}function Mf(e,t,n,r,o){xf(e,"set",{path:t.toString(),value:n,priority:r});var i=Nf(e),a=al(n,r),s=kd(e.serverSyncTree_,t),u=qd(a,s,i),c=Lf(e),l=Pd(e.serverSyncTree_,t,u,c,!0);Sf(e.eventQueue_,l),e.server_.put(t.toString(),a.val(!0),(function(n,r){var i="ok"===n;i||Tu("set at "+t+" failed: "+n);var a=Md(e.serverSyncTree_,c,!i);yf(e.eventQueue_,t,a),kf(e,o,n,r)}));var d=Hf(e,t);Ff(e,d),yf(e.eventQueue_,d,[])}function Df(e){e.persistentConnection_&&e.persistentConnection_.interrupt(If)}function xf(e){var t="";e.persistentConnection_&&(t=e.persistentConnection_.id+":");for(var n=arguments.length,r=new Array(n>1?n-1:0),o=1;o<n;o++)r[o-1]=arguments[o];_u.apply(void 0,[t].concat(r))}function kf(e,t,n,r){t&&Yu((function(){if("ok"===n)t(null);else{var e=(n||"error").toUpperCase(),o=e;r&&(o+=": "+r);var i=new Error(o);i.code=e,t(i)}}))}function Uf(e,t,n){return kd(e.serverSyncTree_,t,n)||ol.EMPTY_NODE}function Yf(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:e.transactionQueueTree_;if(t||Vf(e,t),Zd(t)){var n=Bf(e,t);ya(n.length>0,"Sending zero length transaction queue");var r=n.every((function(e){return 0===e.status}));r&&Gf(e,of(t),n)}else tf(t)&&nf(t,(function(t){Yf(e,t)}))}function Gf(e,t,n){for(var r=n.map((function(e){return e.currentWriteId})),o=Uf(e,t,r),i=o,a=o.hash(),s=0;s<n.length;s++){var u=n[s];ya(0===u.status,"tryToSendTransactionQueue_: items in queue should all be run."),u.status=1,u.retryCount++;var c=yc(t,u.path);i=i.updateChild(c,u.currentOutputSnapshotRaw)}var l=i.val(!0),d=t;e.server_.put(d.toString(),l,(function(r){xf(e,"transaction put response",{path:d.toString(),status:r});var o=[];if("ok"===r){for(var i=[],a=function(t){n[t].status=2,o=o.concat(Md(e.serverSyncTree_,n[t].currentWriteId)),n[t].onComplete&&i.push((function(){return n[t].onComplete(null,!0,n[t].currentOutputSnapshotResolved)})),n[t].unwatcher()},s=0;s<n.length;s++)a(s);Vf(e,$d(e.transactionQueueTree_,t)),Yf(e,e.transactionQueueTree_),yf(e.eventQueue_,t,o);for(var u=0;u<i.length;u++)Yu(i[u])}else{if("datastale"===r)for(var c=0;c<n.length;c++)3===n[c].status?n[c].status=4:n[c].status=0;else{Tu("transaction at "+d.toString()+" failed: "+r);for(var l=0;l<n.length;l++)n[l].status=4,n[l].abortReason=r}Ff(e,t)}}),a)}function Ff(e,t){var n=Kf(e,t),r=of(n);return function(e,t,n){if(0===t.length)return;for(var r=[],o=[],i=t.filter((function(e){return 0===e.status})).map((function(e){return e.currentWriteId})),a=function(a){var s,u=t[a],c=yc(n,u.path),l=!1,d=void 0;if(ya(null!==c,"rerunTransactionsUnderNode_: relativePath should not be null."),4===u.status)l=!0,d=u.abortReason,o=o.concat(Md(e.serverSyncTree_,u.currentWriteId,!0));else if(0===u.status)if(u.retryCount>=25)l=!0,d="maxretry",o=o.concat(Md(e.serverSyncTree_,u.currentWriteId,!0));else{var f=Uf(e,u.path,i);u.currentInputSnapshot=f;var p=t[a].update(f.val());if(void 0!==p){hf("transaction failed: Data returned ",p,u.path);var h=al(p);"object"===typeof p&&null!=p&&Ka(p,".priority")||(h=h.updatePriority(f.getPriority()));var E=u.currentWriteId,g=Nf(e),v=qd(h,f,g);u.currentOutputSnapshotRaw=h,u.currentOutputSnapshotResolved=v,u.currentWriteId=Lf(e),i.splice(i.indexOf(E),1),o=(o=o.concat(Pd(e.serverSyncTree_,u.path,v,u.currentWriteId,u.applyLocally))).concat(Md(e.serverSyncTree_,E,!0))}else l=!0,d="nodata",o=o.concat(Md(e.serverSyncTree_,u.currentWriteId,!0))}yf(e.eventQueue_,n,o),o=[],l&&(t[a].status=2,s=t[a].unwatcher,setTimeout(s,Math.floor(0)),t[a].onComplete&&("nodata"===d?r.push((function(){return t[a].onComplete(null,!1,t[a].currentInputSnapshot)})):r.push((function(){return t[a].onComplete(new Error(d),!1,null)}))))},s=0;s<t.length;s++)a(s);Vf(e,e.transactionQueueTree_);for(var u=0;u<r.length;u++)Yu(r[u]);Yf(e,e.transactionQueueTree_)}(e,Bf(e,n),r),r}function Kf(e,t){var n,r=e.transactionQueueTree_;for(n=pc(t);null!==n&&void 0===Zd(r);)r=$d(r,n),n=pc(t=Ec(t));return r}function Bf(e,t){var n=[];return jf(e,t,n),n.sort((function(e,t){return e.order-t.order})),n}function jf(e,t,n){var r=Zd(t);if(r)for(var o=0;o<r.length;o++)n.push(r[o]);nf(t,(function(t){jf(e,t,n)}))}function Vf(e,t){var n=Zd(t);if(n){for(var r=0,o=0;o<n.length;o++)2!==n[o].status&&(n[r]=n[o],r++);n.length=r,ef(t,n.length>0?n:void 0)}nf(t,(function(t){Vf(e,t)}))}function Hf(e,t){var n=of(Kf(e,t)),r=$d(e.transactionQueueTree_,t);return function(e,t,n){for(var r=n?e:e.parent;null!==r;){if(t(r))return!0;r=r.parent}}(r,(function(t){Wf(e,t)})),Wf(e,r),rf(r,(function(t){Wf(e,t)})),n}function Wf(e,t){var n=Zd(t);if(n){for(var r=[],o=[],i=-1,a=0;a<n.length;a++)3===n[a].status||(1===n[a].status?(ya(i===a-1,"All SENT items should be at beginning of queue."),i=a,n[a].status=3,n[a].abortReason="set"):(ya(0===n[a].status,"Unexpected transaction status in abort"),n[a].unwatcher(),o=o.concat(Md(e.serverSyncTree_,n[a].currentWriteId,!0)),n[a].onComplete&&r.push(n[a].onComplete.bind(null,new Error("set"),!1,null))));-1===i?ef(t,void 0):n.length=i+1,yf(e.eventQueue_,of(t),o);for(var s=0;s<r.length;s++)Yu(r[s])}}var Jf=function(e,t){var n=zf(e),r=n.namespace;"firebase.com"===n.domain&&Cu(n.host+" is no longer supported. Please use <YOUR FIREBASE>.firebaseio.com instead"),r&&"undefined"!==r||"localhost"===n.domain||Cu("Cannot parse Firebase url. Please use https://<YOUR FIREBASE>.firebaseio.com"),n.secure||"undefined"!==typeof window&&window.location&&window.location.protocol&&-1!==window.location.protocol.indexOf("https:")&&Tu("Insecure Firebase access from a secure page. Please use https in calls to new Firebase().");var o="ws"===n.scheme||"wss"===n.scheme;return{repoInfo:new Ju(n.host,n.secure,r,o,t,"",r!==n.subdomain),path:new dc(n.pathString)}},zf=function(e){var t="",n="",r="",o="",i="",a=!0,s="https",u=443;if("string"===typeof e){var c=e.indexOf("//");c>=0&&(s=e.substring(0,c-1),e=e.substring(c+2));var l=e.indexOf("/");-1===l&&(l=e.length);var d=e.indexOf("?");-1===d&&(d=e.length),t=e.substring(0,Math.min(l,d)),l<d&&(o=function(e){for(var t="",n=e.split("/"),r=0;r<n.length;r++)if(n[r].length>0){var o=n[r];try{o=decodeURIComponent(o.replace(/\+/g," "))}catch(Cp){}t+="/"+o}return t}(e.substring(l,d)));var f=function(e){var t={};"?"===e.charAt(0)&&(e=e.substring(1));var n,r=wr(e.split("&"));try{for(r.s();!(n=r.n()).done;){var o=n.value;if(0!==o.length){var i=o.split("=");2===i.length?t[decodeURIComponent(i[0])]=decodeURIComponent(i[1]):Tu("Invalid query segment '".concat(o,"' in query '").concat(e,"'"))}}}catch(a){r.e(a)}finally{r.f()}return t}(e.substring(Math.min(e.length,d)));(c=t.indexOf(":"))>=0?(a="https"===s||"wss"===s,u=parseInt(t.substring(c+1),10)):c=t.length;var p=t.slice(0,c);if("localhost"===p.toLowerCase())n="localhost";else if(p.split(".").length<=2)n=p;else{var h=t.indexOf(".");r=t.substring(0,h).toLowerCase(),n=t.substring(h+1),i=r}"ns"in f&&(i=f.ns)}return{host:t,port:u,domain:n,subdomain:r,secure:a,scheme:s,pathString:o,namespace:i}},qf=function(){function e(t,n,r,o){En(this,e),this._repo=t,this._path=n,this._queryParams=r,this._orderByCalled=o}return vn(e,[{key:"key",get:function(){return Sc(this._path)?null:gc(this._path)}},{key:"ref",get:function(){return new Qf(this._repo,this._path)}},{key:"_queryIdentifier",get:function(){var e=ml(this._queryParams),t=wu(e);return"{}"===t?"default":t}},{key:"_queryObject",get:function(){return ml(this._queryParams)}},{key:"isEqual",value:function(t){if(!((t=Xa(t))instanceof e))return!1;var n=this._repo===t._repo,r=Tc(this._path,t._path),o=this._queryIdentifier===t._queryIdentifier;return n&&r&&o}},{key:"toJSON",value:function(){return this.toString()}},{key:"toString",value:function(){return this._repo.toString()+function(e){for(var t="",n=e.pieceNum_;n<e.pieces_.length;n++)""!==e.pieces_[n]&&(t+="/"+encodeURIComponent(String(e.pieces_[n])));return t||"/"}(this._path)}}]),e}();var Qf=function(e){ir(n,e);var t=lr(n);function n(e,r){return En(this,n),t.call(this,e,r,new gl,!1)}return vn(n,[{key:"parent",get:function(){var e=mc(this._path);return null===e?null:new n(this._repo,e)}},{key:"root",get:function(){for(var e=this;null!==e.parent;)e=e.parent;return e}}]),n}(qf);function Xf(e,t){return(e=Xa(e))._checkNotDeleted("ref"),void 0!==t?$f(e._root,t):e._root}function $f(e,t){var n,r,o,i;return null===pc((e=Xa(e))._path)?(n="child",r="path",i=!1,(o=t)&&(o=o.replace(/^\/*\.info(\/|$)/,"/")),gf(n,r,o,i)):gf("child","path",t,!1),new Qf(e._repo,_c(e._path,t))}function Zf(e,t){e=Xa(e),vf("set",e._path),pf("set",t,e._path,!1);var n=new wa;return Mf(e._repo,e._path,t,null,n.wrapCallback((function(){}))),n.promise}function ep(e,t){Ef("update",t,e._path,!1);var n=new wa;return function(e,t,n,r){xf(e,"update",{path:t.toString(),value:n});var o=!0,i=Nf(e),a={};if(Lu(n,(function(n,r){o=!1,a[n]=zd(_c(t,n),al(r),e.serverSyncTree_,i)})),o)_u("update() called with empty data.  Don't do anything."),kf(0,r,"ok",void 0);else{var s=Lf(e),u=Ld(e.serverSyncTree_,t,a,s);Sf(e.eventQueue_,u),e.server_.merge(t.toString(),n,(function(n,o){var i="ok"===n;i||Tu("update at "+t+" failed: "+n);var a=Md(e.serverSyncTree_,s,!i),u=a.length>0?Ff(e,t):t;yf(e.eventQueue_,u,a),kf(0,r,n,o)})),Lu(n,(function(n){var r=Hf(e,_c(t,n));Ff(e,r)})),yf(e.eventQueue_,t,[])}}(e._repo,e._path,t,n.wrapCallback((function(){}))),n.promise}!function(e){ya(!Td,"__referenceConstructor has already been defined"),Td=e}(Qf),function(e){ya(!Od,"__referenceConstructor has already been defined"),Od=e}(Qf);var tp={},np=!1;function rp(e,t,n,r,o){var i=r||e.options.databaseURL;void 0===i&&(e.options.projectId||Cu("Can't determine Firebase Database URL. Be sure to include  a Project ID when calling firebase.initializeApp()."),_u("Using default host for project ",e.options.projectId),i="".concat(e.options.projectId,"-default-rtdb.firebaseio.com"));var a,s=Jf(i,o),u=s.repoInfo,c=void 0;"undefined"!==typeof process&&(c={NODE_ENV:"production",PUBLIC_URL:"/heyauntie",WDS_SOCKET_HOST:void 0,WDS_SOCKET_PATH:void 0,WDS_SOCKET_PORT:void 0,FAST_REFRESH:!0}.FIREBASE_DATABASE_EMULATOR_HOST),c?(a=!0,i="http://".concat(c,"?ns=").concat(u.namespace),u=(s=Jf(i,o)).repoInfo):a=!s.repoInfo.secure;var l=o&&a?new Bu(Bu.OWNER):new Ku(e.name,e.options,t);mf("Invalid Firebase Database URL",s),Sc(s.path)||Cu("Database URL must point to the root of a Firebase Database (not including a child path).");var d=function(e,t,n,r){var o=tp[t.name];o||(o={},tp[t.name]=o);var i=o[e.toURLString()];i&&Cu("Database initialized multiple times. Please make sure the format of the database URL matches with each database() call.");return i=new Af(e,np,n,r),o[e.toURLString()]=i,i}(u,e,l,new Fu(e.name,n));return new op(d,e)}var op=function(){function e(t,n){En(this,e),this._repoInternal=t,this.app=n,this.type="database",this._instanceStarted=!1}return vn(e,[{key:"_repo",get:function(){return this._instanceStarted||(Rf(this._repoInternal,this.app.options.appId,this.app.options.databaseAuthVariableOverride),this._instanceStarted=!0),this._repoInternal}},{key:"_root",get:function(){return this._rootInternal||(this._rootInternal=new Qf(this._repo,fc())),this._rootInternal}},{key:"_delete",value:function(){return null!==this._rootInternal&&(!function(e,t){var n=tp[t];n&&n[e.key]===e||Cu("Database ".concat(t,"(").concat(e.repoInfo_,") has already been deleted.")),Df(e),delete n[e.key]}(this._repo,this.app.name),this._repoInternal=null,this._rootInternal=null),Promise.resolve()}},{key:"_checkNotDeleted",value:function(e){null===this._rootInternal&&Cu("Cannot call "+e+" on a deleted database.")}}]),e}();wc.prototype.simpleListen=function(e,t){this.sendRequest("q",{p:e},t)},wc.prototype.echo=function(e,t){this.sendRequest("echo",{d:e},t)};!function(e){!function(e){au=e}("9.9.2"),Us(new $a("database",(function(e,t){var n=t.instanceIdentifier;return rp(e.getProvider("app").getImmediate(),e.getProvider("auth-internal"),e.getProvider("app-check-internal"),n)}),"PUBLIC").setMultipleInstances(!0)),js(ou,iu,e),js(ou,iu,"esm2017")}();var ip=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};if("object"!==typeof t){var n=t;t={name:n}}var r=Object.assign({name:Ls,automaticDataCollectionEnabled:!1},t),o=r.name;if("string"!==typeof o||!o)throw Fs.create("bad-app-name",{appName:String(o)});var i=Ds.get(o);if(i){if(Ha(e,i.options)&&Ha(r,i.config))return i;throw Fs.create("duplicate-app",{appName:o})}var a,s=new rs(o),u=wr(xs.values());try{for(u.s();!(a=u.n()).done;){var c=a.value;s.addComponent(c)}}catch(d){u.e(d)}finally{u.f()}var l=new Ks(e,r,s);return Ds.set(o,l),l}({apiKey:"AIzaSyBtZUSp8I7h_WSpUTkdRhHyFDAu-csiMzM",authDomain:"heyauntie-c1850.firebaseapp.com",databaseURL:"https://heyauntie-c1850-default-rtdb.firebaseio.com",projectId:"heyauntie-c1850",storageBucket:"heyauntie-c1850.appspot.com",messagingSenderId:"606307744470",appId:"1:606307744470:web:c2d43f53a6c6aa13226777",measurementId:"G-HYEH8567EV"}),ap=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Bs(),t=arguments.length>1?arguments[1]:void 0;return Ys(e,"database").getImmediate({identifier:t})}(ip);var sp=function(){var e=s((0,t.useState)(null),2),n=e[0],r=e[1],o=s((0,t.useState)(null),2),i=o[0],a=o[1],u=s((0,t.useState)(null),2),c=u[0],l=u[1],d=s((0,t.useState)(null),2),f=d[0],p=d[1],h=s((0,t.useState)(null),2),E=h[0],g=h[1],v=function(e){var t=e.target,n=t.id,o=t.value;"firstName"===n&&r(o),"lastName"===n&&a(o),"email"===n&&l(o),"password"===n&&p(o),"confirmPassword"===n&&g(o)},m=function(){var e={firstName:n,lastName:i,email:c,password:f,confirmPassword:E},t={};return t["/"+function(e,t){e=Xa(e),vf("push",e._path),pf("push",t,e._path,!0);var n,r=Of(e._repo),o=dl(r),i=$f(e,o),a=$f(e,o);return n=null!=t?Zf(a,t).then((function(){return a})):Promise.resolve(a),i.then=n.then.bind(n),i.catch=n.then.bind(n,void 0),i}($f(Xf(ap),"posts")).key]=e,ep(Xf(ap),t)};return(0,Q.jsxs)("div",{class:"nav-bg",children:[(0,Q.jsx)(na,{}),(0,Q.jsxs)("div",{className:"form",children:[(0,Q.jsxs)("div",{className:"form-body",children:[(0,Q.jsx)("div",{children:(0,Q.jsx)("h1",{class:"register-name",children:"Create an Account"})}),(0,Q.jsx)("br",{}),(0,Q.jsxs)("div",{className:"username",children:[(0,Q.jsx)("label",{className:"form__label",for:"firstName",children:"First Name: "}),(0,Q.jsx)("input",{className:"form__input",type:"text",value:n,onChange:function(e){return v(e)},id:"firstName",placeholder:"First Name"})]}),(0,Q.jsxs)("div",{className:"lastname",children:[(0,Q.jsx)("label",{className:"form__label",for:"lastName",children:"Last Name: "}),(0,Q.jsx)("input",{type:"text",name:"",id:"lastName",value:i,className:"form__input",onChange:function(e){return v(e)},placeholder:"LastName"})]}),(0,Q.jsxs)("div",{className:"email",children:[(0,Q.jsx)("label",{className:"form__label",for:"email",children:"Email: "}),(0,Q.jsx)("input",{type:"email",id:"email",className:"form__input",value:c,onChange:function(e){return v(e)},placeholder:"Email"})]}),(0,Q.jsxs)("div",{className:"password",children:[(0,Q.jsx)("label",{className:"form__label",for:"password",children:"Password: "}),(0,Q.jsx)("input",{className:"form__input",type:"password",id:"password",value:f,onChange:function(e){return v(e)},placeholder:"Password"})]}),(0,Q.jsxs)("div",{className:"confirm-password",children:[(0,Q.jsx)("label",{className:"form__label",for:"confirmPassword",children:"Confirm Password: "}),(0,Q.jsx)("input",{className:"form__input",type:"password",id:"confirmPassword",value:E,onChange:function(e){return v(e)},placeholder:"Confirm Password"})]})]}),(0,Q.jsx)("br",{}),(0,Q.jsx)("div",{class:"footer",children:(0,Q.jsx)("a",{href:"/dashboard",children:(0,Q.jsx)("button",{onClick:function(){return m()},type:"submit",class:"register-btn",children:"Register"})})})]})]})},up=function(){return(0,Q.jsx)(Q.Fragment,{children:(0,Q.jsx)(sp,{})})},cp=n(295),lp=n.n(cp),dp=n(111),fp="21600108a5b2d4d8",pp="21600108a5b2d4d8",hp="supergroup",Ep=function(){function e(){En(this,e)}return vn(e,null,[{key:"init",value:function(){return dp.CometChat.init(e.appId)}},{key:"getTextMessage",value:function(e,t,n){return"user"===n?new dp.CometChat.TextMessage(e,t,dp.CometChat.MESSAGE_TYPE.TEXT,dp.CometChat.RECEIVER_TYPE.USER):new dp.CometChat.TextMessage(e,t,dp.CometChat.MESSAGE_TYPE.TEXT,dp.CometChat.RECEIVER_TYPE.GROUP)}},{key:"getLoggedinUser",value:function(){return dp.CometChat.getLoggedinUser()}},{key:"login",value:function(e){return dp.CometChat.login(e,this.apiKey)}},{key:"getGroupMessages",value:function(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:30,r=(new dp.CometChat.MessagesRequestBuilder).setGUID(e).setLimit(n).build();return t(),r.fetchPrevious()}},{key:"sendGroupMessage",value:function(e,t){var n=this.getTextMessage(e,t,"group");return dp.CometChat.sendMessage(n)}},{key:"joinGroup",value:function(e){return dp.CometChat.joinGroup(e,dp.CometChat.GROUP_TYPE.PUBLIC,"")}},{key:"addMessageListener",value:function(e){dp.CometChat.addMessageListener(this.LISTENER_KEY_MESSAGE,new dp.CometChat.MessageListener({onTextMessageReceived:function(t){e(t)}}))}}]),e}();Ep.LISTENER_KEY_MESSAGE="msglistener",Ep.appId=fp,Ep.apiKey=pp,Ep.LISTENER_KEY_GROUP="grouplistener";var gp=function(e){ir(n,e);var t=lr(n);function n(e){var r;return En(this,n),(r=t.call(this,e)).onSubmit=function(e){""!==r.state.username&&(e.preventDefault(),r.login())},r.login=function(){r.toggleIsSubmitting(),Ep.login(r.state.username).then((function(e){r.setState({user:e,isAuthenticated:!0})})).catch((function(e){r.setState({errorMessage:"Please enter a valid username"}),r.toggleIsSubmitting(),console.log(e)}))},r.toggleIsSubmitting=function(){r.setState((function(e){return{isSubmitting:!e.isSubmitting}}))},r.handleInputChange=function(e){r.setState({username:e.target.value})},r.state={username:"",isAuthenticated:!1,user:null,isSubmitting:!1,errorMessage:""},r}return vn(n,[{key:"render",value:function(){return this.state.isAuthenticated?(0,Q.jsx)(U,{to:{pathname:"/chat",state:{user:this.state.user}}}):(0,Q.jsx)("div",{class:"community-bg",children:(0,Q.jsxs)("div",{className:"App",children:[(0,Q.jsx)("h1",{class:"community-header",children:"Community Lounge"}),(0,Q.jsx)("br",{}),(0,Q.jsx)("p",{children:"Create an account through your CometChat dashboard or login with one of our test users, superhero1, superhero2, etc."}),(0,Q.jsxs)("form",{className:"form",onSubmit:this.onSubmit,children:[(0,Q.jsx)("input",{onChange:this.handleInputChange,type:"text"}),(0,Q.jsx)("span",{className:"error",children:this.state.errorMessage}),this.state.isSubmitting?(0,Q.jsx)("p",{children:"Please write your message!"}):(0,Q.jsx)("input",{type:"submit",disabled:""===this.state.username,value:"LOGIN"})]})]})})}}]),n}(t.Component),vp=gp,mp=function(e){ir(n,e);var t=lr(n);function n(e){var r;return En(this,n),(r=t.call(this,e)).sendMessage=function(){Ep.sendGroupMessage(r.GUID,r.state.messageText).then((function(e){console.log("Message sent successfully:",e),r.setState({messageText:null})}),(function(e){"ERR_NOT_A_MEMBER"===e.code&&Ep.joinGroup(r.GUID).then((function(e){r.sendMessage()}))}))},r.scrollToBottom=function(){var e=document.getElementById("chatList");e.scrollTop=e.scrollHeight},r.handleSubmit=function(e){e.preventDefault(),r.sendMessage(),e.target.reset()},r.handleChange=function(e){r.setState({messageText:e.target.value})},r.getUser=function(){Ep.getLoggedinUser().then((function(e){console.log("user details:",{user:e}),r.setState({user:e})})).catch((function(e){"USER_NOT_LOGED_IN"===e.error.code&&r.setState({isAuthenticated:!1})}))},r.messageListener=function(){Ep.addMessageListener((function(e,t){if(t)return console.log("error: ".concat(t));r.setState((function(t){return{groupMessage:[].concat(hn(t.groupMessage),[e])}}),(function(){r.scrollToBottom()}))}))},r.state={receiverID:"",messageText:null,groupMessage:[],user:{},isAuthenticated:!0},r.GUID=hp,r}return vn(n,[{key:"componentDidMount",value:function(){this.getUser(),this.messageListener(),Ep.joinGroup(this.GUID)}},{key:"render",value:function(){var e=this;return this.state.isAuthenticated?(0,Q.jsxs)("div",{className:"chatWindow",children:[(0,Q.jsx)("ul",{className:"chat",id:"chatList",children:this.state.groupMessage.map((function(t){return(0,Q.jsx)("div",{children:e.state.user.uid===t.sender.uid?(0,Q.jsx)("li",{className:"self",children:(0,Q.jsxs)("div",{className:"msg",children:[(0,Q.jsx)("p",{children:t.sender.uid}),(0,Q.jsxs)("div",{className:"message",children:[" ",t.data.text]})]})}):(0,Q.jsx)("li",{className:"other",children:(0,Q.jsxs)("div",{className:"msg",children:[(0,Q.jsx)("p",{children:t.sender.uid}),(0,Q.jsxs)("div",{className:"message",children:[" ",t.data.text," "]})]})})},t.id)}))}),(0,Q.jsx)("div",{className:"chatInputWrapper",children:(0,Q.jsx)("form",{onSubmit:this.handleSubmit,children:(0,Q.jsx)("input",{className:"textarea input",type:"text",placeholder:"Enter your message...",onChange:this.handleChange})})})]}):(0,Q.jsx)(U,{to:"/"})}}]),n}(t.Component),_p=mp,Sp=function(){return(0,Q.jsxs)(Q.Fragment,{children:[(0,Q.jsx)(vp,{}),(0,Q.jsx)(_p,{})]})};var yp=function(){return(0,Q.jsx)(Q.Fragment,{children:(0,Q.jsx)(B,{children:(0,Q.jsxs)(F,{children:[(0,Q.jsx)(Y,{path:"/",element:(0,Q.jsx)(oa,{})}),(0,Q.jsx)(Y,{path:"/registrationform",element:(0,Q.jsx)(up,{})}),(0,Q.jsx)(Y,{path:"/aunteechat",element:(0,Q.jsx)(lp(),{})}),(0,Q.jsx)(Y,{path:"/communitylounge",element:(0,Q.jsx)(Sp,{})}),(0,Q.jsx)(Y,{path:"/login",element:(0,Q.jsx)(fa,{})}),(0,Q.jsx)(Y,{path:"/survey",element:(0,Q.jsx)(la,{})}),(0,Q.jsx)(Y,{path:"/dashboard",element:(0,Q.jsx)(aa,{})}),(0,Q.jsx)(Y,{path:"/profilemain",element:(0,Q.jsx)(sa,{})})]})})})};r.createRoot(document.getElementById("root")).render((0,Q.jsx)(t.StrictMode,{children:(0,Q.jsx)(yp,{})})),o()}()}();
//# sourceMappingURL=main.878c0dee.js.map